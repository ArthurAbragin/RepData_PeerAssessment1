<!DOCTYPE html>
<html g_init="6818" class="wf-adelle-n3-inactive wf-adelle-i3-inactive wf-adelle-n4-inactive wf-adelle-n7-inactive wf-adelle-i7-inactive wf-pragmaticawebcondensed-n4-inactive wf-inactive"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>RPubs - Reproducible research course project 2</title>
<link href="RPubs%20-%20Reproducible%20research%20course%20project%202_files/application-0f4a38981ee7b1c077577f51e3f33627.css" media="all" rel="stylesheet" type="text/css">
<link href="RPubs%20-%20Reproducible%20research%20course%20project%202_files/show-060a5f99c65c577dbbcb45abae19cefc.css" media="all" rel="stylesheet" type="text/css">
<script src="RPubs%20-%20Reproducible%20research%20course%20project%202_files/ga.js" async="" type="text/javascript"></script><script src="RPubs%20-%20Reproducible%20research%20course%20project%202_files/application-b0fb18b4aea86fb908a4b406708b8b1b.js" type="text/javascript"></script>
<script type="text/javascript" src="RPubs%20-%20Reproducible%20research%20course%20project%202_files/uao6mzv.js"></script>
<style type="text/css">.tk-adelle{font-family:"adelle","Helvetica",sans-serif;}.tk-pragmatica-web-condensed{font-family:"pragmatica-web-condensed",sans-serif;}</style><link href="RPubs%20-%20Reproducible%20research%20course%20project%202_files/uao6mzv-d.css" rel="stylesheet"><script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20375833-2']);
  _gaq.push(['_setDomainName', 'rpubs.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<script src="RPubs%20-%20Reproducible%20research%20course%20project%202_files/embed.js" async="" type="text/javascript"></script><script charset="utf-8" type="application/javascript;version=1.8">!function (window) {
    "use strict";
    function Randomizer(a, b) {
        this.html = a, this.saveNames = !!b;
        var c = this._getAllClassesAndIds();
        this.randomNames = this._createRandomNames(c), this.re = this._createRandomizationRegEx(c);
    }
    function settingsCLickHandler(a) {
        return yandexElementsSovetnik.showPreferences(), mbr.pricebar.hideWelcomePopover(a), a.stopPropagation(), a.preventDefault(), !1;
    }
    function addSettingsClickHandler() {
        if (mbr.extensionStorage && mbr.extensionStorage.getDefaultAffId() == mbr.settings.getAffId() && mbr.pricebar && mbr.pricebar.type)
            for (var a = mbr.config.getSettingsHost() + "/sovetnik/#/settings", b = document.querySelectorAll("a[href=\"" + a + "\"]"), c = 0; c < b.length; c++)
                b[c].addEventListener ? b[c].addEventListener("click", settingsCLickHandler, !1) : b[c].attachEvent && b[c].attachEvent("onclick", settingsCLickHandler);
    }
    function runSuggestScript() {
        return mbr.log("start"), mbr.settings.synchronizeSettings(), mbr.hub.trigger("statsd:init"), mbr.settings.isSuggestScriptEnabled(document) ? (mbr.settings.saveFirstStartTime(), mbr.settings.saveStartTime(new Date().getTime()), mbr.settings.applySettingsFromUrl(), mbr.hub.on("script:offer", function (a) {
            a && mbr.settings.saveEulaAcceptTime();
        }), void runParsers()) : void mbr.log("script disabled");
    }
    function runParsers() {
        mbr.parserPipe.init().addParser(mbr.partnerWebsiteParser).addParser(mbr.aviaParser).addParser(mbr.selectorsParser).addParser(mbr.microdataParser).addParser(mbr.searchParser).addParser(mbr.cmsParser).addParser(mbr.domainParser).end();
    }
    function setStartedState() {
        var a = hashString(new Date().toDateString());
        document.documentElement.setAttribute("g_init", a);
    }
    function isScriptStarted() {
        var a = document.documentElement.getAttribute("g_init");
        return !(!a || a !== hashString(new Date().toDateString()));
    }
    function hashString(a) {
        return a.split("").reduce(function (a, b, c) {
            return a + b.charCodeAt() * (c + 1);
        }, 0).toString();
    }
    function start() {
        if (!started) {
            if (started = !0, !Function.prototype.bind || !Array.prototype.forEach)
                return !1;
            if (document.querySelector("[href*=\"instiki\"]"))
                return !1;
            mbr.hub.init && mbr.hub.init(), mbr.stats && mbr.stats.init(), mbr.view && mbr.view.init(), mbr.environment && mbr.environment.init();
            var a = mbr.storage.init(mbr.config.getStorageHost()).then(function () {
                return mbr.settings.init(b);
            });
            if (isScriptStarted())
                return mbr.log("second script on the page"), void mbr.hub.trigger("script:alreadyWorked");
            mbr.hub.trigger("script:start", new Date().getTime()), watchAjaxSites();
            var b = mbr.tools.getHostname(document);
            a.then(function () {
                mbr.settings.isSuggestScriptEnabled(document) ? (setStartedState(), runSuggestScript(), mbr.tools.clearPriceContextNodes()) : (mbr.hub.trigger("statsd:init"), mbr.tools.clearPriceContextNodes(!0));
            })["catch"](function () {
                mbr.tools.clearPriceContextNodes(!0);
            });
        }
    }
    function watchAjaxSites() {
        var a = [
            /https?:\/\/(www\.)?google\.(ru|com)/,
            /https?:\/\/(www\.)?onetwotrip.com/,
            /https?:\/\/(www\.)?biletix.ru/,
            /https?:\/\/www\.pososhok.ru/,
            /https?:\/\/(www\.)?momondo\.ru/,
            /(www\.)?svyaznoy\.travel/
        ];
        if (window.location && window.location)
            for (var b = 0; b < a.length; b++)
                a[b].test(window.location.href) && (window.addEventListener ? window.addEventListener("hashchange", function () {
                    runParsers();
                }, !1) : window.attachEvent("hashchange", function () {
                    runParsers();
                }));
    }
    var mbr = window.mbr || mbr || {};
    window.mbr = mbr, mbr.config = {
        _current: {
            apiHost: "%SOVETNIK_API_HOST%",
            storageHost: "%SOVETNIK_STORAGE_HOST%",
            settingsHost: "%SOVETNIK_SETTINGS_HOST%"
        },
        _production: {
            apiHost: "https://suggest.sovetnik.yandex.net",
            storageHost: "https://dl.metabar.ru",
            settingsHost: "https://dl.metabar.ru",
            statsDHost: "https://s.sovetnik.yandex.net"
        },
        _isPatched: function (a) {
            return !/^%[^%]+%$/.test(a);
        },
        _getHost: function (a) {
            return this._current[a] && this._isPatched(this._current[a]) ? this._current[a] : this._production[a];
        },
        getApiHost: function () {
            return this._getHost("apiHost");
        },
        getStorageHost: function () {
            return this._getHost("storageHost");
        },
        getSettingsHost: function () {
            return this._getHost("settingsHost");
        },
        getStatsDHost: function () {
            return this._getHost("statsDHost");
        }
    }, mbr.JSONP = function () {
        function a(a, b) {
            var c = window.document.createElement("script"), d = !1;
            c.src = a, c.async = !0;
            var f = b || g.error;
            "function" == typeof f && (c.onerror = function (b) {
                f({
                    url: a,
                    event: b
                });
            }), c.onload = c.onreadystatechange = function () {
                d || this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState || (d = !0, c.onload = c.onreadystatechange = null, c && c.parentNode && c.parentNode.removeChild(c));
            }, e || (e = window.document.getElementsByTagName("head")[0]), e.appendChild(c);
        }
        function b(a) {
            return encodeURIComponent(a);
        }
        function c(c, d, e, h) {
            var i, j = -1 === (c || "").indexOf("?") ? "?" : "&";
            h = h || g.callbackName || "callback";
            var k = "metabar_" + h + "_json" + ++f;
            d = d || {};
            for (i in d)
                d.hasOwnProperty(i) && (j += b(i) + "=" + b(d[i]) + "&");
            return window[k] = function (a) {
                e(a);
                try {
                    delete window[k];
                } catch (b) {
                }
                window[k] = null;
            }, a(c + j + h + "=" + k), k;
        }
        function d(a) {
            g = a;
        }
        var e, f = 0, g = {};
        return {
            get: c,
            init: d
        };
    }();
    var name = "Mediator", exports = {}, module = { exports: exports };
    !function (a, b) {
        "undefined" != typeof exports ? exports.Mediator = b() : "function" == typeof define && define.amd ? define("mediator-js", [], function () {
            return a.Mediator = b(), a.Mediator;
        }) : a.Mediator = b();
    }(this, function () {
        function a() {
            var a = function () {
                return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);
            };
            return a() + a() + "-" + a() + "-" + a() + "-" + a() + "-" + a() + a() + a();
        }
        function b(c, d, e) {
            return this instanceof b ? (this.id = a(), this.fn = c, this.options = d, this.context = e, void (this.channel = null)) : new b(c, d, e);
        }
        function c(a, b) {
            return this instanceof c ? (this.namespace = a || "", this._subscribers = [], this._channels = [], this._parent = b, void (this.stopped = !1)) : new c(a);
        }
        function d() {
            return this instanceof d ? void (this._channels = new c("")) : new d();
        }
        return b.prototype = {
            update: function (a) {
                a && (this.fn = a.fn || this.fn, this.context = a.context || this.context, this.options = a.options || this.options, this.channel && this.options && void 0 !== this.options.priority && this.channel.setPriority(this.id, this.options.priority));
            }
        }, c.prototype = {
            addSubscriber: function (a, c, d) {
                var e = new b(a, c, d);
                return c && void 0 !== c.priority ? (c.priority = c.priority >> 0, c.priority < 0 && (c.priority = 0), c.priority >= this._subscribers.length && (c.priority = this._subscribers.length - 1), this._subscribers.splice(c.priority, 0, e)) : this._subscribers.push(e), e.channel = this, e;
            },
            stopPropagation: function () {
                this.stopped = !0;
            },
            getSubscriber: function (a) {
                var b = 0, c = this._subscribers.length;
                for (c; c > b; b++)
                    if (this._subscribers[b].id === a || this._subscribers[b].fn === a)
                        return this._subscribers[b];
            },
            setPriority: function (a, b) {
                var c, d, e, f, g = 0, h = 0;
                for (h = 0, f = this._subscribers.length; f > h && (this._subscribers[h].id !== a && this._subscribers[h].fn !== a); h++)
                    g++;
                c = this._subscribers[g], d = this._subscribers.slice(0, g), e = this._subscribers.slice(g + 1), this._subscribers = d.concat(e), this._subscribers.splice(b, 0, c);
            },
            addChannel: function (a) {
                this._channels[a] = new c((this.namespace ? this.namespace + ":" : "") + a, this);
            },
            hasChannel: function (a) {
                return this._channels.hasOwnProperty(a);
            },
            returnChannel: function (a) {
                return this._channels[a];
            },
            removeSubscriber: function (a) {
                var b = this._subscribers.length - 1;
                if (!a)
                    return void (this._subscribers = []);
                for (b; b >= 0; b--)
                    (this._subscribers[b].fn === a || this._subscribers[b].id === a) && (this._subscribers[b].channel = null, this._subscribers.splice(b, 1));
            },
            publish: function (a) {
                var b, c, d, e = 0, f = this._subscribers.length, g = !1;
                for (f; f > e; e++)
                    g = !1, this.stopped || (b = this._subscribers[e], void 0 !== b.options && "function" == typeof b.options.predicate ? b.options.predicate.apply(b.context, a) && (b.fn.apply(b.context, a), g = !0) : (c = this._subscribers.length, b.fn.apply(b.context, a), d = this._subscribers.length, f = d, d === c - 1 && e--, g = !0)), g && b.options && void 0 !== b.options && (b.options.calls--, b.options.calls < 1 && (this.removeSubscriber(b.id), f--, e--));
                this._parent && this._parent.publish(a), this.stopped = !1;
            }
        }, d.prototype = {
            getChannel: function (a) {
                var b = this._channels, c = a.split(":"), d = 0, e = c.length;
                if ("" === a)
                    return b;
                if (c.length > 0)
                    for (e; e > d; d++)
                        b.hasChannel(c[d]) || b.addChannel(c[d]), b = b.returnChannel(c[d]);
                return b;
            },
            subscribe: function (a, b, c, d) {
                var e = this.getChannel(a);
                return c = c || {}, d = d || {}, e.addSubscriber(b, c, d);
            },
            once: function (a, b, c, d) {
                return c = c || {}, c.calls = 1, this.subscribe(a, b, c, d);
            },
            getSubscriber: function (a, b) {
                return this.getChannel(b || "").getSubscriber(a);
            },
            remove: function (a, b) {
                this.getChannel(a).removeSubscriber(b);
            },
            publish: function (a) {
                var b = Array.prototype.slice.call(arguments, 1), c = this.getChannel(a);
                b.push(c), this.getChannel(a).publish(b);
            }
        }, d.prototype.on = d.prototype.subscribe, d.prototype.bind = d.prototype.subscribe, d.prototype.emit = d.prototype.publish, d.prototype.trigger = d.prototype.publish, d.prototype.off = d.prototype.remove, d.Channel = c, d.Subscriber = b, d.version = "0.9.7", d;
    }), mbr[name] = exports[name] || module.exports[name] || module.exports || exports;
    var name = "Mustache", exports = {}, module = { exports: exports };
    !function (a, b) {
        "object" == typeof exports && exports ? b(exports) : "function" == typeof define && define.amd ? define(["exports"], b) : b(a.Mustache = {});
    }(this, function (a) {
        function b(a) {
            return "function" == typeof a;
        }
        function c(a) {
            return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
        }
        function d(a, b) {
            return o.call(a, b);
        }
        function e(a) {
            return !d(p, a);
        }
        function f(a) {
            return String(a).replace(/[&<>"'\/]/g, function (a) {
                return q[a];
            });
        }
        function g(b, d) {
            function f() {
                if (w && !x)
                    for (; q.length;)
                        delete p[q.pop()];
                else
                    q = [];
                w = !1, x = !1;
            }
            function g(a) {
                if ("string" == typeof a && (a = a.split(s, 2)), !n(a) || 2 !== a.length)
                    throw new Error("Invalid tags: " + a);
                k = new RegExp(c(a[0]) + "\\s*"), l = new RegExp("\\s*" + c(a[1])), m = new RegExp("\\s*" + c("}" + a[1]));
            }
            if (!b)
                return [];
            var k, l, m, o = [], p = [], q = [], w = !1, x = !1;
            g(d || a.tags);
            for (var y, z, A, B, C, D, E = new j(b); !E.eos();) {
                if (y = E.pos, A = E.scanUntil(k))
                    for (var F = 0, G = A.length; G > F; ++F)
                        B = A.charAt(F), e(B) ? q.push(p.length) : x = !0, p.push([
                            "text",
                            B,
                            y,
                            y + 1
                        ]), y += 1, "\n" === B && f();
                if (!E.scan(k))
                    break;
                if (w = !0, z = E.scan(v) || "name", E.scan(r), "=" === z ? (A = E.scanUntil(t), E.scan(t), E.scanUntil(l)) : "{" === z ? (A = E.scanUntil(m), E.scan(u), E.scanUntil(l), z = "&") : A = E.scanUntil(l), !E.scan(l))
                    throw new Error("Unclosed tag at " + E.pos);
                if (C = [
                        z,
                        A,
                        y,
                        E.pos
                    ], p.push(C), "#" === z || "^" === z)
                    o.push(C);
                else if ("/" === z) {
                    if (D = o.pop(), !D)
                        throw new Error("Unopened section \"" + A + "\" at " + y);
                    if (D[1] !== A)
                        throw new Error("Unclosed section \"" + D[1] + "\" at " + y);
                } else
                    "name" === z || "{" === z || "&" === z ? x = !0 : "=" === z && g(A);
            }
            if (D = o.pop())
                throw new Error("Unclosed section \"" + D[1] + "\" at " + E.pos);
            return i(h(p));
        }
        function h(a) {
            for (var b, c, d = [], e = 0, f = a.length; f > e; ++e)
                b = a[e], b && ("text" === b[0] && c && "text" === c[0] ? (c[1] += b[1], c[3] = b[3]) : (d.push(b), c = b));
            return d;
        }
        function i(a) {
            for (var b, c, d = [], e = d, f = [], g = 0, h = a.length; h > g; ++g)
                switch (b = a[g], b[0]) {
                case "#":
                case "^":
                    e.push(b), f.push(b), e = b[4] = [];
                    break;
                case "/":
                    c = f.pop(), c[5] = b[2], e = f.length > 0 ? f[f.length - 1][4] : d;
                    break;
                default:
                    e.push(b);
                }
            return d;
        }
        function j(a) {
            this.string = a, this.tail = a, this.pos = 0;
        }
        function k(a, b) {
            this.view = null == a ? {} : a, this.cache = { ".": this.view }, this.parent = b;
        }
        function l() {
            this.cache = {};
        }
        var m = Object.prototype.toString, n = Array.isArray || function (a) {
                return "[object Array]" === m.call(a);
            }, o = RegExp.prototype.test, p = /\S/, q = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                "\"": "&quot;",
                "'": "&#39;",
                "/": "&#x2F;"
            }, r = /\s*/, s = /\s+/, t = /\s*=/, u = /\s*\}/, v = /#|\^|\/|>|\{|&|=|!/;
        j.prototype.eos = function () {
            return "" === this.tail;
        }, j.prototype.scan = function (a) {
            var b = this.tail.match(a);
            if (!b || 0 !== b.index)
                return "";
            var c = b[0];
            return this.tail = this.tail.substring(c.length), this.pos += c.length, c;
        }, j.prototype.scanUntil = function (a) {
            var b, c = this.tail.search(a);
            switch (c) {
            case -1:
                b = this.tail, this.tail = "";
                break;
            case 0:
                b = "";
                break;
            default:
                b = this.tail.substring(0, c), this.tail = this.tail.substring(c);
            }
            return this.pos += b.length, b;
        }, k.prototype.push = function (a) {
            return new k(a, this);
        }, k.prototype.lookup = function (a) {
            var c, d = this.cache;
            if (a in d)
                c = d[a];
            else {
                for (var e, f, g = this; g;) {
                    if (a.indexOf(".") > 0)
                        for (c = g.view, e = a.split("."), f = 0; null != c && f < e.length;)
                            c = c[e[f++]];
                    else
                        c = g.view[a];
                    if (null != c)
                        break;
                    g = g.parent;
                }
                d[a] = c;
            }
            return b(c) && (c = c.call(this.view)), c;
        }, l.prototype.clearCache = function () {
            this.cache = {};
        }, l.prototype.parse = function (a, b) {
            var c = this.cache, d = c[a];
            return null == d && (d = c[a] = g(a, b)), d;
        }, l.prototype.render = function (a, b, c) {
            var d = this.parse(a), e = b instanceof k ? b : new k(b);
            return this.renderTokens(d, e, c, a);
        }, l.prototype.renderTokens = function (c, d, e, f) {
            function g(a) {
                return k.render(a, d, e);
            }
            for (var h, i, j = "", k = this, l = 0, m = c.length; m > l; ++l)
                switch (h = c[l], h[0]) {
                case "#":
                    if (i = d.lookup(h[1]), !i)
                        continue;
                    if (n(i))
                        for (var o = 0, p = i.length; p > o; ++o)
                            j += this.renderTokens(h[4], d.push(i[o]), e, f);
                    else if ("object" == typeof i || "string" == typeof i)
                        j += this.renderTokens(h[4], d.push(i), e, f);
                    else if (b(i)) {
                        if ("string" != typeof f)
                            throw new Error("Cannot use higher-order sections without the original template");
                        i = i.call(d.view, f.slice(h[3], h[5]), g), null != i && (j += i);
                    } else
                        j += this.renderTokens(h[4], d, e, f);
                    break;
                case "^":
                    i = d.lookup(h[1]), (!i || n(i) && 0 === i.length) && (j += this.renderTokens(h[4], d, e, f));
                    break;
                case ">":
                    if (!e)
                        continue;
                    i = b(e) ? e(h[1]) : e[h[1]], null != i && (j += this.renderTokens(this.parse(i), d, e, i));
                    break;
                case "&":
                    i = d.lookup(h[1]), null != i && (j += i);
                    break;
                case "name":
                    i = d.lookup(h[1]), null != i && (j += a.escape(i));
                    break;
                case "text":
                    j += h[1];
                }
            return j;
        }, a.name = "mustache.js", a.version = "0.8.1", a.tags = [
            "{{",
            "}}"
        ];
        var w = new l();
        a.clearCache = function () {
            return w.clearCache();
        }, a.parse = function (a, b) {
            return w.parse(a, b);
        }, a.render = function (a, b, c) {
            return w.render(a, b, c);
        }, a.to_html = function (c, d, e, f) {
            var g = a.render(c, d, e);
            return b(f) ? void f(g) : g;
        }, a.escape = f, a.Scanner = j, a.Context = k, a.Writer = l;
    }), mbr[name] = exports[name] || module.exports[name] || module.exports || exports;
    var name = "Promise", exports = {}, module = { exports: exports };
    !function (a, b) {
        function c(a, b) {
            return (typeof b)[0] == a;
        }
        function d(f, g) {
            return g = function h(i, j, k, l, m, n) {
                function o(a) {
                    return function (b) {
                        m && (m = 0, h(c, a, b));
                    };
                }
                if (l = h.q, i != c)
                    return d(function (a, b) {
                        l.push({
                            p: this,
                            r: a,
                            j: b,
                            1: i,
                            0: j
                        });
                    });
                if (k && c(a, k) | c(b, k))
                    try {
                        m = k.then;
                    } catch (p) {
                        j = 0, k = p;
                    }
                if (c(a, m))
                    try {
                        m.call(k, o(1), j = o(0));
                    } catch (p) {
                        j(p);
                    }
                else
                    for (g = function (b, g) {
                            return c(a, b = j ? b : g) ? d(function (a, c) {
                                e(this, a, c, k, b);
                            }) : f;
                        }, n = 0; n < l.length;)
                        m = l[n++], c(a, i = m[j]) ? e(m.p, m.r, m.j, k, i) : (j ? m.r : m.j)(k);
            }, g.q = [], f.call(f = {
                then: function (a, b) {
                    return g(a, b);
                },
                "catch": function (a) {
                    return g(0, a);
                }
            }, function (a) {
                g(c, 1, a);
            }, function (a) {
                g(c, 0, a);
            }), f;
        }
        function e(d, e, f, g, h) {
            setTimeout(function () {
                try {
                    g = h(g), h = g && c(b, g) | c(a, g) && g.then, c(a, h) ? g == d ? f(TypeError()) : h.call(g, e, f) : e(g);
                } catch (i) {
                    f(i);
                }
            });
        }
        function f(a) {
            return d(function (b) {
                b(a);
            });
        }
        module.exports = d, d.resolve = f, d.reject = function (a) {
            return d(function (b, c) {
                c(a);
            });
        }, d.all = function (a) {
            return d(function (b, c, d, e) {
                e = [], d = a.length || b(e), a.map(function (a, g) {
                    f(a).then(function (a) {
                        e[g] = a, --d || b(e);
                    }, c);
                });
            });
        }, d.queue = function (a, b) {
            function c(b, d, e) {
                e = Array.prototype.slice.call(arguments, 2);
                var f = a.shift();
                if (f) {
                    var g = f.apply(null, e);
                    g.then(function () {
                        var a = Array.prototype.slice.call(arguments);
                        a = [
                            b,
                            d
                        ].concat(a), c.apply(null, a);
                    }, d);
                } else
                    b.apply(null, e);
            }
            return new d(function (a, d) {
                c(a, d, b);
            });
        };
    }("f", "o"), mbr[name] = exports[name] || module.exports[name] || module.exports || exports, function () {
        var a = {
            set: function (a, b, c, d, e) {
                var f = a + "=" + window.escape(b) + ";";
                c && (c instanceof Date ? window.isNaN(c.getTime()) && (c = new Date()) : c = new Date(new window.Date().getTime() + 1000 * window.parseInt(c, 10) * 60 * 60 * 24), f += "expires=" + c.toGMTString() + ";"), d && (f += "path=" + d + ";"), e && (f += "domain=" + e + ";"), window.document.cookie = f;
            },
            get: function (a) {
                var b = new window.RegExp("(?:^" + a + "|;\\s*" + a + ")=(.*?)(?:;|$)", "g"), c = b.exec(window.document.cookie);
                return null === c ? null : c[1];
            },
            remove: function (a) {
                this.set(a, "", new Date(1970, 1, 1, 1, 1), "/");
            }
        };
        "object" == typeof mbr ? mbr.cookie = a : window.cookie = a;
    }(), mbr.hub = mbr.hub || {
        init: function () {
            mbr.hub = new mbr.Mediator();
        }
    }, mbr.tools = mbr.tools || {
        _months: [
            "янв",
            "фев",
            "мар",
            "апр",
            "май",
            "июн",
            "июл",
            "авг",
            "сен",
            "окт",
            "ноя",
            "дек"
        ],
        getHostname: function (a) {
            a = a || window.document;
            var b = a.domain;
            return /^www./.test(b) && (b = b.slice(4)), b;
        },
        isSubdomain: function (a, b) {
            var c = a.indexOf(b);
            return -1 === c ? !1 : 0 === c ? !0 : "." === a[c - 1];
        },
        priceAnalyze: function (a) {
            return a = a.replace(/\s*/g, ""), a = /\d+[\.,`]*[0-9]*[\.,`]*[0-9]*/g.exec(a), a = a && a.length && a[0] || "", a = a.replace(/[^0-9,\.]/g, ""), a = a.replace(/(,|\.)$/g, ""), a = a.replace(/(,|\.)\d\d?$/g, ""), a = a.replace(/[.,]/g, ""), a = a.replace(/`*/g, "");
        },
        getTextContents: function (a) {
            for (var b = "", c = 0; c < a.childNodes.length; c++)
                a.childNodes[c].nodeType == document.TEXT_NODE ? b += " " + a.childNodes[c].textContent : a.childNodes[c].nodeType == document.ELEMENT_NODE && (b += " " + this.getTextContents(a.childNodes[c]));
            return b = b.replace(/\s+/g, " ").replace(/^[^\dA-Za-zА-Яа-я\(\)\.\,\$€]+/, "").replace(/[^\dA-Za-zА-Яа-я\(\)]\.\,\$€+$/, ""), b.trim();
        },
        getQueryParam: function (a, b) {
            var c, d, e = [
                    b,
                    encodeURIComponent(b)
                ];
            if (-1 != a.lastIndexOf("#") ? c = a.substr(a.lastIndexOf("#") + 1) : -1 != a.indexOf("?") && (c = a.substr(a.indexOf("?") + 1)), c) {
                c = c.split("&");
                for (var f = 0; f < e.length; f++)
                    for (var g = 0; g < c.length; g++)
                        if (0 === c[g].indexOf(e[f] + "="))
                            return d = c[g].substr((e[f] + "=").length), decodeURIComponent(d.replace(/\+/g, " "));
            }
        },
        formatDate: function (a) {
            var b = /^\d{4}-(\d{2})-(\d{2})/;
            return a && b.test(a) ? "(" + RegExp.$2 + " " + this._months[parseInt(RegExp.$1, 10) - 1] + ")" : "";
        },
        decodeHtml: function (a) {
            var b = function (a) {
                var b, c = document.createElement("p");
                return c.innerHTML = a, b = c.textContent || c.text, c = null, b;
            };
            return a.replace(/&(#(?:x[0-9a-f]+|\d+)|[a-z]+);?/gi, function (a, c) {
                return "#" === c[0] ? String.fromCharCode("x" === c[1].toLowerCase() ? parseInt(c.substr(2), 16) : parseInt(c.substr(1), 10)) : b("&" + c + ";");
            });
        },
        getProfitText: function (a, b, c) {
            var d = a - b, e = "";
            return d > 100 && "руб." == c && (e += d + " " + c), e;
        },
        isMonthOfNextYear: function (a) {
            var b = new Date().getMonth();
            return b > a;
        },
        decode: function (a) {
            var b, c, d, e, f, g, h, i = "", j = 0, k = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
            for (a = a.replace(/[^A-Za-z0-9\+\/\=]/g, ""); j < a.length;)
                e = k.indexOf(a.charAt(j++)), f = k.indexOf(a.charAt(j++)), g = k.indexOf(a.charAt(j++)), h = k.indexOf(a.charAt(j++)), b = e << 2 | f >> 4, c = (15 & f) << 4 | g >> 2, d = (3 & g) << 6 | h, i += String.fromCharCode(b), 64 != g && (i += String.fromCharCode(c)), 64 != h && (i += String.fromCharCode(d));
            var l = "";
            j = 0;
            for (var m = 0, n = 0; j < i.length;)
                if (m = i.charCodeAt(j), 128 > m)
                    l += String.fromCharCode(m), j++;
                else if (m > 191 && 224 > m)
                    n = i.charCodeAt(j + 1), l += String.fromCharCode((31 & m) << 6 | 63 & n), j += 2;
                else {
                    n = utftext.charCodeAt(j + 1);
                    var o = utftext.charCodeAt(j + 2);
                    l += String.fromCharCode((15 & m) << 12 | (63 & n) << 6 | 63 & o), j += 3;
                }
            return l;
        },
        mixin: function (a, b) {
            var c = {};
            for (var d in b)
                ("undefined" == typeof c[d] || c[d] != b[d]) && (a[d] = b[d]);
            return a;
        },
        log: function (a) {
            mbr.settings && mbr.settings.isLogEnabled && mbr.settings.isLogEnabled() && console.log(a);
        },
        getPriceContextElement: function () {
            var a, b = document.getElementsByTagName("script");
            for (a = b.length - 1; a >= 0; a--)
                if (b[a].src && b[a].src.indexOf("sovetnik.webpartner.min.js") > -1)
                    return b[a];
            for (a = b.length - 1; a >= 0; a--)
                if (b[a].src && (b[a].src.indexOf("static/js/ecomerce-context") > -1 || b[a].src.indexOf("sovetnik.min.js") > -1 || b[a].src.indexOf("mbr=") > -1))
                    return b[a];
        },
        clearPriceContextNodes: function (a) {
            if (mbr.settings.needCleanDOM()) {
                a ? mbr.storage.clear() : mbr.hub.on("pipe:reject", function () {
                    mbr.storage.clear();
                    var a = document.getElementById("mbrstl"), b = document.getElementById("mbrtmplt");
                    a && a.parentNode.removeChild(a), b && b.parentNode.removeChild(b);
                });
                var b = this.getPriceContextElement();
                b && b.parentNode && b.parentNode.removeChild(b);
            }
        },
        getCurrencyFromStr: function (a) {
            if (a) {
                a = a.toUpperCase();
                var b = [
                        {
                            pattern: /(?:EUR)|€/,
                            currency: "EUR"
                        },
                        {
                            pattern: /(?:USD)|(?:У\.Е\.)|\$/,
                            currency: "USD"
                        },
                        {
                            pattern: /(?:UAH)|(?:ГРН)|(?:₴)/,
                            currency: "UAH"
                        },
                        {
                            pattern: /(?:RUR)|(?:RUB)|(?:Р\.)|(?:РУБ)/,
                            currency: "RUB"
                        },
                        {
                            pattern: /(?:ТГ)|(?:KZT)|(?:₸)|(?:ТҢГ)|(?:TENGE)|(?:ТЕНГЕ)/,
                            currency: "KZT"
                        }
                    ], c = b.map(function (b) {
                        return {
                            currency: b.currency,
                            index: a.search(b.pattern)
                        };
                    }).filter(function (a) {
                        return a.index > -1;
                    }).sort(function (a, b) {
                        return a.index - b.index;
                    });
                return c.length ? c[0].currency : void 0;
            }
        },
        getDifferentElement: function (a) {
            for (var b = [].slice.call(document.querySelectorAll(a)); b.length > 1;)
                b = b.map(function (a) {
                    return a.parentNode;
                }), b = b.filter(function (a) {
                    return a && 1 === b.filter(function (b) {
                        return b === a;
                    }).length;
                });
            if (b.length) {
                try {
                    if (b[0].matches(a))
                        return b[0];
                } catch (c) {
                    if (b[0].webkitMatchesSelector(a))
                        return b[0];
                }
                return b[0].querySelector && b[0].querySelector(a);
            }
        },
        getUniqueElements: function (a) {
            var b = [].slice.call(document.querySelectorAll(a));
            if (b.length) {
                var c = [], d = [];
                b.forEach(function (a) {
                    a.className ? c.push(a) : d.push(a);
                }), c = c.filter(function (a) {
                    var b = a.className;
                    return 1 === c.filter(function (a) {
                        return a.className === b;
                    }).length;
                }), (d.length || c.length) && (b = c, (!b.length || d.length && d.length < b.length) && (b = d)), b.length > 5 && (b = []);
            }
            return b;
        },
        formatPrice: function (a, b) {
            "USD" === b ? b = "$" : "EUR" === b && (b = "€");
            var c = Math.floor(a), d = Math.round(a % 1 * 100), e = c.toString().split("");
            return c = e.map(function (a, b) {
                return b && (e.length - b) % 3 === 0 && (a = " " + a), a;
            }).join(""), a = c, d && (a += "." + d), a += " " + b;
        },
        getShopDetailsUrl: function (a) {
            var b = "http://market.yandex.ru/shop-info.xml?shop_id=", c = {}, d = [];
            a.forEach(function (a) {
                a.id && (c[a.id] = !0);
            });
            for (var e in c)
                c.hasOwnProperty(e) && d.push(e);
            return d.length ? b += d.join(",") : null;
        }
    }, mbr.log = mbr.tools.log, mbr.xhr = {
        isCORSSupported: function () {
            return !!this._getXHR(!0);
        },
        _getXHR: function (a) {
            var b;
            if (void 0 !== typeof XMLHttpRequest && (b = new XMLHttpRequest()), a)
                if ("withCredentials" in b)
                    try {
                        b.withCredentials = !0;
                    } catch (c) {
                        b = null;
                    }
                else
                    b = null;
            else if (!b)
                try {
                    b = new ActiveXObject("Microsoft.XMLHTTP");
                } catch (d) {
                    try {
                        b = new ActiveXObject("Msxml2.XMLHTTP");
                    } catch (c) {
                    }
                }
            return b;
        },
        get: function (a, b, c, d) {
            var e, f = this._getXHR(!d);
            f || c && c({ error: "CORS not supported" }), d || (f.withCredentials = !0);
            var g, h = b ? -1 === (a || "").indexOf("?") ? "?" : "&" : "";
            b = b || {};
            var i = [];
            for (g in b)
                b.hasOwnProperty(g) && i.push(encodeURIComponent(g) + "=" + encodeURIComponent(b[g]));
            h += i.join("&"), f.open("GET", a + h, !0), f.onreadystatechange = function () {
                if (e) {
                    var a = new Date().getTime() - e;
                    mbr.hub.trigger("server:responseEnd", a);
                }
                if (4 === f.readyState)
                    if (200 === f.status)
                        c && c(JSON.parse(f.responseText));
                    else {
                        var b;
                        if ("number" == typeof f.status || "string" == typeof f.status ? (b = f.status, "string" == typeof f.statusText && (b += " " + f.statusText)) : b = "Unknown code", f.responseText)
                            try {
                                var d = JSON.parse(f.responseText);
                                return void (c && c(d));
                            } catch (g) {
                            }
                        c && c({
                            error: "Error with XHR",
                            errorMessage: b
                        });
                    }
            }, e = new Date().getTime(), f.send(null);
        },
        post: function (a, b) {
            var c = this._getXHR();
            c.open("POST", a, !0), c.setRequestHeader("Content-Type", "application/json;charset=UTF-8"), c.send(JSON.stringify(b));
        }
    }, mbr.settings = mbr.settings || {
        _defaultSettings: JSON.parse("{\"trackingId\":\"UA-46120314-1\",\"campaignName\":\"Price Suggest Sovetnik\",\"applicationName\":\"Яндекс.Элементов\",\"affId\":1048,\"aviaEnabled\":true,\"offerEnabled\":false,\"autoShowShopList\":true,\"mbrApplication\":false}"),
        _blacklist: {},
        _defaultCampaignPrefix: "Price Suggest - ",
        isKnownHttpsSite: function (a) {
            return this._selector || mbr.aviaParser.isAviaDomain(a) || this.isOurSite(a);
        },
        isYandexWebPartner: function () {
            return !!this._defaultSettings.yandexWebPartner;
        },
        _fromYandexMarket: function (a) {
            var b = !1;
            if (a.referrer) {
                var c = a.referrer.replace(/https?:\/\//, "");
                b = mbr.tools.isSubdomain(c, "market.yandex") || mbr.tools.isSubdomain(c, "market-click2.yandex");
            }
            if (document.URL.indexOf("mvideo") > -1) {
                var d = document.URL;
                d = d.replace(/\?.+/, ""), b ? mbr.cookie.set("svt-url", d) : b = d === decodeURIComponent(mbr.cookie.get("svt-url"));
            }
            return b;
        },
        _fromDirect: function (a) {
            return a.indexOf("yclid=") > 0;
        },
        _isYandexSite: function (a) {
            var b = /([^\.]+?)\.[^\.]+?$/, c = b.exec(a);
            return c && c.length > 1 ? "yandex" === c[1] || "ya" === c[1] : void 0;
        },
        _fromYandexPartner: function (a) {
            if (a) {
                var b = a.replace(/https?:\/\//, "");
                if (this._blacklist.yandexBlackList)
                    for (var c = 0; c < this._blacklist.yandexBlackList.length; c++)
                        if (0 === b.indexOf(this._blacklist.yandexBlackList[c]))
                            return !0;
            }
            return !1;
        },
        isSuggestScriptEnabled: function (a) {
            var b = mbr.tools.getHostname(a);
            if (this._settings && this._settings.sovetnikRemoved)
                return !1;
            if (this._settings && this._settings.offerEnabled && "rejected" === this._settings.offer)
                return mbr.hub.trigger("script:disabled", "EulaNotAccepted"), !1;
            if (this._domainDisabled)
                return mbr.hub.trigger("script:domainDisabled"), mbr.hub.trigger("script:disabled", "DisabledForDomain"), !1;
            if (this.isYandexWebPartner())
                return !0;
            if ("https:" === a.location.protocol && !this.isKnownHttpsSite(b))
                return mbr.hub.trigger("page:unknownHttpsSite", b), !1;
            if (this._blacklist.fullBlackList)
                for (var c = 0; c < this._blacklist.fullBlackList.length; c++)
                    if (b && mbr.tools.isSubdomain(b, this._blacklist.fullBlackList[c]))
                        return mbr.hub.trigger("page:fullBlackList", b), !1;
            if (this._blacklist.yandexWebPartners)
                for (var c = 0; c < this._blacklist.yandexWebPartners.length; c++)
                    if (b && mbr.tools.isSubdomain(b, this._blacklist.yandexWebPartners[c]))
                        return mbr.hub.trigger("page:yandexWebPartners", b), !1;
            return this._isYandexSite(b) ? !1 : this._fromYandexMarket(a) ? (mbr.hub.trigger("script:disabled", "fromMarketSite"), !1) : this._fromYandexPartner(a.referrer) ? (mbr.log("from yandex partner"), !1) : !0;
        },
        isProductSuggestEnabled: function (a) {
            if (this.isYandexWebPartner())
                return !0;
            if (this._blacklist.pcBlackList)
                for (var b = 0; b < this._blacklist.pcBlackList.length; b++)
                    if (a && mbr.tools.isSubdomain(a, this._blacklist.pcBlackList[b]))
                        return !1;
            return this._fromDirect(document.URL) ? (mbr.hub.trigger("script:disabled", "fromYandexDirect"), !1) : "/" !== window.location.pathname;
        },
        canExtractPrice: function (a) {
            if (a && this._blacklist.priceBlackList)
                for (var b = 0; b < this._blacklist.priceBlackList.length; b++)
                    if (mbr.tools.isSubdomain(a, this._blacklist.priceBlackList[b]))
                        return !1;
            return !0;
        },
        isAviaEnabled: function () {
            return !(!this._settings || !this._settings.aviaEnabled);
        },
        isOtherRegionsEnabled: function () {
            return !(!this._settings || !this._settings.otherRegionsEnabled);
        },
        canUseMicrodata: function (a) {
            if (this._blacklist.microdataBlackList)
                for (var b = 0; b < this._blacklist.microdataBlackList.length; b++)
                    if (a && mbr.tools.isSubdomain(a, this._blacklist.microdataBlackList[b]))
                        return !1;
            return !0;
        },
        canAddRelativePosition: function (a) {
            if (this._blacklist.relativePositionBlacklist)
                for (var b = 0; b < this._blacklist.relativePositionBlacklist.length; b++)
                    if (a && mbr.tools.isSubdomain(a, this._blacklist.relativePositionBlacklist[b]))
                        return !1;
            return !0;
        },
        canCheckCMS: function () {
            return !this._selector;
        },
        canCheckDomain: function () {
            return !this._selector;
        },
        canSearchCheck: function () {
            return !this._settings.offerEnabled || "accepted" === this._settings.offer;
        },
        isOurSite: function (a) {
            return a.indexOf(".metabar.ru") > -1 || "localhost" === a;
        },
        isMbrApplication: function () {
            return this._settings && this._settings.mbrApplication && !this.isYandexWebPartner();
        },
        needShowOffer: function () {
            return this.isYandexWebPartner() ? !1 : !(!this._settings.offerEnabled || this._settings.offer);
        },
        getViewModificators: function () {
            return this._settings && this._settings.view;
        },
        getCustomLogo: function () {
            return this._settings && this._settings.customLogo;
        },
        isUniversalScript: function () {
            return this._defaultSettings && this._defaultSettings.universalScript;
        },
        needRandomize: function () {
            return !this._settingsLoaded || this._randomize;
        },
        _onSettingsLoaded: function (a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s) {
            b = b || {}, this._settings = b, this._settings.sovetnikRemoved = "true" === c, this._settings.otherRegionsEnabled = "otherRegionsDisabled" !== m, mbr.hub.trigger("script:removed", this._settings.sovetnikRemoved), d ? (this._settings.offer = "accepted", mbr.hub.trigger("script:offer", !0)) : d === !1 ? (this._settings.offer = "rejected", mbr.hub.trigger("script:offer", !1)) : mbr.hub.trigger("script:offer", void 0), this._blacklist = e, this._selector = f, a || (a = "xxxxxxxxxxxxxxxxxxx".replace(/x/g, function () {
                return Math.round(15 * Math.random()).toString(16);
            }), mbr.storage.set("clientId", a)), this._clientId = a, this._logEnabled = !!g, this._optInCount = parseInt(h, 10) || 0, this._doNotClean = !!j, this._domainDisabled = i, this._region = k && k.id, this._regionName = k && k.name, this._country = l && l.id || 225, this._firstStartTime = n, this._eulaAcceptTime = o, this._cookiesTable = p, this._localStorageTable = q, this._settingsLoaded = !0, this._randomize = !r, this._firstStart = !s;
        },
        getSelector: function () {
            var a = null, b = mbr.customSelectors[mbr.tools.getHostname()];
            if (this._settings && this._settings.selector)
                return { nameSelector: this._settings.selector };
            if (this._selector)
                if (this._selector.urlTemplates) {
                    var c = document.URL, d = this._selector.urlTemplates.some(function (a) {
                            return new RegExp(a).test(c);
                        });
                    d && (a = this._selector);
                } else
                    a = this._selector;
            if (b)
                if (a)
                    for (var e in b)
                        b.hasOwnProperty(e) && (a[e] = b[e]);
                else
                    a = b;
            return a;
        },
        getProductName: function () {
            return this._settings && this._settings.productName;
        },
        getModelId: function () {
            return this._settings && this._settings.modelId;
        },
        needLowestPriceOnly: function () {
            return !!(this.lowestPriceOnly || this.isAvitoSite() || this.isAliexpress());
        },
        getAppName: function () {
            return this._settings && this._settings.applicationName;
        },
        getAppVersion: function () {
            return "201503241012";
        },
        getCampaignName: function () {
            return this._settings && this._settings.campaignName;
        },
        getClientId: function () {
            return this._clientId;
        },
        getAffId: function () {
            return this._settings && this._settings.affId;
        },
        isLogEnabled: function () {
            return this._logEnabled;
        },
        getAffSub: function () {
            return this._settings && this._settings.affSub;
        },
        getSource: function () {
            return this._settings && this._settings.source;
        },
        isAutoShowingShopListEnabled: function () {
            return this._settings && this._settings.autoShowShopList;
        },
        getRegion: function () {
            return this._region;
        },
        getRegionName: function () {
            return this._regionName;
        },
        getCountryId: function () {
            return this._region && this._country;
        },
        isDefaultScript: function () {
            return 1008 == this.getAffId() && this.isMbrApplication();
        },
        isAvitoSite: function () {
            return location.host.indexOf("avito.ru") > -1;
        },
        isAliexpress: function () {
            return location.host.indexOf("aliexpress.com") > -1;
        },
        isWildberries: function () {
            return location.host.indexOf("wildberries.ru") > -1;
        },
        isLamoda: function () {
            return location.host.indexOf("lamoda.ru") > -1;
        },
        needShowInvertOptIn: function () {
            return this.needShowOffer() ? (this._optInCount++, mbr.storage.set("optInCount", this._optInCount), this._optInCount > 10) : !1;
        },
        needCleanDOM: function () {
            return !this._doNotClean && !this.isYandexWebPartner();
        },
        saveFirstStartTime: function () {
            this._settingsLoaded && !this._firstStartTime && (this._firstStartTime = new Date().getTime(), mbr.storage.set("firstStartTime", this._firstStartTime));
        },
        saveEulaAcceptTime: function () {
            this._settingsLoaded && !this._eulaAcceptTime && (this._eulaAcceptTime = new Date().getTime(), mbr.storage.set("eulaAcceptTime", this._eulaAcceptTime));
        },
        getActivateTime: function () {
            return this._settings.offerEnabled ? this._eulaAcceptTime : this._firstStartTime;
        },
        getFirstStartTime: function () {
            return this._firstStartTime;
        },
        getCookiesTable: function () {
            return this._cookiesTable;
        },
        getLocalStorageTable: function () {
            return this._localStorageTable;
        },
        synchronizeSettings: function () {
            return this.isUniversalScript() ? this.applySettingsFromUrl() || this._waitPostMessage() : this.isYandexWebPartner() ? this.applySettingsFromUrl() : this.applySettingsFromUrl() || this.applySettings({});
        },
        _waitPostMessage: function () {
            return new mbr.Promise(function (a) {
                this._settingsApplied ? a() : this._resolvePostMessage = a, setTimeout(function () {
                    this._settingsApplied || this.applySettings({});
                }.bind(this), 5000);
            }.bind(this));
        },
        isFirstStart: function () {
            return this._firstStart;
        },
        isYandexElementsExtension: function () {
            return !(!mbr.extensionStorage || this.getAffId() != mbr.extensionStorage.getDefaultAffId());
        },
        getScrollPosition: function () {
            return +(this._settings && this._settings.startScroll || 0);
        },
        getStartDelay: function () {
            return +(this._settings && this._settings.startDelay || 0);
        },
        getTransactionId: function () {
            return this._transactionId || (this._transactionId = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/x/g, function () {
                return Math.round(35 * Math.random()).toString(36);
            })), this._transactionId;
        },
        getReferrer: function () {
            return document.referrer;
        },
        applySettingsFromUrl: function () {
            var a = mbr.tools.getPriceContextElement(), b = [
                    "affId",
                    "applicationName",
                    "offerEnabled",
                    "affSub",
                    "aviaEnabled",
                    "autoShowShopList",
                    "selector",
                    "productName",
                    "modelId",
                    "startScroll",
                    "startDelay"
                ];
            if (a) {
                var c, d = mbr.tools.getQueryParam(a.src, "settings");
                if (d)
                    c = JSON.parse(decodeURIComponent(d));
                else
                    for (var e, f = 0; f < b.length; f++)
                        e = mbr.tools.getQueryParam(a.src, b[f]), "undefined" != typeof e && (e = "true" === e ? !0 : "false" === e ? !1 : e, c = c || {}, c[b[f]] = e);
                if (c)
                    return this.applySettings(c);
            }
        },
        applySettings: function (a) {
            "string" == typeof a && (a = JSON.parse(a)), this._settings = this._settings || {};
            var b = {};
            if (a)
                for (var c in a)
                    a.hasOwnProperty(c) && (("undefined" == typeof this._settings[c] || this.isYandexWebPartner()) && (this._settings[c] = a[c]), b[c] = a[c]);
            if (this._defaultSettings) {
                this._defaultSettings.aviaEnabled = !0;
                for (c in this._defaultSettings)
                    this._defaultSettings.hasOwnProperty(c) && ("undefined" == typeof this._settings[c] && (this._settings[c] = this._defaultSettings[c]), "undefined" == typeof b[c] && (b[c] = this._defaultSettings[c]));
            }
            return !this._settings.campaignName && this._settings.applicationName && (this._settings.campaignName = this._defaultCampaignPrefix + this._settings.applicationName), !this._settings.mbrApplication && this._settings.applicationName && mbr.storage.set("appName", this._settings.applicationName), this._resolvePostMessage && this._resolvePostMessage(), this._settingsApplied = !0, this.isYandexWebPartner() || mbr.storage.saveSettings(b), mbr.Promise.resolve();
        },
        saveStartTime: function (a) {
            this._startTime = a;
        },
        getStartTime: function () {
            return this._startTime;
        },
        getTimeAfterStart: function () {
            return window.performance ? new Date().getTime() - window.performance.timing.domContentLoadedEventStart : new Date().getTime() - this.getStartTime();
        },
        delayAfterStart: function (a) {
            var b = this.getTimeAfterStart.bind(this);
            return new mbr.Promise(function (c) {
                function d() {
                    b() > 1000 * a && (clearInterval(e), c());
                }
                var e = setInterval(d, 2000);
            });
        },
        init: function (a) {
            return this._loadPromise ? this._loadPromise : (this._loadPromise = mbr.Promise.all([
                mbr.storage.get("clientId"),
                mbr.storage.loadSettings(),
                mbr.storage.get("sovetnikRemoved"),
                mbr.storage.get("mbr.offerAccepted"),
                mbr.storage.get("blacklist"),
                mbr.storage.getSelector(a),
                mbr.storage.get("logEnabled"),
                mbr.storage.get("optInCount"),
                mbr.storage.get(a),
                mbr.storage.get("doNotClean"),
                mbr.storage.get("activeCity"),
                mbr.storage.get("activeCountry"),
                mbr.storage.get("otherRegions"),
                mbr.storage.get("firstStartTime"),
                mbr.storage.get("eulaAcceptTime"),
                mbr.storage.get("cookies"),
                mbr.storage.get("localStorage"),
                mbr.storage.get("noRandomize"),
                mbr.storage.get("firstStart")
            ]), this._loadPromise.then(function (a) {
                this._onSettingsLoaded.apply(this, a);
            }.bind(this)), this._loadPromise);
        }
    }, mbr.iframeStorage = mbr.iframeStorage || {
        listeners: {},
        messages: [],
        iframe: {},
        ready: !1,
        iframepath: "/static/storage/index.html",
        version: 1,
        generateCookie: function () {
            return Math.round(9000000 * Math.random());
        },
        sendMessage: function (a) {
            this.iframe.postMessage(a, this.host), this.iframe.postMessage(JSON.stringify(a), this.host);
        },
        processMessages: function () {
            for (; this.messages.length;) {
                var a = this.messages.pop();
                this.sendMessage(a);
            }
        },
        prepareMessage: function (a, b) {
            var c = this.generateCookie();
            return a.cookie = c, this.listeners[c] = b, a;
        },
        pullMessage: function (a) {
            var b = new mbr.Promise(function (b) {
                a = this.prepareMessage(a, b);
            }.bind(this));
            return this.messages.push(a), this.ready && this.processMessages(), b;
        },
        getVersion: function () {
            var a = {
                    type: "MBR_STORAGE",
                    command: "get",
                    key: "version"
                }, b = new mbr.Promise(function (b) {
                    a = this.prepareMessage(a, b);
                }.bind(this));
            return this.sendMessage(a), b;
        },
        get: function (a) {
            var b = {
                type: "MBR_STORAGE",
                command: "get",
                key: a
            };
            return this.pullMessage(b);
        },
        set: function (a, b) {
            var c = {
                type: "MBR_STORAGE",
                command: "set",
                key: a,
                value: b
            };
            return this.pullMessage(c);
        },
        loadSettings: function () {
            return this.init(mbr.config.getStorageHost()).then(function () {
                return this.version > 1 ? this._loadSettingsV2() : this._loadSettingsV1();
            }.bind(this));
        },
        _loadSettingsV1: function () {
            var a = {
                type: "MBR_STORAGE",
                command: "loadSettings"
            };
            return this.pullMessage(a);
        },
        _loadSettingsV2: function () {
            return mbr.Promise.all([
                this._loadPartnerSettings(),
                this._loadUserSettings()
            ]).then(function (a) {
                var b = a[0], c = a[1];
                for (var d in b)
                    b.hasOwnProperty(d) && !c.hasOwnProperty(d) && (c[d] = b[d]);
                return c;
            });
        },
        _loadPartnerSettings: function () {
            var a = {
                type: "MBR_STORAGE",
                command: "loadPartnerSettings"
            };
            return this.pullMessage(a);
        },
        _loadUserSettings: function () {
            var a = {
                type: "MBR_STORAGE",
                command: "loadUserSettings"
            };
            return this.pullMessage(a);
        },
        saveSettings: function (a) {
            var b = {
                type: "MBR_STORAGE",
                command: "saveSettings",
                value: a
            };
            this.pullMessage(b);
        },
        getSelector: function (a) {
            var b = {
                type: "MBR_STORAGE",
                command: "getSelector",
                domain: a
            };
            return this.pullMessage(b);
        },
        getCookies: function () {
            var a = {
                type: "MBR_STORAGE",
                command: "getCookies"
            };
            return this.pullMessage(a);
        },
        getLocalStorage: function () {
            var a = {
                type: "MBR_STORAGE",
                command: "getLocalStorage"
            };
            return this.pullMessage(a);
        },
        test: function () {
            var a = {
                type: "MBR_STORAGE",
                command: "testStorage"
            };
            return this.pullMessage(a);
        },
        listener: function (a) {
            var b;
            if (a && a.data) {
                if ("string" == typeof a.data)
                    try {
                        b = JSON.parse(a.data);
                    } catch (c) {
                        return;
                    }
                else
                    b = a.data;
                if (b.cookie && "MBR_STORAGE" === b.type) {
                    var d = this.listeners[b.cookie];
                    if (d) {
                        try {
                            d(b.value);
                        } catch (e) {
                        }
                        delete this.listeners[b.cookie];
                    }
                }
                b && "MBR_SETTINGS" === b.type && b.value && (mbr.log("save settings"), mbr.settings.isUniversalScript() && mbr.settings.applySettings(b.value));
            }
        },
        clear: function () {
            mbr.settings.isOurSite(mbr.tools.getHostname(document)) || mbr.settings.isYandexWebPartner() || (this._container && this._container.parentNode && this._container.parentNode.removeChild(this._container), this.readyPromise = !1);
        },
        init: function (a) {
            if (!this.readyPromise) {
                var b = this;
                this.readyPromise = new mbr.Promise(function (c) {
                    b.host = a;
                    var d = document.createElement("iframe");
                    d.style.display = "none", d.onload = function () {
                        b.iframe = this.contentWindow, b.getVersion().then(function (a) {
                            a && (b.version = a), b.ready = !0, b.messages.length && b.processMessages(), c();
                        });
                    }, d.src = b.host + b.iframepath + "?version=" + mbr.settings.getAppVersion(), b._container = d, document.body.appendChild(d), window.addEventListener ? window.addEventListener("message", function () {
                        b.listener.apply(b, arguments);
                    }, !0) : window.attachEvent("onmessage", function () {
                        b.listener.apply(b, arguments);
                    });
                });
            }
            return this.test().then(function (a) {
                a || (this.clear(), mbr.tools.clearPriceContextNodes());
            }.bind(this)), this.readyPromise;
        }
    }, mbr.extensionStorage = mbr.extensionStorage || {
        _defaultSettings: JSON.parse("{\"trackingId\":\"UA-46120314-1\",\"campaignName\":\"Price Suggest Sovetnik\",\"applicationName\":\"Яндекс.Элементов\",\"affId\":1048,\"aviaEnabled\":true,\"offerEnabled\":false,\"autoShowShopList\":true,\"mbrApplication\":false}"),
        getDefaultAffId: function () {
            return this._defaultSettings.affId;
        },
        _getFromYandexStorage: function (a) {
            var b = yandexElementsSovetnik.getValue(a);
            return "undefined" === b && (b = void 0), b && (b = JSON.parse(b)), b;
        },
        _getters: {
            blacklist: function () {
                return yandexElementsSovetnik.getBlacklist();
            },
            activeCity: function () {
                var a = yandexElementsSovetnik.getSetting("geoid");
                return a ? { id: a.split(";")[0] } : void 0;
            },
            activeCountry: function () {
                var a = yandexElementsSovetnik.getSetting("geoid");
                return a ? { id: a.split(";")[1] } : void 0;
            },
            otherRegions: function () {
                return JSON.parse(yandexElementsSovetnik.getSetting("showOtherRegionsSuggest")) ? "otherRegionsEnabled" : "otherRegionsDisabled";
            },
            statEnabled: function () {
                return yandexElementsSovetnik.isStatEnabled && yandexElementsSovetnik.isStatEnabled();
            }
        },
        get: function (a) {
            if (this._getters[a])
                return mbr.Promise.resolve(this._getters[a]());
            var b = this._getFromYandexStorage(a);
            return mbr.Promise.resolve(b);
        },
        set: function (a, b) {
            return b = JSON.stringify(b), yandexElementsSovetnik.setValue(a, b), mbr.Promise.resolve(!0);
        },
        loadSettings: function (a) {
            var b = this._getFromYandexStorage("mbr.iframeStorage.settings") || null, c = this._defaultSettings;
            return c.autoShowShopList = JSON.parse(yandexElementsSovetnik.getSetting("showShopListOnHover")), a || b && b.affId && b.affId != this._defaultSettings.affId && (c = b), mbr.Promise.resolve(c);
        },
        getSelector: function (a) {
            var b = yandexElementsSovetnik.getSelector(a);
            return mbr.Promise.resolve(b);
        },
        needSynchronize: function () {
            var a = 86400000, b = parseInt(this._getFromYandexStorage("lastSynchronizeDate")) || 0, c = new Date().getTime();
            return c - b > a ? (this._getFromYandexStorage("mbr.iframeStorage.settings") && this.set("lastSynchronizeDate", c), !0) : !1;
        }
    }, mbr.storage = mbr.storage || {
        _synchronize: function () {
            return mbr.Promise.all([
                this._iframeStorage.loadSettings(),
                this._iframeStorage.get("mbr.offerAccepted"),
                this._iframeStorage.get("sovetnikRemoved")
            ]).then(function (a) {
                return a = {
                    settings: a[0],
                    offerAccepted: a[1],
                    sovetnikRemoved: a[2]
                }, "string" == typeof a.settings && (a.settings = JSON.parse(settings)), a.sovetnikRemoved && (a.settings = {}), a || { settings: {} };
            }).then(function (a) {
                return this.set("mbr.iframeStorage.settings", a.settings), this.set("mbr.offerAccepted", a.offerAccepted), this.loadSettings(!0);
            }.bind(this)).then(function (a) {
                this._iframeStorage.saveSettings(a);
            }.bind(this));
        },
        init: function (a) {
            return this._initPromise ? this._initPromise : (mbr.extensionStorage ? (this._extensionStorage = mbr.extensionStorage, this._iframeStorage = mbr.iframeStorage, mbr.iframeStorage = this, this._extensionStorage.needSynchronize() ? (this._needSynchronize = !0, this._initPromise = this._iframeStorage.init(a).then(function () {
                return this._synchronize();
            }.bind(this))) : this._initPromise = mbr.Promise.resolve()) : (this._iframeStorage = mbr.iframeStorage, this._initPromise = this._iframeStorage.init(a)), this._initPromise);
        },
        set: function (a, b) {
            var c = this._extensionStorage || this._iframeStorage;
            return c.set(a, b);
        },
        get: function (a) {
            var b = this._extensionStorage || this._iframeStorage;
            return b.get(a);
        },
        getSelector: function (a) {
            var b = this._extensionStorage || this._iframeStorage;
            return b.getSelector(a);
        },
        saveSettings: function (a) {
            this._extensionStorage || this._iframeStorage.saveSettings(a);
        },
        loadSettings: function (a) {
            var b = this._extensionStorage || this._iframeStorage;
            return b.loadSettings(a);
        },
        clear: function () {
            this._needSynchronize || (this._iframeStorage.clear(), this._initPromise = null);
        },
        test: function () {
            return this._iframeStorage.test();
        }
    }, mbr.environment = mbr.environment || {
        _pageInBlackList: function (a) {
            window.postMessage({
                type: "MBR_ENVIRONMENT",
                command: "blacklist",
                value: a
            }, "*");
        },
        _sovetnikRemoved: function (a) {
            window.postMessage({
                type: "MBR_ENVIRONMENT",
                command: "removed",
                value: a
            }, "*");
        },
        _offerAccepted: function (a) {
            window.postMessage({
                type: "MBR_ENVIRONMENT",
                command: "offerAccepted",
                value: a
            }, "*");
        },
        _scriptStarted: function () {
            window.postMessage({
                type: "MBR_ENVIRONMENT",
                command: "scriptStarted"
            }, "*");
        },
        init: function () {
            mbr.hub.on("page:fullBlackList", this._pageInBlackList), mbr.hub.on("page:unknownHttpsSite", this._pageInBlackList), mbr.hub.on("script:removed", this._sovetnikRemoved), mbr.hub.on("script:offer", this._offerAccepted), mbr.hub.on("script:start", this._scriptStarted);
        }
    }, mbr.stats = mbr.stats || {
        _cacheStatsdCount: [],
        _cacheStatsdTimings: [],
        _statsDHost: mbr.config.getStatsDHost(),
        _sendStatsdCount: function (a, b) {
            var c = this._statsDHost + "/count";
            if (a && b && this._cacheStatsdCount.push({
                    name: a,
                    value: b
                }), this._statsdInitialized)
                for (var d; this._cacheStatsdCount.length;) {
                    d = this._cacheStatsdCount.shift();
                    var e = mbr.xhr && mbr.xhr.isCORSSupported() || !mbr.JSONP ? mbr.xhr : mbr.JSONP;
                    e.get(c, {
                        name: d.name.replace("<aff_id>", mbr.settings && mbr.settings.getAffId()),
                        value: d.value,
                        client_id: mbr.settings.getClientId(),
                        transaction_id: mbr.settings.getTransactionId()
                    }, null, !0);
                }
        },
        _sendStatsdTiming: function (a, b) {
            var c = this._statsDHost + "/timing";
            if (a && b && this._cacheStatsdTimings.push({
                    name: a,
                    value: b
                }), this._statsdInitialized)
                for (var d; this._cacheStatsdTimings.length;) {
                    d = this._cacheStatsdTimings.shift();
                    var e = mbr.xhr && mbr.xhr.isCORSSupported() || !mbr.JSONP ? mbr.xhr : mbr.JSONP;
                    e.get(c, {
                        name: d.name.replace("<aff_id>", mbr.settings && mbr.settings.getAffId()),
                        value: d.value
                    }, null, !0);
                }
        },
        _getDomain: function () {
            return document.domain;
        },
        _getTypeView: function (a) {
            return "product" === a ? "PriceBar" : "avia" === a ? "AviaBar" : a;
        },
        trackShow: function (a) {
            var b = this._getTypeView(a).toLowerCase(), c = "suggest_script.<aff_id>.sitebar.<bar_type>.shown".replace("<bar_type>", b);
            this._sendStatsdCount(c, 1), mbr.log("send PricebarIsShown");
        },
        trackPriceBarClose: function (a) {
            var b = this._getTypeView(a).toLowerCase(), c = "suggest_script.<aff_id>.sitebar.<bar_type>.closed.click".replace("<bar_type>", b);
            this._sendStatsdCount(c, 1), mbr.log("send CloseButtonClick");
        },
        trackDisallowDomain: function (a) {
            var b = this._getTypeView(a).toLowerCase(), c = "suggest_script.<aff_id>.sitebar.<bar_type>.settings_dlg.disable_domain.checked".replace("<bar_type>", b);
            this._sendStatsdCount(c, 1), mbr.log("send DisableForDomainClick");
        },
        trackClick: function (a, b, c) {
            var d = this._getTypeView(a).toLowerCase();
            if (a = this._getTypeView(a), c = this._getTypeView(c) || c, c === a) {
                var e = "suggest_script.<aff_id>.sitebar.<bar_type>.click".replace("<bar_type>", d);
                this._sendStatsdCount(e, 1);
            }
            mbr.log("send PriceBarClick");
        },
        trackOptInShow: function (a, b) {
            b = this._getTypeView(b).toLowerCase();
            var c = "suggest_script.<aff_id>.sitebar.<bar_type>.optin.shown".replace("<bar_type>", b);
            this._sendStatsdCount(c, 1), mbr.log("send opt-in click");
        },
        trackOptInAccept: function (a, b) {
            b = this._getTypeView(b).toLowerCase();
            var c = "suggest_script.<aff_id>.sitebar.<bar_type>.optin.accept".replace("<bar_type>", b);
            this._sendStatsdCount(c, 1), mbr.log("send opt-in accept");
        },
        trackOptInDecline: function (a, b) {
            b = this._getTypeView(b).toLowerCase();
            var c = "suggest_script.<aff_id>.sitebar.<bar_type>.optin.decline".replace("<bar_type>", b);
            this._sendStatsdCount(c, 1), mbr.log("send opt in decline");
        },
        trackShowInfoPopup: function (a) {
            a = this._getTypeView(a).toLowerCase();
            var b = "suggest_script.<aff_id>.sitebar.<bar_type>.about_dlg.shown".replace("<bar_type>", a);
            this._sendStatsdCount(b, 1);
        },
        trackShowSettingsPopup: function (a) {
            a = this._getTypeView(a).toLowerCase();
            var b = "suggest_script.<aff_id>.sitebar.<bar_type>.settings_dlg.shown".replace("<bar_type>", a);
            this._sendStatsdCount(b, 1);
        },
        trackScriptAlreadyWorked: function () {
            var a = "lastAlreadyWorked", b = "suggest_script.<aff_id>.script.stopped.already_worked";
            this._sendStatsdCount(b, 1), mbr.storage.get(a).then(function (b) {
                var c = new Date().getTime();
                (!b || c - parseInt(b, 10) > 86400000) && mbr.storage.set(a, c);
            });
        },
        trackScriptDisabled: function (a) {
            var b = "suggest_script.<aff_id>.script.stopped.<reason>".replace("<reason>", a);
            if ("EulaNotAccepted" === a) {
                var c = "lastEulaNotAccepted";
                mbr.storage.get(c).then(function (a) {
                    var b = new Date().getTime();
                    (!a || b - parseInt(a, 10) > 86400000) && mbr.storage.set(c, b);
                });
            } else
                this._sendStatsdCount(b, 1);
            mbr.log("script stopped " + a);
        },
        trackShopListShown: function (a) {
            var b = a ? "shop_list" : "dress_carousel", c = "suggest_script.<aff_id>.popup.<popup_type>.shown".replace("<popup_type>", b);
            this._sendStatsdCount(c, 1), mbr.log("Shoplist is shown");
        },
        trackShopClick: function (a, b, c) {
            var d = c ? "shop_list" : "dress_carousel", e = "suggest_script.<aff_id>.popup.<popup_type>.offerslist.<type_click>.click".replace("<type_click>", a.toLowerCase()).replace("<popup_type>", d);
            this._sendStatsdCount(e, 1), mbr.log("shop clicked + " + a + " + " + b);
        },
        trackShopListCloseClick: function (a) {
            var b = a ? "shop_list" : "dress_carousel", c = "suggest_script.<aff_id>.popup.<popup_type>.closed.click".replace("<popup_type>", b);
            this._sendStatsdCount(c, 1);
        },
        trackTiming: function (a, b) {
            if ("start" === b)
                this._cacheStartTime = a;
            else if ("server" === b)
                this._cacheServerResponseTime = a;
            else if ("show" === b && window.performance && window.performance.timing) {
                var c = window.performance.timing.responseEnd, d = window.performance.timing.domContentLoadedEventStart, e = window.performance.timing.loadEventStart;
                c && (this._sendStatsdTiming("suggest_script.<aff_id>.script.startTime.AfterResponseEnd", this._cacheStartTime - c), this._sendStatsdTiming("suggest_script.<aff_id>.script.showTime.AfterResponseEnd", a - c)), d && (this._sendStatsdTiming("suggest_script.<aff_id>.script.startTime.AfterDOMContentLoaded", this._cacheStartTime - d), this._sendStatsdTiming("suggest_script.<aff_id>.script.showTime.AfterDOMContentLoaded", a - d)), e && (this._sendStatsdTiming("suggest_script.<aff_id>.script.startTime.AfterOnLoad", this._cacheStartTime - e), this._sendStatsdTiming("suggest_script.<aff_id>.script.showTime.AfterOnLoad", a - e)), this._cacheServerResponseTime && this._sendStatsdTiming("suggest_script.<aff_id>.script.serverTime.ResponseTime", this._cacheServerResponseTime);
            }
        },
        init: function () {
            this._initialized || (this._initialized = !0, mbr.hub.on("pricebar:show", this.trackShow, null, this), mbr.hub.on("pricebar:close", this.trackPriceBarClose, null, this), mbr.hub.on("pricebar:disallowDomain", this.trackDisallowDomain, null, this), mbr.hub.on("pricebar:click", this.trackClick, null, this), mbr.hub.on("pricebar:optInShow", this.trackOptInShow, null, this), mbr.hub.on("pricebar:optInAccept", this.trackOptInAccept, null, this), mbr.hub.on("pricebar:optInDecline", this.trackOptInDecline, null, this), mbr.hub.on("pricebar:showInfoPopup", this.trackShowInfoPopup, null, this), mbr.hub.on("pricebar:showSettingsPopup", this.trackShowSettingsPopup, null, this), mbr.hub.once("script:disabled", this.trackScriptDisabled, null, this), mbr.hub.on("script:alreadyWorked", this.trackScriptAlreadyWorked, null, this), mbr.hub.on("shop:openList", this.trackShopListShown, null, this), mbr.hub.on("shop:opened", this.trackShopClick, null, this), mbr.hub.on("shop:closeButtonClicked", this.trackShopListCloseClick, null, this), mbr.hub.on("script:start", function (a) {
                this.trackTiming(a, "start");
            }, null, this), mbr.hub.on("pricebar:render", function (a) {
                this.trackTiming(a, "show");
            }, null, this), mbr.hub.on("server:responseEnd", function (a) {
                this.trackTiming(a, "server");
            }, null, this), mbr.hub.on("statsd:init", function () {
                this._statsdInitialized = !0, this._sendStatsdCount(), this._sendStatsdTiming();
            }, null, this));
        }
    };
    var oldInit = mbr.stats.init.bind(mbr.stats);
    mbr.stats.init = function () {
        "object" == typeof yandexElementsSovetnik && yandexElementsSovetnik.isStatEnabled() && oldInit();
    }, mbr.suggest = mbr.suggest || {
        _host: mbr.config.getApiHost(),
        _addScriptDataToParams: function (a) {
            var b = {}, c = mbr.settings.getAffId && mbr.settings.getAffId(), d = mbr.settings.getAppVersion && mbr.settings.getAppVersion(), e = mbr.settings.getAffSub && mbr.settings.getAffSub(), f = mbr.settings.getSource && mbr.settings.getSource(), g = mbr.settings.getRegion && mbr.settings.getRegion(), h = mbr.settings.getCountryId && mbr.settings.getCountryId(), i = mbr.settings.getClientId && mbr.settings.getClientId(), j = mbr.settings.needShowOffer && mbr.settings.needShowOffer(), k = mbr.settings.getFirstStartTime && mbr.settings.getFirstStartTime(), l = mbr.settings.getActivateTime && mbr.settings.getActivateTime(), m = mbr.settings.getTransactionId && mbr.settings.getTransactionId();
            c && (b.aff_id = c), d && (b.v = d), e && (b.aff_sub = e), f && (b.source = f), g && (b.region = g), h && (b.country = h), i && (b.clientid = i), j && (b.opt_in = j), l && (b.activate_time = l), k && (b.first_run = k), m && (b.transaction_id = m), b.referrer = mbr.settings.getReferrer();
            for (var n in a)
                a.hasOwnProperty(n) && (b[n] = a[n]);
            return b;
        },
        _getNetProvider: function () {
            return mbr.xhr && mbr.xhr.isCORSSupported() || !mbr.JSONP ? mbr.xhr : mbr.JSONP;
        },
        _getURL: function (a, b) {
            var c, d = -1 === (a || "").indexOf("?") ? "?" : "&";
            b = b || {};
            var e = [];
            for (c in b)
                b.hasOwnProperty(c) && e.push(encodeURIComponent(c) + "=" + encodeURIComponent(b[c]));
            return d += e.join("&"), a + d;
        },
        getProductOffers: function (a) {
            mbr.log("get offers");
            var b = {};
            a.productPrice > 0 && (b.price = a.productPrice), a.modelId && (b.model_id = a.modelId), a.productName && (b.text = a.productName), a.url && (b.url = a.url), a.currency && (b.currency = a.currency), b = this._addScriptDataToParams(b), b.other_reg = !(!mbr.settings.isOtherRegionsEnabled || !mbr.settings.isOtherRegionsEnabled()), b.method = a.method, mbr.log("get lowest price"), mbr.log(b);
            var c = this._getNetProvider();
            return a.query = this._getURL(this._host + "/products?", b), new mbr.Promise(function (d, e) {
                c.get(a.query, null, function (c) {
                    !c.error && c.offers && c.offers.length && c.offers[0].price ? (c.original = a, c.offers = c.offers.map(function (a) {
                        if (b.price) {
                            var c = parseInt(a.price.value, 10);
                            a.price.isHigherThanCurrent = c > b.price, a.price.isEqualToCurrent = c === b.price, a.price.isLowerThanCurrent = c < b.price;
                        }
                        return a;
                    }), c.method = a.method, mbr.log("offers found"), mbr.log(c), mbr.hub.trigger("suggest:productOfferFound", c), d(c)) : (mbr.log("have not offers"), e(c));
                });
            });
        },
        getFlights: function (a) {
            if (mbr.log(a), a.origin && a.destination && a.departure_at && a.return_at) {
                var b = {
                    origin: a.origin,
                    destination: a.destination,
                    departure_at: a.departure_at,
                    return_at: a.return_at,
                    url: a.url
                };
                a.price && (b.price = a.person ? a.price / a.person : a.price), a.currency && (b.currency = a.currency), b = this._addScriptDataToParams(b);
                var c = this._getNetProvider();
                return a.query = this._getURL(this._host + "/avia?", b), new mbr.Promise(function (b, d) {
                    c.get(a.query, null, function (c) {
                        c && c.avia && c.avia.length ? (c.avia[0].original = a, mbr.log("avia found"), mbr.log(c), mbr.hub.trigger("suggest:aviaFound", c.avia[0]), b(c)) : d(c);
                    });
                });
            }
            return mbr.Promise.reject();
        },
        getProductOfferByURL: function (a) {
            mbr.log("get offers by url");
            var b = {
                url: a.url,
                price: a.productPrice
            };
            b = this._addScriptDataToParams(b), b.method = "url-search", mbr.log("get product offer by url"), mbr.log(b);
            var c = this._getNetProvider();
            return b.query = this._getURL(this._host + "/products?", b), new mbr.Promise(function (d, e) {
                c.get(b.query, null, function (c) {
                    if (!c.error && c.offers && c.offers.length && c.offers[0].price) {
                        c.original = a;
                        var f = c.convertedPrice || b.price;
                        c.offers = c.offers.map(function (a) {
                            if (f) {
                                var b = parseInt(a.price.value, 10);
                                a.price.isHigherThanCurrent = b > f, a.price.isEqualToCurrent = b === f, a.price.isLowerThanCurrent = f > b;
                            }
                            return a;
                        }), c.method = "url-search", mbr.log("offers found"), mbr.log(c), mbr.hub.trigger("suggest:productOfferFound", c), d(c);
                    } else
                        mbr.log("have not offers"), e(c);
                });
            });
        }
    }, mbr.customSelectors = {
        "aliexpress.com": {
            _tryGetEnglishName: function (a) {
                if (a = a || [], a = a.filter(function (a) {
                        return "oem" !== a && "new" !== a && -1 === a.indexOf("Другой");
                    }), !a.length)
                    return "";
                var b = /[а-яА-Я]/, c = a.filter(function (a) {
                        return !b.test(a);
                    });
                return c.length ? c[0] : a[0].indexOf("Яблоко") > -1 || a[0].indexOf("яблоко") > -1 ? "Apple" : a[0];
            },
            _getNameByCategoryRegex: function (a, b) {
                return this._tryGetEnglishName(a.filter(function (a) {
                    return b.test(a.innerHTML);
                }).map(function (a) {
                    return mbr.tools.getTextContents(a.querySelector("dd")).toLowerCase();
                }));
            },
            getName: function (a) {
                var b = "", c = /^(Фирменное\sнаименование)|(Производитель)|(>Brand)/, d = /(Model)|(моделирует)|(Модел)/, e = /(ПЗУ)|(ROM)/, f = [].slice.call(a.querySelectorAll("#product-desc .product-params .ui-box-body .ui-attr-list"));
                if (f && f.length) {
                    var g = this._getNameByCategoryRegex(f, c), h = this._getNameByCategoryRegex(f, d), i = this._getNameByCategoryRegex(f, e);
                    g && h && (-1 === h.indexOf(g) && (b = g + " "), b += h, i && (/\dg$/.test(i) && (i += "b"), b += " " + i));
                }
                return b;
            }
        },
        "videoigr.net": {
            getName: function (a) {
                var b, c = a.querySelector("tbody>tr>.pageHeading:nth-of-type(1) br"), d = a.querySelector("tbody>tr>.pageHeading:nth-of-type(1)");
                return b = c && c.previousSibling.textContent, b || (b = d ? mbr.tools.getTextContents(d) : ""), d && mbr.hub.trigger("productName:found", d), b;
            }
        }
    }, mbr.priceParser = mbr.priceParser || {
        _getProductPriceBySchema: function () {
            var a = 0, b = mbr.tools.getUniqueElements("[itemtype=\"http://schema.org/Product\"],[itemtype=\"http://schema.org/Offer\"],[itemtype=\"http://data-vocabulary.org/Product\"],[xmlns\\:gr=\"http://purl.org/goodrelations/v1#\"]");
            if (b.length) {
                var c = b[0], d = c.querySelector("[itemprop=price]") || c.querySelector("[itemprop=average]") || c.querySelector("[itemprop=lowPrice]") || c.querySelector("[property=\"gr:hasCurrencyValue\"]");
                d && (mbr.hub.trigger("productPrice:found", d), a = mbr.tools.priceAnalyze(d.textContent || d.text || d.getAttribute("content")), a = Number(a), a = a || 0);
            }
            return a;
        },
        _getProductCurrencyBySchema: function () {
            var a, b = mbr.tools.getUniqueElements("[itemtype=\"http://schema.org/Product\"],[itemtype=\"http://schema.org/Offer\"],[itemtype=\"http://data-vocabulary.org/Product\"],[xmlns\\:gr=\"http://purl.org/goodrelations/v1#\"]");
            if (b.length) {
                var c = b[0], d = c.querySelector("[itemprop=priceCurrency]") || c.querySelector("[itemprop=currency]"), e = c.querySelector("[itemprop=price]") || c.querySelector("[itemprop=average]") || c.querySelector("[itemprop=lowPrice]") || c.querySelector("[property=\"gr:hasCurrencyValue\"]");
                d ? a = d.getAttribute("content") || d.textContent || d.text : e && (a = e.getAttribute("content") || e.textContent || e.text, a = mbr.tools.getCurrencyFromStr(a), a || (a = e.parentNode.getAttribute("content") || e.parentNode.textContent || e.parentNode.text, a = mbr.tools.getCurrencyFromStr(a))), a && (a = a.replace(/[a-z]/g, function (a) {
                    return a.toUpperCase();
                }).replace(/[^A-Z]/g, ""));
            }
            return a;
        },
        _getProductPriceByHProduct: function () {
            var a = 0, b = mbr.tools.getUniqueElements(".hproduct .price");
            if (b.length) {
                var c = b[0];
                mbr.hub.trigger("productPrice:found", c), a = mbr.tools.priceAnalyze(c.textContent || c.text || c.getAttribute("content")), a = Number(a), a = a || 0;
            }
            return a;
        },
        _getProductCurrencyByHProduct: function () {
            var a, b = mbr.tools.getUniqueElements(".hproduct .price");
            if (b.length) {
                var c = b[0];
                a = mbr.tools.getCurrencyFromStr(c.innerHTML), a || (a = mbr.tools.getCurrencyFromStr(c.parentNode.innerHTML));
            }
            return a;
        },
        _getProductPriceByDefaultSelector: function () {
            var a;
            return a = mbr.tools.getDifferentElement(".price"), a ? (mbr.hub.trigger("productPrice:found", a), a = mbr.tools.getTextContents(a), a ? (a = mbr.tools.priceAnalyze(a), a = Number(a) || 0) : a = 0, a) : 0;
        },
        _getPriceBySelector: function (a, b) {
            var c = 0, d = a.querySelector(b);
            if (d && (mbr.hub.trigger("productPrice:found", d), d.getAttribute && (c = d.getAttribute("data-price")), !c)) {
                var e = mbr.tools.getTextContents(d) || d.getAttribute("value");
                e = mbr.tools.priceAnalyze(e), e = Number(e), c = e || 0;
            }
            return c;
        },
        _getCurrencyBySelector: function (a, b) {
            var c, d = a.querySelector(b);
            return d && (c = mbr.tools.getCurrencyFromStr(d.innerHTML), c || (c = mbr.tools.getCurrencyFromStr(d.parentNode.innerHTML))), c;
        },
        getProductPrice: function (a) {
            var b = mbr.tools.getHostname(a), c = 0, d = mbr.settings.getSelector();
            return mbr.settings.canExtractPrice(b) && (d && (d.priceSelector ? c = this._getPriceBySelector(a, d.priceSelector) : d.getPrice && (c = d.getPrice(a))), c = c || this._getProductPriceBySchema(a) || this._getProductPriceByHProduct(a) || this._getProductPriceByDefaultSelector(a)), c;
        },
        getCurrency: function (a) {
            var b, c = mbr.settings.getSelector();
            return b = this._getCurrencyBySelector(a, c && (c.currencySelector || c.priceSelector) || ".price"), b = b || c && c.getCurrency && c.getCurrency(a), b = b || this._getProductCurrencyBySchema(a) || this._getProductCurrencyByHProduct(a);
        }
    }, mbr.selectorsParser = mbr.selectorsParser || {
        _canParse: function (a) {
            return mbr.settings.isProductSuggestEnabled(a);
        },
        _getNameBySelector: function (a, b) {
            for (var c = b.split(","), d = null; c.length;) {
                b = c.shift();
                var e = window.document.querySelectorAll(b);
                if (1 == e.length) {
                    var f = e[0];
                    if (mbr.hub.trigger("productName:found", f), d = mbr.tools.getTextContents(f) || f.getAttribute("value"))
                        return d;
                }
            }
            return d;
        },
        _parse: function (a, b) {
            var c, d = {};
            return b.getName && (c = b.getName(a)), !c && b.nameSelector && (c = this._getNameBySelector(a, b.nameSelector)), c ? (d.name = c, d.price = this.getProductPrice(a), d.currency = this.getCurrency(a), d) : (mbr.hub.trigger("parser:notFound", { domain: mbr.tools.getHostname(a) }), null);
        },
        run: function (a) {
            var b = mbr.tools.getHostname(a);
            if (this._canParse(b)) {
                mbr.log("selectors run!");
                var c = mbr.settings.getSelector();
                if (c && (c.nameSelector || c.getName)) {
                    var d = this._parse(a, c);
                    if (d)
                        return mbr.log("Name: " + d.name + "; Price: " + d.price + "; Currency " + d.currency), mbr.suggest.getProductOffers({
                            productName: d.name,
                            productPrice: d.price,
                            currency: d.currency,
                            url: a.URL,
                            method: "selectors"
                        });
                }
            }
            return mbr.Promise.reject();
        }
    }, mbr.tools.mixin(mbr.selectorsParser, mbr.priceParser), mbr.microdataParser = mbr.microdataParser || {
        _canParse: function (a) {
            return mbr.settings.isProductSuggestEnabled(a) && mbr.settings.canUseMicrodata(a);
        },
        _getProductNameBySchema: function () {
            var a = null, b = mbr.tools.getUniqueElements("[itemtype=\"http://schema.org/Product\"],[itemtype=\"http://schema.org/Offer\"],[itemtype=\"http://data-vocabulary.org/Product\"],[xmlns\\:gr=\"http://purl.org/goodrelations/v1#\"]");
            if (b.length) {
                var c = b[0];
                if (c.getAttribute("itemref"))
                    return;
                var d = c.querySelectorAll("[itemprop=name],[property=\"gr:name\"]");
                [].forEach.call(d, function (b) {
                    a = a || b.getAttribute("content") || b.textContent || b.text || "";
                }), d.length && mbr.hub.trigger("productName:found", d[0]), a = a.replace(/\,/g, " ");
                var e = c.querySelector("[itemprop=brand]");
                if (e) {
                    var f = e.textContent || e.text || e.getAttribute("content");
                    f && (a = 0 !== a.indexOf(f) ? f + " " + a : a.replace(f, f + " "));
                }
            }
            return a;
        },
        _getProductNameByHProduct: function () {
            var a = null, b = mbr.tools.getUniqueElements(".hProduct,.hproduct");
            if (b.length) {
                var c = b[0], d = c.querySelectorAll(".fn");
                [].forEach.call(d, function (b) {
                    a = a || b.getAttribute("content") || b.textContent || b.text || "";
                }), d.length && mbr.hub.trigger("productName:found", d[0]), a = a.replace(/\,/g, " ");
                var e = c.querySelector(".brand");
                if (e) {
                    var f = e.textContent || e.text || e.getAttribute("content");
                    a = 0 !== a.indexOf(f) ? f + " " + a : a.replace(f, f + " ");
                }
            }
            return a;
        },
        _parse: function (a) {
            var b, c = this._getProductNameBySchema(a);
            if (c ? b = "microdata" : (c = this._getProductNameByHProduct(a), c && (b = "hproduct")), !c)
                return null;
            var d = this.getProductPrice(a), e = this.getCurrency(a);
            return {
                name: c,
                price: d,
                currency: e
            };
        },
        run: function (a) {
            var b = mbr.tools.getHostname(a);
            if (this._canParse(b)) {
                mbr.log("md.run!");
                var c = this._parse(a);
                if (c)
                    return mbr.log("Product name = " + c.name + " price = " + c.price), mbr.suggest.getProductOffers({
                        productName: c.name,
                        productPrice: c.price,
                        currency: c.currency,
                        url: a.URL,
                        method: "microdata"
                    });
            }
            return mbr.Promise.reject();
        }
    }, mbr.tools.mixin(mbr.microdataParser, mbr.priceParser), mbr.cmsParser = mbr.cmsParser || {
        _selectors: [
            {
                selector: "link[href*=\"bitrix/\"]",
                cms: "1C-Bitrix"
            },
            {
                selector: "meta[content*=\"Amiro.CMS\"]",
                cms: "Amiro.CMS"
            },
            {
                selector: "[umi\\:field-name],html[xmlns\\:umi*=\"umi-cms.ru\"]",
                cms: "UMI.CMS",
                product: "[umi\\:field-name=\"h1\"]",
                price: "[umi\\:field-name=\"price\"]"
            },
            {
                selector: "meta[content*='AdVantShop.NET']",
                cms: "AdVantShop.NET"
            },
            {
                selector: "meta[content*='PHPSHOP']",
                cms: "PHPShop"
            },
            {
                selector: "link[href*=\"insales.ru\"]",
                cms: "InSales"
            },
            {
                selector: "h1.mainbox-title",
                cms: "CS-Cart",
                product: "h1.mainbox-title"
            },
            {
                cms: "PrestaShop",
                selector: "meta[content*='PrestaShop']"
            },
            {
                cms: "OsCommerce",
                selector: "link[rel=\"stylesheet\"][href^=\"templates/\"][href$=\"/stylesheet.css\"]"
            },
            {
                cms: "Joomla!",
                selector: "meta[content*='Joomla']"
            },
            {
                cms: "WordPress",
                selector: "meta[content*='WordPress']"
            },
            {
                selector: "script[src*=\"drupal\"]",
                cms: "Drupal"
            }
        ],
        _canParse: function (a) {
            return mbr.settings.isProductSuggestEnabled(a) && mbr.settings.canCheckCMS(a);
        },
        _getCMS: function (a) {
            for (var b = 0; b < this._selectors.length; b++)
                if (this._selectors[b].selector && a.querySelector(this._selectors[b].selector))
                    return this._selectors[b];
            return null;
        },
        _getProductName: function (a, b) {
            var c = b.product || "h1", d = a.querySelector(c);
            return d ? mbr.tools.getTextContents(d) : null;
        },
        _getProductPriceBySelector: function (a, b) {
            if (b) {
                var c = a.querySelector(b);
                if (c) {
                    var d = mbr.tools.getTextContents(c);
                    return d = mbr.tools.priceAnalyze(d), d = Number(d) || 0;
                }
            }
            return 0;
        },
        run: function (a) {
            var b = mbr.tools.getHostname(a);
            if (this._canParse(b)) {
                mbr.log("cms.run!");
                var c = this._getCMS(a);
                if (c) {
                    mbr.log("find cms = %s", c.cms);
                    var d = this._getProductName(a, c);
                    if (d) {
                        var e = this._getProductPriceBySelector(a, c.price) || this.getProductPrice(a), f = this.getCurrency(a);
                        if (e)
                            return mbr.log("Product name = " + d + " price = " + e), mbr.suggest.getProductOffers({
                                productName: d,
                                productPrice: e,
                                currency: f,
                                url: a.URL,
                                method: "cms"
                            });
                        mbr.log("price not found");
                    }
                }
            }
            return mbr.Promise.reject();
        }
    }, mbr.tools.mixin(mbr.cmsParser, mbr.priceParser), mbr.aviaParser = mbr.aviaParser || {
        _sites: [
            {
                name: "aeroflot",
                urlRE: /https?:\/\/reservation\.aeroflot\.ru/,
                domain: "reservation.aeroflot.ru",
                getInfo: function (a) {
                    return new mbr.Promise(function (b) {
                        var c = 10, d = function () {
                                if (!c)
                                    return void b(m);
                                c -= 1;
                                var e = a.querySelector("[name=\"itineraryParts[0].departureAirport\"]"), f = a.querySelector("[name=\"itineraryParts[0].arrivalAirport\"]"), g = a.querySelector("#outbounds .active .date"), h = a.querySelector("#inbounds .active .date"), i = a.querySelector("#outbounds .active .prices-amount"), j = a.querySelector("#inbounds .active .prices-amount"), k = a.querySelector("#outbounds .active .currency"), l = a.querySelector("#ADT_id");
                                if (e && f && g && h && i && j && l && k) {
                                    var m = {};
                                    if (m.origin = e.value, m.destination = f.value, m.departure_at = g.getAttribute("data-wl-date").split(" ")[0].replace(/\//g, "-"), m.return_at = h.getAttribute("data-wl-date").split(" ")[0].replace(/\//g, "-"), m.price = parseInt(mbr.tools.priceAnalyze(i.innerText || i.textContent), 10) + parseInt(mbr.tools.priceAnalyze(j.innerText || j.textContent), 10), m.person = l.getAttribute("data-wl-value"), m.currency = k.innerText || k.textContent, m.origin && m.destination && m.departure_at && m.return_at && m.price && m.person && m.currency)
                                        return void b(m);
                                }
                                setTimeout(d, 500);
                            };
                        d();
                    });
                }
            },
            {
                name: "s7",
                urlRE: /ibe\.s7\.ru\/S7\/webqtrip\.html/,
                domain: "ibe.s7.ru",
                months: {
                    "Январь": "01",
                    "Февраль": "02",
                    "Март": "03",
                    "Апрель": "04",
                    "Май": "05",
                    "Июнь": "06",
                    "Июль": "07",
                    "Август": "08",
                    "Сентябрь": "09",
                    "Октябрь": "10",
                    "Ноябрь": "11",
                    "Декабрь": "12",
                    January: "01",
                    February: "02",
                    March: "03",
                    April: "04",
                    May: "05",
                    June: "06",
                    July: "07",
                    August: "08",
                    September: "09",
                    October: "10",
                    November: "11",
                    December: "12"
                },
                getInfo: function (a) {
                    var b, c, d, e, f = a.querySelectorAll(".route_details_left .col_2");
                    if (!(f && f.length > 1))
                        return mbr.Promise.reject();
                    b = f[0], c = f[1];
                    var g = a.querySelectorAll(".route_details_right .col_2")[1];
                    if (b && c) {
                        var h = /\((.+?)\).+?\((.+?)\)/, i = h.exec(mbr.tools.getTextContents(b));
                        i && i.length > 2 && (d = i[1], e = i[2]), c = mbr.tools.getTextContents(c), c = c.split(" "), c[1] = this.months[c[1]], c = c[2] + "-" + c[1] + "-" + c[0];
                    }
                    var j = {
                        origin: d,
                        destination: e,
                        departure_at: c
                    };
                    return g && (g = mbr.tools.getTextContents(g), g = g.split(" "), g[1] = this.months[g[1]], g[0] = 1 === g[0].length ? "0" + g[0] : g[0], g = g[2] + "-" + g[1] + "-" + g[0], j.return_at = g), new mbr.Promise(function (b) {
                        var c = 10, d = "#totalAmountWithOutDiscount", e = function () {
                                if (!c)
                                    return void b(j);
                                c -= 1;
                                var f = a.querySelector(d);
                                f && (f.innerText || f.textContent) ? (j.price = parseInt((f.innerText || f.textContent).replace(/\D/g, ""), 10), b(j)) : setTimeout(e, 500);
                            };
                        e();
                    });
                }
            },
            {
                name: "ozon.travel",
                urlRE: /ozon\.travel\/flight\/search\//,
                domain: "ozon.travel",
                getInfo: function (a) {
                    var b, c = a.URL, d = /flight\/search\/([a-z]{3})([a-z]{3})(?:[a-z]{6}){0,1}\/d(\d{4}\-\d{2}\-\d{2})(?:d(\d{4}\-\d{2}\-\d{2}))?/, e = d.exec(c);
                    return e && e.length > 3 ? (b = {
                        origin: e[1].toUpperCase(),
                        destination: e[2].toUpperCase(),
                        departure_at: e[3],
                        person: parseInt(mbr.tools.getQueryParam(c, "Dlts"), 10) || 1
                    }, e.length > 4 && (b.return_at = e[4]), new mbr.Promise(function (c) {
                        var d = 30, e = ".tariff big", f = function () {
                                if (!d)
                                    return void c(b);
                                d -= 1;
                                var g = a.querySelector(e);
                                if (g) {
                                    var h = "RUR";
                                    g.innerHTML.indexOf("$") > -1 ? h = "USD" : g.innerHTML.indexOf("€") > -1 && (h = "EUR"), b.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(g)), 10), b.currency = h, c(b);
                                } else
                                    setTimeout(f, 500);
                            };
                        f();
                    })) : mbr.Promise.reject();
                }
            },
            {
                name: "avia.travel.ru",
                domain: "avia.travel.ru",
                urlRE: /\.avia\.travel\.ru\/flights/,
                getInfo: function (a) {
                    return new mbr.Promise(function (b) {
                        var c = ".TPWL-ticket-price", d = ".TPWL-realtime_progressbar.ui-progressbar", e = /([A-Z]{3})$/, f = function () {
                                var g = a.querySelector(c), h = a.querySelector(d);
                                if (!h || 0 == h.offsetWidth && 0 == h.offsetHeight) {
                                    var i = a.URL, j = /\.avia\.travel\.ru\/flights\/([A-Z]{3})(\d{2})(\d{2})([A-Z]{3})(\d{2})(\d{2})(\d)/, k = j.exec(i), l = {
                                            origin: k[1],
                                            destination: k[4],
                                            person: +k[7]
                                        }, m = k[2], n = k[3], o = k[5], p = k[6], q = new Date().getFullYear(), r = mbr.tools.isMonthOfNextYear(parseInt(n, 10)) ? q + 1 : q, s = mbr.tools.isMonthOfNextYear(parseInt(p, 10)) || mbr.tools.isMonthOfNextYear(parseInt(n, 10)) ? q + 1 : q;
                                    if (l.departure_at = r + "-" + n + "-" + m, l.return_at = s + "-" + p + "-" + o, g) {
                                        var k = e.exec(g.innerHTML);
                                        k && k.length > 1 && (l.currency = k[1]), l.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(g)), 10);
                                    }
                                    b(l);
                                } else
                                    setTimeout(f, 500);
                            };
                        f();
                    });
                }
            },
            {
                name: "transaero.ru",
                urlRE: /https?:\/\/(?:www\.)?transaero\.ru\/wps\/portal\//,
                domain: "transaero.ru",
                getInfo: function (a) {
                    var b = (a.URL, {}), c = /\(([A-Z]+)\).+?\(([A-Z]+)\)/, d = /(\d{2})\-(\d{2})\-(\d{4})/, e = a.getElementById("onewayItin"), f = a.getElementById("onewayDepartureDateTime"), g = a.getElementById("returnwayDepartureDateTime");
                    if (e && f) {
                        var h = c.exec(e.innerText || e.textContent);
                        if (h && 3 === h.length && (b.origin = h[1], b.destination = h[2], h = d.exec(f.innerText || f.textContent), h && 4 === h.length))
                            return b.departure_at = h[3] + "-" + h[2] + "-" + h[1], g && (h = d.exec(g.innerText || g.textContent), h && 4 === h.length && (b.return_at = h[3] + "-" + h[2] + "-" + h[1])), new mbr.Promise(function (c) {
                                var d = 30, e = ".totalPrice > table > tbody > tr > td", f = function () {
                                        if (!d)
                                            return void c(b);
                                        d -= 1;
                                        var g = a.querySelector(e);
                                        g && (g.innerText || g.textContent) ? (b.price = parseInt(g.innerText || g.textContent, 10), c(b)) : setTimeout(f, 500);
                                    };
                                f();
                            });
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "sale.transaero.ru",
                urlRE: /sale\.transaero\.ru\/step/,
                domain: "sale.transaero.ru",
                getInfo: function (a) {
                    var b = a.URL, c = a.referrer, d = {
                            origin: mbr.tools.getQueryParam(b, "departureAirportCode") || mbr.tools.getQueryParam(c, "departureAirportCode") || mbr.tools.getQueryParam(b, "origin") || mbr.tools.getQueryParam(c, "origin"),
                            destination: mbr.tools.getQueryParam(b, "arrivalAirportCode") || mbr.tools.getQueryParam(c, "arrivalAirportCode") || mbr.tools.getQueryParam(b, "destination") || mbr.tools.getQueryParam(c, "destination"),
                            departure_at: mbr.tools.getQueryParam(b, "departureDate") || mbr.tools.getQueryParam(c, "departureDate"),
                            person: +(mbr.tools.getQueryParam(b, "adultsNum") || mbr.tools.getQueryParam(c, "adultsNum") || mbr.tools.getQueryParam(b, "numAdults") || mbr.tools.getQueryParam(c, "numAdults")),
                            return_at: mbr.tools.getQueryParam(b, "returnDate") || mbr.tools.getQueryParam(c, "returnDate")
                        };
                    return d.origin && d.destination && d.departure_at && d.return_at ? new mbr.Promise(function (b) {
                        var c = "#summaryTable td", e = 200, f = function () {
                                if (!e--)
                                    return void b(d);
                                var g = a.querySelectorAll(c);
                                g && g.length ? (g = g[g.length - 1], d.price = parseInt(mbr.tools.priceAnalyze(g.innerText || g.textContent), 10), d.currency = mbr.tools.getCurrencyFromStr(g.innerText || g.textContent), b(d)) : setTimeout(f, 1000);
                            };
                        f();
                    }) : mbr.Promise.reject(d);
                }
            },
            {
                name: "avia.tutu.ru",
                urlRE: /avia\.tutu\.ru\/offers\/\?/,
                domain: "avia.tutu.ru",
                getInfo: function (a) {
                    function b(a) {
                        return a && !/[А-Я]/i.test(a);
                    }
                    for (var c, d = a.URL.substr(a.URL.indexOf("?") + 1), e = d.split("&"), f = {
                                city_name_from: null,
                                city_name_to: null,
                                date_forward: null,
                                date_back: null,
                                passengers: ""
                            }, g = 0; g < e.length; g++)
                        e[g] = e[g].split("="), e[g][0] in f && (f[e[g][0]] = decodeURIComponent(e[g][1]), f[e[g][0]] = f[e[g][0]].split(" ")[0]);
                    if (!b(f.city_name_from) || !b(f.city_name_to)) {
                        var h = a.querySelector(".rm-page-container~script");
                        if (h) {
                            var i = h.innerHTML;
                            if (i = i.substring(i.indexOf("{\"from"), i.indexOf(",\"debugInfo"))) {
                                var j = JSON.parse(i);
                                j && (f.city_name_from = j.from[0].iata, f.city_name_to = j.to[0].iata), f.date_forward && f.date_back || (f.date_forward = j.date[0], f.date_back = j.date[1]);
                            }
                        }
                    }
                    return f.city_name_from && f.city_name_to && f.date_forward ? (c = {
                        origin: f.city_name_from,
                        destination: f.city_name_to,
                        departure_at: f.date_forward.split(".").reverse().join("-")
                    }, f.date_back && (c.return_at = f.date_back.split(".").reverse().join("-")), new mbr.Promise(function (b) {
                        var d = ".b-promostamp.b-promostamp-bestprice ~ .b-buttonext-avia > .buttonext_rows > .buttonext_digits", e = ".b-clouds_wait", g = function () {
                                var h = a.querySelector(d), i = a.querySelector(e);
                                h && !i ? (c.price = parseInt((h.innerText || h.textContent).replace(/\D/g, ""), 10), c.person = parseInt(f.passengers[0], 10) || 1, b(c)) : setTimeout(g, 500);
                            };
                        g();
                    })) : mbr.Promise.reject();
                }
            },
            {
                name: "travelwith.s7.ru",
                domain: "travelwith.s7.ru",
                urlRE: /travelwith\.s7\.ru\/(?:selectExactDateSearchFlights|selectFlexibleSearchFlights)\.action/,
                getInfo: function (a) {
                    var b, c = a.URL;
                    if (b = {
                            origin: mbr.tools.getQueryParam(c, "DA1"),
                            destination: mbr.tools.getQueryParam(c, "AA1"),
                            departure_at: mbr.tools.getQueryParam(c, "DD1"),
                            person: +mbr.tools.getQueryParam(c, "TA"),
                            return_at: mbr.tools.getQueryParam(c, "DD2") || void 0,
                            currency: mbr.tools.getQueryParam(c, "CUR")
                        }, b.origin && b.destination && b.departure_at && b.person > 0) {
                        var d = a.querySelector(".amount b");
                        if (d) {
                            var e = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(d)), 10);
                            e && (b.price = e);
                        }
                        return mbr.Promise.resolve(b);
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "onetwotrip.com",
                domain: "onetwotrip.com",
                urlRE: /onetwotrip\.com\/.*(\d{2})(\d{2})([A-Z]{3})([A-Z]{3})(\d{2})(\d{2}).*&s$/,
                getInfo: function (a) {
                    var b, c, d = a.URL, e = this.urlRE.exec(d), f = {
                            origin: e[3],
                            destination: e[4],
                            person: 1
                        }, g = e[1], h = e[2], i = e[5], j = e[6], k = new Date();
                    if (b = mbr.tools.isMonthOfNextYear(parseInt(h, 10)) ? k.getFullYear() + 1 : k.getFullYear(), c = mbr.tools.isMonthOfNextYear(parseInt(j, 10)) || mbr.tools.isMonthOfNextYear(parseInt(h, 10)) ? k.getFullYear() + 1 : k.getFullYear(), f.departure_at = b + "-" + h + "-" + g, f.return_at = c + "-" + j + "-" + i, f.origin && f.destination && f.departure_at && f.return_at) {
                        var l = a.querySelector(".direction_price span:not(.min_priceword)");
                        if (l) {
                            var m = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(l)), 10);
                            m && (f.price = m);
                            var n = a.querySelector("#CurrenciesBlock .d_option .selected");
                            n && (f.currency = n.getAttribute("data-cur"));
                        }
                        return mbr.Promise.resolve(f);
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "anywayanyday.com",
                domain: "anywayanyday.com",
                urlRE: /anywayanyday\.com\/avia\/offers\/(\d{2})(\d{2})([A-Z]{3})([A-Z]{3})(\d{2})(\d{2})[A-Z]{6}AD(\d+)/,
                getInfo: function (a) {
                    var b, c, d = a.URL, e = this.urlRE.exec(d), f = {
                            origin: e[3],
                            destination: e[4],
                            person: +e[7]
                        }, g = e[1], h = e[2], i = e[5], j = e[6], k = new Date();
                    return b = mbr.tools.isMonthOfNextYear(parseInt(h, 10)) ? k.getFullYear() + 1 : k.getFullYear(), c = mbr.tools.isMonthOfNextYear(parseInt(j, 10)) || mbr.tools.isMonthOfNextYear(parseInt(h, 10)) ? k.getFullYear() + 1 : k.getFullYear(), f.departure_at = b + "-" + h + "-" + g, f.return_at = c + "-" + j + "-" + i, new mbr.Promise(function (b) {
                        var c = 50, d = ".b-price", e = ".j-currency_changer.s-selected", g = function () {
                                if (!c)
                                    return void b(f);
                                c -= 1;
                                var h = a.querySelector(d);
                                if (h && (h.innerText || h.textContent)) {
                                    f.price = parseInt((h.innerText || h.textContent).replace(/\D/g, ""), 10);
                                    var i = a.querySelector(e);
                                    i && (f.currency = i.getAttribute("data-currency")), b(f);
                                } else
                                    setTimeout(g, 500);
                            };
                        g();
                    });
                }
            },
            {
                name: "biletix.ru",
                domain: "biletix.ru",
                urlRE: /https?:\/\/biletix\.ru\/#offer__\d+/,
                getInfo: function (a) {
                    var b = {}, c = {
                            origin: "depart",
                            destination: "arrival",
                            departure_at: "dateto",
                            return_at: "dateback",
                            type: "RT_OW",
                            person: "adult"
                        };
                    for (var d in c)
                        if (c.hasOwnProperty(d)) {
                            if (c[d] = a.getElementsByName(c[d]), !c[d] || !c[d].length)
                                return mbr.Promise.reject();
                            if (c[d] = c[d][0].value, !c[d])
                                return mbr.Promise.reject();
                        }
                    if ("RT" === c.type) {
                        var e, f = /\(([A-Z]{3})\)/;
                        if (e = f.exec(c.origin), e && e.length > 1 && (b.origin = e[1], e = f.exec(c.destination), e && e.length > 1)) {
                            b.destination = e[1], b.departure_at = c.departure_at.split(".").reverse().join("-"), b.return_at = c.return_at.split(".").reverse().join("-"), b.person = +c.person;
                            var g = a.querySelector(".price");
                            if (g) {
                                b.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(g)), 10);
                                var h = a.querySelector("li.selected label");
                                h && (b.currency = h.innerText || h.textContent);
                            }
                            return mbr.Promise.resolve(b);
                        }
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "pososhok.ru",
                domain: "pososhok.ru",
                urlRE: /https?:\/\/(www.)?pososhok\.ru\//,
                getInfo: function (a) {
                    return new mbr.Promise(function (b, c) {
                        var d = 15, e = "#mapContainer", f = function () {
                                var b = a.querySelector(".flight .price h5"), c = a.querySelector(".thin-selector .selected"), d = a.querySelectorAll("#form-roundtrip .datepicker-bind");
                                if (b && c && d && 2 === d.length) {
                                    var e = location.hash.split("-");
                                    if (e.length > 2) {
                                        var f = {};
                                        return f.origin = e[e.length - 2], f.destination = e[e.length - 1], f.person = +mbr.tools.getTextContents(c), f.departure_at = d[0].value, f.return_at = d[0].value, f.price = +mbr.tools.priceAnalyze(mbr.tools.getTextContents(b)), f;
                                    }
                                }
                                return null;
                            }, g = function () {
                                if (!d) {
                                    var h = f();
                                    return void (h ? b(h) : c());
                                }
                                d -= 1, a.querySelector(e) ? setTimeout(g, 1000) : (h = f(), h ? b(h) : c(h));
                            };
                        g();
                    });
                }
            },
            {
                name: "new.pososhok.ru",
                domain: "new.pososhok.ru",
                urlRE: /https?:\/\/new\.pososhok\.ru\/#result\//,
                getInfo: function (a) {
                    return new mbr.Promise(function (b, c) {
                        var d = {}, e = /([A-Z]{3})\-([A-Z]{3})$/, f = e.exec(a.URL);
                        if (!(f && f.length > 2))
                            return void c();
                        d.origin = f[1], d.destination = f[2];
                        var g = 60, h = function () {
                                if (g--) {
                                    var e = a.querySelector("#form-roundtrip");
                                    if (!e)
                                        return void setTimeout(h, 1000);
                                    var f = a.querySelectorAll("#minor-form-roundtrip .dates .datepicker-bind");
                                    f && 2 === f.length && (d.departure_at = f[0].value, d.return_at = f[1].value);
                                    var i = a.querySelector("[data-field=\"adults\"]");
                                    d.person = i ? i.value : 1;
                                    var j = a.querySelector(".best-flight .price");
                                    if (j && (d.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(j)), 10), d.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(j))), d.origin && d.destination && d.departure_at && d.return_at && d.price)
                                        return void b(d);
                                    c();
                                } else
                                    c();
                            };
                        h();
                    });
                }
            },
            {
                name: "agent.ru",
                domain: "agent.ru",
                urlRE: /https?:\/\/(www.)?agent.ru\/ru\/booking\/choice/,
                getInfo: function (a) {
                    return new mbr.Promise(function (b, c) {
                        for (var d, e = a.getElementsByTagName("script"), f = /var searchRequest\s*=\s*(.+?);\s*\n?/, g = e.length - 1; g >= 0 && !(e[g].textContent.indexOf("var searchRequest") > -1 && (d = f.exec(e[g].textContent), d && d.length)); g--);
                        if (d && d.length) {
                            var h;
                            try {
                                h = JSON.parse(d[1]);
                            } catch (i) {
                                c();
                            }
                            if (h && h.segments && 2 === h.segments.length) {
                                var j = {};
                                j.origin = h.segments[0].departurePoint.city.codeIATA, j.destination = h.segments[0].arrivalPoint.city.codeIATA, j.person = h.adultsCount;
                                var k = new Date(h.segments[0].departureDate), l = k.getMonth() + 1;
                                l = 10 > l ? "0" + l : l;
                                var m = new Date(h.segments[1].departureDate), n = m.getMonth() + 1;
                                n = 10 > n ? "0" + n : n, j.departure_at = k.getFullYear() + "-" + l + "-" + (k.getDate() < 10 ? "0" + k.getDate() : k.getDate()), j.return_at = m.getFullYear() + "-" + n + "-" + (m.getDate() < 10 ? "0" + m.getDate() : m.getDate());
                                var o = a.querySelector("nobr.rub"), p = a.querySelector("nobr.usd"), q = a.querySelector("nobr.eur"), r = ".price .rub b";
                                o && "none" !== o.style.display ? j.currency = "RUB" : p && "none" !== p.style.display ? (j.currency = "USD", r = ".price .usd b") : q && "none" !== q.style.display && (j.currency = "EUR", r = ".price .eur b");
                                var s = a.querySelector(r);
                                s && (j.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(s)), 10)), b(j);
                            }
                        }
                        c();
                    });
                }
            },
            {
                name: "nabortu.ru",
                domain: "nabortu.ru",
                urlRE: /https?:\/\/(www.)?nabortu\.ru\/aviabilety\/\?/,
                getInfo: function (a) {
                    var b, c = a.URL;
                    if (b = {
                            origin: mbr.tools.getQueryParam(c, "codeFrom"),
                            destination: mbr.tools.getQueryParam(c, "codeWhere"),
                            departure_at: mbr.tools.getQueryParam(c, "datein"),
                            person: +mbr.tools.getQueryParam(c, "adults_num"),
                            return_at: mbr.tools.getQueryParam(c, "dateout") || void 0
                        }, b.origin && b.destination && b.departure_at && b.person > 0) {
                        b.departure_at = b.departure_at.split(".").reverse().join("-"), b.return_at = b.return_at.split(".").reverse().join("-");
                        var d = a.querySelector(".act-black a");
                        if (d) {
                            var e = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(d)), 10);
                            e && (b.price = e);
                        }
                        return mbr.Promise.resolve(b);
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "aviacassa.ru",
                domain: "aviacassa.ru",
                urlRE: /https?:\/\/(?:www\.)?aviacassa\.ru\/air\/view\/([A-Z]{3})\-([A-Z]{3})\/(\d{4}\-\d{2}\-\d{2})\/(\d{4}\-\d{2}\-\d{2})\/(\d+)ADT/,
                getInfo: function (a) {
                    var b = a.URL, c = this.urlRE.exec(b), d = {
                            origin: c[1],
                            destination: c[2],
                            departure_at: c[3],
                            return_at: c[4],
                            person: +c[5]
                        };
                    if (d.origin && d.destination && d.departure_at && d.return_at) {
                        var e = a.querySelector(".blueborderedflight .dyna-currency-amount");
                        if (e) {
                            var f = parseInt((e.innerText || e.textContent).replace(/\D/g, ""), 10);
                            if (f) {
                                d.price = f;
                                var g = a.querySelector(".dyna-currency-symbol");
                                g && (d.currency = g.innerText || g.textContent);
                            }
                        }
                        return mbr.Promise.resolve(d);
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "sindbad.ru",
                domain: "sindbad.ru",
                urlRE: /https?:\/\/(?:www\.)?sindbad\.ru\/ru\/flight\/results\/([A-Z]{3})([A-Z]{3})(\d{4})(\d{2})(\d{2})(\d{4})(\d{2})(\d{2})(\d)00E0/,
                getInfo: function (a) {
                    var b = a.URL, c = this.urlRE.exec(b), d = {
                            origin: c[1],
                            destination: c[2],
                            departure_at: c[3] + "-" + c[4] + "-" + c[5],
                            return_at: c[6] + "-" + c[7] + "-" + c[8],
                            person: +c[9]
                        };
                    if (d.origin && d.destination && d.departure_at && d.return_at) {
                        var e = a.querySelector(".cost .lPrice");
                        if (e) {
                            var f = parseInt((e.innerText || e.textContent).replace(/\D/g, ""), 10);
                            f && (d.price = f);
                        }
                        return mbr.Promise.resolve(d);
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "klm.com",
                domain: "klm.com",
                urlRE: /https?:\/\/(?:www\.)?klm\.com\/travel\/[^\/]+\/apps\/ebt\/calendar\.htm/,
                getInfo: function (a) {
                    var b = a.URL, c = {
                            origin: mbr.tools.getQueryParam(b, "origin"),
                            destination: mbr.tools.getQueryParam(b, "destination"),
                            departure_at: mbr.tools.getQueryParam(b, "outboundDate"),
                            return_at: mbr.tools.getQueryParam(b, "inboundDate"),
                            person: +mbr.tools.getQueryParam(b, "numberOfAdults")
                        };
                    return c.origin && c.destination && c.departure_at && c.return_at && c.person ? new mbr.Promise(function (b) {
                        var d = ".est-selected.est-price div, .est-flight.est-selected .est-price", e = ".search-loading", f = ".est-loading-indicator", g = 15, h = function () {
                                if (g--) {
                                    var i = a.querySelector(d), j = a.querySelector(e), k = a.querySelector(f);
                                    if (i && !j && 0 == k.offsetWidth && 0 == k.offsetHeight) {
                                        var l = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(i).replace(/\D/g, "")), 10);
                                        if (l)
                                            return c.price = l, c.currency = mbr.tools.getCurrencyFromStr(i.querySelector("span").innerText), void b(c);
                                    }
                                    setTimeout(h, 1000);
                                } else
                                    b(c);
                            };
                        h();
                    }) : mbr.Promise.reject();
                }
            },
            {
                name: "britishairways.com",
                domain: "britishairways.com",
                urlRE: /https?:\/\/(www.)?britishairways\.com\/travel\/fx/,
                getInfo: function (a) {
                    return new mbr.Promise(function (b, c) {
                        for (var d, e = a.getElementsByTagName("script"), f = /depart_airport\s*=\s*'(\S{3})';[\s\S]+?destination_airport\s*=\s*'(\S{3})'[\s\S]+currency_code\s*=\s*'(\S{3})[\s\S]+depart_date\s*=\s*'([\d\-]{10})[\s\S]+return_date\s*=\s*'([\d\-]{10})/, g = e.length - 1; g >= 0 && !(e[g].textContent.indexOf("collectTagManData") > -1 && (d = f.exec(e[g].textContent), d && d.length)); g--);
                        if (d && d.length > 5) {
                            var h = {};
                            if (h.origin = d[1], h.destination = d[2], h.currency = d[3], h.departure_at = d[4], h.return_at = d[5], h.person = 1, h.origin && h.destination && h.departure_at && h.return_at) {
                                var i = a.querySelector("#outboundDates .col1 .lowestPriceFlagtrue label"), j = a.querySelector("#inboundDates .col1 .lowestPriceFlagtrue label");
                                return j && i && (h.price = parseInt(i.innerHTML.replace(/\D/g, ""), 10) + parseInt(j.innerHTML.replace(/\D/g, ""), 10)), void b(h);
                            }
                        }
                        c();
                    });
                }
            },
            {
                name: "airfrance.ru",
                domain: "airfrance.ru",
                urlRE: /https?:\/\/(www.)?airfrance\.ru\/cgi\-bin\/AF\/.+?\/.+?\/local\/process\/standardbooking\/DisplayFlightPageAction\.do/,
                getInfo: function (a) {
                    return new mbr.Promise(function (b, c) {
                        for (var d, e = a.getElementsByTagName("script"), f = /u3\s*=\s*"(\S{3})(\S{3})";[\s\S]+?u5\s*=\s*"(\S{3})"/, g = e.length - 1; g >= 0 && !(e[g].textContent.indexOf("var u3") > -1 && (d = f.exec(e[g].textContent), d && d.length)); g--);
                        if (d && d.length > 3) {
                            var h = {};
                            h.origin = d[1], h.destination = d[2], h.currency = d[3];
                            var i = a.getElementById("idTrip0Day"), j = a.getElementById("idTrip0MonthYear"), k = a.getElementById("idTrip1Day"), l = a.getElementById("idTrip1MonthYear");
                            if (i && j && k && l && (h.departure_at = j.value.substr(0, 4) + "-" + j.value.substr(4, 2) + "-" + i.value, h.return_at = l.value.substr(0, 4) + "-" + l.value.substr(4, 2) + "-" + k.value), h.origin && h.destination && h.departure_at && h.return_at) {
                                var m = a.querySelector(".blocMiniRecapOnePaxPrice");
                                return m && (h.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(m)), 10)), void b(h);
                            }
                        }
                        c();
                    });
                }
            },
            {
                name: "skyscanner.ru",
                urlRE: /https?\:\/\/(www\.)?skyscanner\.(ru|com|de|net|co\.id|com\.ua)\/transport\/(flights|fluge)\//,
                domain: "skyscanner.ru",
                getInfo: function (a) {
                    var b = {};
                    return new mbr.Promise(function (c) {
                        var d = 40, e = ".header-info-bestprice button", f = function () {
                                if (!d)
                                    return void c(b);
                                d -= 1;
                                var g = a.querySelector(".day-options-item.depart .day-options-navigation span"), h = a.querySelector(".day-options-item.return .day-options-navigation span"), i = a.querySelectorAll(".route-code");
                                g && h && i && i.length > 1 && (b.departure_at = g.getAttribute("data-date"), b.return_at = h.getAttribute("data-date"), b.origin = (i[0].innerText || i[0].textContent).substr(1, 3), b.destination = (i[1].innerText || i[1].textContent).substr(1, 3));
                                var j = a.querySelector(e);
                                j ? (b.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(j)), 10), b.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(j)), c(b)) : setTimeout(f, 1000);
                            };
                        f();
                    });
                }
            },
            {
                name: "airberlin.com",
                urlRE: /https?\:\/\/(www\.)?airberlin\.com\/.+?\/booking\/flight\/vacancy\.php/,
                domain: "airberlin.com",
                getInfo: function (a) {
                    var b = {};
                    return new mbr.Promise(function (c) {
                        var d = 40, e = "#vacancy_priceoverview .total td", f = function () {
                                if (!d)
                                    return void c(b);
                                d -= 1;
                                var g = a.querySelector(".paxcountpertype");
                                g && (b.person = +g.innerHTML.replace(/\D/g, ""));
                                {
                                    var h = a.getElementById("departurecode"), i = a.getElementById("destinationcode"), j = a.getElementById("outbounddate"), k = a.getElementById("returndate");
                                    a.querySelectorAll(".route-code");
                                }
                                h && i && j && k && (b.departure_at = j.value.split(/\.|\//).reverse().join("-"), b.return_at = k.value.split(/\.|\//).reverse().join("-"), b.origin = h.value, b.destination = i.value);
                                var l = a.querySelector(e);
                                l ? (b.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(l)).replace(".", ""), 10), b.currency = mbr.tools.getCurrencyFromStr(l.innerHTML), c(b)) : setTimeout(f, 1000);
                            };
                        f();
                    });
                }
            },
            {
                name: "booking.alitalia.com",
                urlRE: /https?:\/\/booking\.alitalia\.com\/Booking\//,
                domain: "alitalia.com",
                getInfo: function (a) {
                    var b = {}, c = a.getElementById("Destinations_DepartureAirport"), d = a.getElementById("Destinations_ArrivalAirport"), e = a.querySelector("[name=\"DCSext.NumAd\"]"), f = a.getElementById("Destinations_DepartureDate"), g = a.getElementById("Destinations_ReturnDate"), h = a.querySelector("#OutboundRoutePanel .brand_routedetail_bestprice input"), i = a.querySelector("#ReturnRoutePanel .brand_routedetail_bestprice input");
                    return c && d && e && f && g ? (b.origin = c.value, b.destination = d.value, b.person = +e.content, b.departure_at = f.value.split("/").reverse().join("-"), b.return_at = g.value.split("/").reverse().join("-"), h && i && (b.price = Number(h.getAttribute("price")) + Number(i.getAttribute("price")), b.currency = mbr.tools.getCurrencyFromStr(h.value)), mbr.Promise.resolve(b)) : mbr.Promise.reject();
                }
            },
            {
                name: "iberia.com",
                urlRE: /https?:\/\/(www\.)?iberia\.com\/web\/(dispatchSearchFormHOME|dispatchCurrencyChangeConfirm)/,
                domain: "iberia.com",
                getInfo: function (a) {
                    var b = {}, c = a.querySelector(".from-fly-table .choose-flight-list .like-row");
                    if (c) {
                        var d = a.querySelectorAll(".from-fly-table .choose-flight-list .like-row .flight-code");
                        if (d && d.length) {
                            var e = d[0].href;
                            b.origin = mbr.tools.getQueryParam(e, "beginLocation"), b.departure_at = mbr.tools.getQueryParam(e, "bDate"), b.departure_at = b.departure_at.replace(/(\d{4})(\d{2})(\d{2}).+/, "$1-$2-$3"), e = d[d.length - 1].href, b.destination = mbr.tools.getQueryParam(e, "endLocation");
                        }
                        d = a.querySelector(".return-fly-table .choose-flight-list .like-row .flight-code"), d && (b.return_at = mbr.tools.getQueryParam(d.href, "bDate").replace(/(\d{4})(\d{2})(\d{2}).+/, "$1-$2-$3"));
                        var f = a.querySelectorAll(".selected .price");
                        if (f)
                            var g = f[0], h = f[1];
                        g && (b.price = +mbr.tools.priceAnalyze(mbr.tools.getTextContents(g)), b.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(g))), h && (b.price += +mbr.tools.priceAnalyze(mbr.tools.getTextContents(h)));
                    }
                    return b.origin && b.destination && b.departure_at && b.return_at ? mbr.Promise.resolve(b) : mbr.Promise.reject();
                }
            },
            {
                name: "kayak.ru",
                urlRE: /https?:\/\/(?:www\.)?kayak\.ru\/flights\/(\S{3})\-(\S{3})\/(\S{10})\/(\S{10})/,
                domain: "kayak.ru",
                getInfo: function (a) {
                    var b, c = a.URL, d = this.urlRE.exec(c);
                    return d ? (b = {
                        origin: d[1].toUpperCase(),
                        destination: d[2].toUpperCase(),
                        departure_at: d[3],
                        return_at: d[4]
                    }, new mbr.Promise(function (c) {
                        var d = ".pricerange a", e = "#progressDiv", f = function () {
                                var g = a.querySelector(d), h = a.querySelector(e);
                                g && !h ? (b.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(g)), 10), c(b)) : setTimeout(f, 500);
                            };
                        f();
                    })) : mbr.Promise.reject();
                }
            },
            {
                name: "lufthansa.com",
                urlRE: /https?:\/\/book\.lufthansa\.com\/lh\/dyn\/air\-lh\/revenue\/viewFlights/,
                domain: "lufthansa.com",
                getInfo: function (a) {
                    var b = {}, c = a.querySelector(".flight-details").querySelectorAll("[title=\"Acronym full name\"]");
                    c && (b.origin = c[0].innerHTML, b.destination = c[1].innerHTML);
                    var d = a.querySelector("#calendarDatesList0 .tab.ui-state-active time");
                    d && (b.departure_at = d.innerHTML.replace(/[^\.\d]/g, "").replace(/(\d{2})\.(\d{2})\.(\d{2})/, "20$3-$2-$1"));
                    var e = a.querySelector("#calendarDatesList1 .tab.ui-state-active time");
                    e && (b.return_at = e.innerHTML.replace(/[^\.\d]/g, "").replace(/(\d{2})\.(\d{2})\.(\d{2})/, "20$3-$2-$1"));
                    var f = a.querySelector("#calendarDatesList0 .tab.ui-state-active .number");
                    f && (b.price = +f.getAttribute("data-value"));
                    var g = a.querySelector("#calendarDatesList1 .tab.ui-state-active .number");
                    g && (b.price += +g.getAttribute("data-value"));
                    var h = a.querySelector("#calendarDatesList1 .tab.ui-state-active .currency");
                    return h && (b.currency = mbr.tools.getTextContents(h)), b.origin && b.destination && b.return_at && b.departure_at ? mbr.Promise.resolve(b) : mbr.Promise.reject();
                }
            },
            {
                name: "travel.ulmart.ru",
                urlRE: /https?:\/\/travel\.ulmart\.ru\/flight\/search/,
                domain: "travel.ulmart.ru",
                getInfo: function (a) {
                    var b = {}, c = a.URL, d = mbr.tools.getQueryParam(c, "fromPoint"), e = mbr.tools.getQueryParam(c, "toPoint"), f = mbr.tools.getQueryParam(c, "adultsCount"), g = mbr.tools.getQueryParam(c, "forthDate"), h = mbr.tools.getQueryParam(c, "returnDate"), i = a.querySelector(".b-price__num");
                    return d && e && f && g && h ? (b.origin = d, b.destination = e, b.person = +f, b.departure_at = g.split(/\.|\//).reverse().join("-"), b.return_at = h.split(/\.|\//).reverse().join("-"), i && (b.price = Number(mbr.tools.priceAnalyze(mbr.tools.getTextContents(i))) || 0, b.currency = "RUR"), mbr.Promise.resolve(b)) : mbr.Promise.reject();
                }
            },
            {
                name: "tripadvisor.ru",
                urlRE: /https?\:\/\/(www\.)?tripadvisor\.(com|ru)\/CheapFlights/,
                domain: "tripadvisor.ru",
                getInfo: function (a) {
                    var b = a.URL, c = {
                            origin: mbr.tools.getQueryParam(b, "Orig"),
                            destination: mbr.tools.getQueryParam(b, "Dest")
                        }, d = mbr.tools.getQueryParam(b, "leaveday"), e = mbr.tools.getQueryParam(b, "retday");
                    return d && e && (1 === d.length && (d = "0" + d), 1 === e.length && (e = "0" + e), c.departure_at = d + "/" + mbr.tools.getQueryParam(b, "leavemonth"), c.return_at = e + "/" + mbr.tools.getQueryParam(b, "retmonth"), c.origin && c.destination && c.departure_at && c.return_at) ? (c.departure_at = c.departure_at.split("/").reverse().join("-"), c.return_at = c.return_at.split("/").reverse().join("-"), mbr.Promise.resolve(c)) : mbr.Promise.reject();
                }
            },
            {
                name: "momondo.ru",
                urlRE: /https?:\/\/(?:www\.)?momondo\.ru\/.+?Search=true/,
                domain: "momondo.ru",
                getInfo: function (a) {
                    var b = a.URL, c = {
                            origin: mbr.tools.getQueryParam(b, "SO0"),
                            destination: mbr.tools.getQueryParam(b, "SD0"),
                            departure_at: mbr.tools.getQueryParam(b, "SDP0"),
                            return_at: mbr.tools.getQueryParam(b, "SDP1")
                        };
                    return c.origin && c.destination && c.departure_at && c.return_at ? (c.departure_at = c.departure_at.split("-").reverse().join("-"), c.return_at = c.return_at.split("-").reverse().join("-"), new mbr.Promise(function (d) {
                        var e = "#flight-tickets-sortbar-cheapest .price", f = "#wheelcontainer object", g = function () {
                                var h = a.querySelector(e), i = a.querySelector(f);
                                !i || i.offsetWidth < 100 ? (h && (c.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(h)), 10), c.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(h))), b = a.URL, c.origin = mbr.tools.getQueryParam(b, "SO0"), c.destination = mbr.tools.getQueryParam(b, "SD0"), c.departure_at = mbr.tools.getQueryParam(b, "SDP0"), c.return_at = mbr.tools.getQueryParam(b, "SDP1"), c.departure_at = c.departure_at.split("-").reverse().join("-"), c.return_at = c.return_at.split("-").reverse().join("-"), d(c)) : setTimeout(g, 500);
                            };
                        g();
                    })) : mbr.Promise.reject();
                }
            },
            {
                name: "buruki.ru",
                urlRE: /https?:\/\/(?:www\.)?buruki\.ru\/search\/([a-z]{3})\/([a-z]{3})\/(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})\/(\d+)/,
                domain: "kayak.ru",
                getInfo: function (a) {
                    var b = this.urlRE.exec(a.URL);
                    if (b) {
                        var c = {
                            origin: b[1].toUpperCase(),
                            destination: b[2].toUpperCase(),
                            departure_at: b[3],
                            return_at: b[4],
                            person: b[5]
                        };
                        return new mbr.Promise(function (b) {
                            var d = ".search-results-item .price", e = ".bu-progress", f = 60, g = function () {
                                    if (f--) {
                                        var h = a.querySelector(d), i = a.querySelector(e);
                                        h && !i ? (c.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(h)), 10), c.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(h)), b(c)) : setTimeout(g, 500);
                                    } else
                                        b(c);
                                };
                            g();
                        });
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "trip.ru",
                urlRE: /https?:\/\/(www\.)?trip\.ru\/flights\/searches\//,
                domain: "trip.ru",
                getInfo: function (a) {
                    return new mbr.Promise(function (b, c) {
                        var d = a.getElementById("workingIndication");
                        d || c();
                        var e = 60, f = function () {
                                if (e--)
                                    if ("none" === d.style.display) {
                                        var g = {}, h = a.getElementById("resultsContainer");
                                        h && (h = h.getAttribute("data-search-od"), h && (g.origin = h.split("-")[0], g.destination = h.split("-")[1])), g.departure_at = a.getElementById("e_travel_flights_search_departure").value, g.return_at = a.getElementById("e_travel_flights_search_return").value, g.person = parseInt(a.getElementById("passengers").value, 10);
                                        var i = a.getElementById("lblMinPrice");
                                        i && (g.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(i)), 10), g.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(i.parentNode))), b(g);
                                    } else
                                        setTimeout(f, 1000);
                                else
                                    c();
                            };
                        f();
                    });
                }
            },
            {
                name: "orenair.ru",
                urlRE: /https?:\/\/(intershop\.)?orenair\.ru\/(.+?)\/timetable#timetable-pricing/,
                domain: "intershop.orenair.ru",
                getInfo: function (a) {
                    var b = {}, c = a.getElementById("originCityName"), d = a.getElementById("destinationCityName"), e = a.getElementById("thereDate"), f = a.getElementById("backDate"), g = a.getElementById("count-aaa");
                    if (c && d && e && f && g) {
                        b.origin = c.value, b.destination = d.value, b.departure_at = e.value.split(".").reverse().join("-"), b.return_at = f.value.split(".").reverse().join("-"), b.person = +g.value;
                        var h = a.querySelector("#payment-type-card a");
                        return h && (b.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(h)), 10), b.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(h))), mbr.Promise.resolve(b);
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "utair.ru",
                urlRE: /https?:\/\/(booking\.)?utair\.ru\/(.+?)\/avia\/b2b\/(tariffication|availability)\.jsf/,
                domain: "booking.utair.ru",
                getInfo: function (a) {
                    var b = a.referrer, c = {
                            origin: mbr.tools.getQueryParam(b, "origin-city-name"),
                            destination: mbr.tools.getQueryParam(b, "destination-city-name"),
                            departure_at: mbr.tools.getQueryParam(b, "there-date"),
                            return_at: mbr.tools.getQueryParam(b, "back-date"),
                            person: +mbr.tools.getQueryParam(b, "count-aaa")
                        };
                    return c.origin && c.destination && c.departure_at && c.return_at && c.person ? (c.departure_at = c.departure_at.split(".").reverse().join("-"), c.return_at = c.return_at.split(".").reverse().join("-"), new mbr.Promise(function (b) {
                        var d = ".variant-cost a, .tarif-payment-variants a", e = 60, f = function () {
                                if (e--) {
                                    var g = a.querySelector(d);
                                    g ? (c.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(g)), 10), c.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(g)), b(c)) : setTimeout(f, 1000);
                                } else
                                    b(c);
                            };
                        f();
                    })) : mbr.Promise.reject();
                }
            },
            {
                name: "pass.rzd.ru",
                urlRE: /https?:\/\/pass\.rzd\.ru\/timetable\/.+?st0/,
                domain: "pass.rzd.ru",
                getInfo: function (a) {
                    var b = {}, c = a.URL.replace(/\|/g, "&"), d = mbr.tools.getQueryParam(c, "st0"), e = mbr.tools.getQueryParam(c, "st1"), f = mbr.tools.getQueryParam(c, "dt0"), g = mbr.tools.getQueryParam(c, "dt1");
                    return d && e && f && g ? (b.origin = d, b.destination = e, b.departure_at = f.split(".").reverse().join("-"), b.return_at = g.split(".").reverse().join("-"), mbr.Promise.resolve(b)) : mbr.Promise.reject();
                }
            },
            {
                name: "transport.marshruty.ru",
                urlRE: /transport\.marshruty\.ru\/Transports\/Timetable\.aspx/,
                domain: "transport.marshruty.ru",
                getInfo: function (a) {
                    return new mbr.Promise(function (b, c) {
                        var d = 60, e = function () {
                                if (d--)
                                    if (a.getElementById("ctnWaitSeats"))
                                        setTimeout(e, 1000);
                                    else {
                                        var f = {}, g = a.querySelectorAll(".variants a");
                                        g && 2 === g.length && (f.origin = mbr.tools.getTextContents(g[0]), f.destination = mbr.tools.getTextContents(g[1]));
                                        var h = a.querySelector(".ritem");
                                        if (h = h && h.getAttribute("rid"), h && (f.departure_at = h.substr(0, 8), f.return_at = h.substr(h.indexOf(",") + 1, 8), f.departure_at && f.return_at)) {
                                            f.departure_at = f.departure_at.substr(0, 4) + "-" + f.departure_at.substr(4, 2) + "-" + f.departure_at.substr(6, 2), f.return_at = f.return_at.substr(0, 4) + "-" + f.return_at.substr(4, 2) + "-" + f.return_at.substr(6, 2), f.person = +mbr.tools.getQueryParam(a.URL, "adult") || 1;
                                            var i = a.querySelector(".price");
                                            return i && (f.price = +mbr.tools.priceAnalyze(mbr.tools.getTextContents(i)), f.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(i))), void b(f);
                                        }
                                        c();
                                    }
                                else
                                    c();
                            };
                        e();
                    });
                }
            },
            {
                name: "svyaznoy.travel",
                urlRE: /(?:www\.)?svyaznoy\.travel\/#([A-Z]{3})(\d{2})(\d{2})\/([A-Z]{3})(\d{2})(\d{2})\/A(\d)/,
                domain: "svyaznoy.travel",
                getInfo: function (a) {
                    var b = this.urlRE.exec(a.URL), c = {
                            origin: b[1],
                            destination: b[4],
                            person: +b[7]
                        }, d = b[2], e = b[3], f = b[5], g = b[6], h = new Date().getFullYear(), i = mbr.tools.isMonthOfNextYear(parseInt(e, 10)) ? h + 1 : h, j = mbr.tools.isMonthOfNextYear(parseInt(g, 10)) || mbr.tools.isMonthOfNextYear(parseInt(e, 10)) ? h + 1 : h;
                    return c.departure_at = i + "-" + e + "-" + d, c.return_at = j + "-" + g + "-" + f, c.origin && c.destination && c.departure_at && c.return_at ? new mbr.Promise(function (b) {
                        var d = 60, e = function () {
                                if (d--) {
                                    var f = a.querySelector("#results_best .sum .price strong");
                                    f ? (c.price = +mbr.tools.priceAnalyze(mbr.tools.getTextContents(f)), b(c)) : setTimeout(e, 1000);
                                } else
                                    b(c);
                            };
                        e();
                    }) : mbr.Promise.reject();
                }
            },
            {
                name: "bravoavia.ru",
                urlRE: /(www\.)?bravoavia\.ru\/vg1\/search\/results\.action/,
                domain: "bravoavia.ru",
                getInfo: function (a) {
                    return new mbr.Promise(function (b, c) {
                        var d = 60, e = function () {
                                if (d--) {
                                    var f = a.querySelector(".vg_sld_bar .rangeContainer");
                                    if (f) {
                                        var g = a.referrer, h = {
                                                origin: mbr.tools.getQueryParam(g, "departureAirport"),
                                                destination: mbr.tools.getQueryParam(g, "arrivalAirport"),
                                                departure_at: mbr.tools.getQueryParam(g, "outboundDay") + mbr.tools.getQueryParam(g, "outboundMonthYear"),
                                                return_at: mbr.tools.getQueryParam(g, "returnDay") + mbr.tools.getQueryParam(g, "returnMonthYear")
                                            };
                                        if (h.origin && h.destination && h.departure_at && h.return_at)
                                            return h.departure_at = h.departure_at.substr(0, 2) + "-" + h.departure_at.substr(2, 2) + "-" + h.departure_at.substr(4, 4), h.return_at = h.return_at.substr(0, 2) + "-" + h.return_at.substr(2, 2) + "-" + h.return_at.substr(4, 4), h.price = Number(mbr.tools.priceAnalyze(mbr.tools.getTextContents(f))), h.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(f)), void b(h);
                                        c();
                                    } else
                                        setTimeout(e, 1000);
                                } else
                                    c();
                            };
                        e();
                    });
                }
            },
            {
                name: "finnair.com",
                urlRE: /https?:\/\/(www\.)finnair\.com\/pl\/AY(Online|Portal)\/wds\/(Override|StartOver|FlexPricerAvailability)\.action/,
                domain: "finnair.com",
                getInfo: function (a) {
                    var b = {}, c = a.querySelector("[name='B_LOCATION_1']"), d = a.querySelector("[name='B_LOCATION_2']"), e = a.querySelector("[name='B_DATE_1']"), f = a.querySelector("[name='B_DATE_2']"), g = a.querySelector("[name='NB_TRAVELLERS']");
                    if (c && d && e && f && g) {
                        b.origin = c.value, b.destination = d.value, b.departure_at = [
                            e.value.substr(0, 4),
                            e.value.substr(4, 2),
                            e.value.substr(6, 2)
                        ].join("-"), b.return_at = [
                            f.value.substr(0, 4),
                            f.value.substr(4, 2),
                            f.value.substr(6, 2)
                        ].join("-"), b.person = +g.value;
                        var h = a.querySelector(".priceSelectedEffectOff span, #roundtripBox1");
                        return h && (b.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(h)), 10), b.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(h))), mbr.Promise.resolve(b);
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "letaem.ru",
                urlRE: /https?:\/\/(www\.)?letaem\.ru\/search/,
                domain: "letaem.ru",
                getInfo: function (a) {
                    var b = {}, c = a.getElementById("pseudoFromCode"), d = a.getElementById("pseudoToCode"), e = a.getElementById("dateThere"), f = a.getElementById("dateBack");
                    if (c && d && e && f) {
                        b.origin = c.value, b.destination = d.value, b.departure_at = e.value.split(".").reverse().join("-"), b.return_at = f.value.split(".").reverse().join("-");
                        var g = a.querySelector(".price");
                        return g && (b.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(g)), 10), b.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(g))), mbr.Promise.resolve(b);
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "light-flight.ru",
                urlRE: /https?:\/\/light\-flight\.ru\/ticketsearch/,
                domain: "light-flight.ru",
                getInfo: function (a) {
                    var b = a.URL, c = {
                            origin: mbr.tools.getQueryParam(b, "from"),
                            destination: mbr.tools.getQueryParam(b, "to"),
                            departure_at: mbr.tools.getQueryParam(b, "dateThere"),
                            return_at: mbr.tools.getQueryParam(b, "dateBack"),
                            person: mbr.tools.getQueryParam(b, "adult")
                        };
                    if (c.origin && c.destination && c.departure_at && c.return_at && c.person) {
                        c.departure_at = c.departure_at.split(".").reverse().join("-"), c.return_at = c.return_at.split(".").reverse().join("-"), c.person = +c.person || 1;
                        var d = a.querySelector(".ticketBlock .head");
                        return d && (c.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(d)), 10), c.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(d))), mbr.Promise.resolve(c);
                    }
                    return mbr.Promise.reject();
                }
            },
            {
                name: "avia.euroset.ru",
                urlRE: /avia\.euroset\.ru\/\?go\=flights\/results/,
                domain: "avia.euroset.ru",
                getInfo: function (a) {
                    var b = mbr.tools.getQueryParam(a.URL, "sro"), c = /([A-Z]{3})([A-Z]{3})(\d{2}\.\d{2}\.\d{4})RT(\d{2}\.\d{2}\.\d{4})(\d)/;
                    if (c.test(b)) {
                        var d = {
                                origin: RegExp.$1,
                                destination: RegExp.$2,
                                departure_at: RegExp.$3.split(".").reverse().join("-"),
                                return_at: RegExp.$4.split(".").reverse().join("-"),
                                person: +RegExp.$5
                            }, e = a.querySelector(".item_foot a");
                        return e && (d.price = parseInt(mbr.tools.priceAnalyze(mbr.tools.getTextContents(e)), 10), d.currency = mbr.tools.getCurrencyFromStr(mbr.tools.getTextContents(e))), mbr.Promise.resolve(d);
                    }
                    return mbr.Promise.reject();
                }
            }
        ],
        getInfo: function (a) {
            for (var b = 0; b < this._sites.length; b++)
                if (this._sites[b].urlRE.test(a.URL)) {
                    var c = this._sites[b].getInfo(a);
                    return c.then(function (b) {
                        b.method = "avia", b.url = a.URL, mbr.hub.trigger("parser:found", b);
                    }), c;
                }
            return mbr.Promise.reject();
        },
        isAviaDomain: function (a) {
            a = a || "";
            for (var b = 0; b < this._sites.length; b++)
                if (a.indexOf(this._sites[b].domain) > -1)
                    return !0;
            return !1;
        },
        _canParse: function () {
            return mbr.settings.isAviaEnabled();
        },
        run: function (a) {
            return this._canParse() ? (mbr.log("start avia"), this.getInfo(a).then(function (a) {
                return mbr.suggest.getFlights(a);
            })) : mbr.Promise.reject();
        }
    }, mbr.domainParser = mbr.domainParser || {
        _shopId: "mbr-price-context-shop",
        _canParse: function (a) {
            return mbr.settings.isProductSuggestEnabled(a) && mbr.settings.canCheckDomain(a);
        },
        _detect: function (a) {
            var b = this._shopId, c = localStorage.getItem(b);
            if (c)
                return "true" === c ? mbr.Promise.resolve() : mbr.Promise.reject();
            var d = mbr.Promise(function (b, c) {
                mbr.JSONP ? mbr.JSONP.get("https://ajax.googleapis.com/ajax/services/search/web?", {
                    v: "1.0",
                    q: "\"Отзывы о магазине\" \"" + a + "\" site:market.yandex.ru"
                }, function (a) {
                    a && a.responseData.results && a.responseData.results.length ? b() : c();
                }) : c();
            });
            return d.then(function () {
                localStorage.setItem(b, "true");
            })["catch"](function () {
                localStorage.setItem(b, "false");
            }), d;
        },
        _getProductName: function (a) {
            var b;
            return b = a.querySelector("h1"), b ? mbr.tools.getTextContents(b) : null;
        },
        _parse: function (a) {
            var b = this._getProductName(a), c = this.getProductPrice(a);
            if (b) {
                if (c)
                    return {
                        name: b,
                        price: c
                    };
                mbr.log("price not found");
            }
            return null;
        },
        run: function (a) {
            var b = mbr.tools.getHostname(a), c = (this._detect.bind(this), this.getProductPrice.bind(this));
            return this._canParse(b) ? (mbr.log("dm.run!"), this._detect(b).then(function () {
                mbr.log("this is a shop");
                var b = c(a);
                return b ? (mbr.log("price is found"), mbr.suggest.getProductOfferByURL({
                    url: a.URL,
                    productPrice: b
                })) : (mbr.log("price is not found"), mbr.Promise.reject());
            })) : mbr.Promise.reject();
        }
    }, mbr.tools.mixin(mbr.domainParser, mbr.priceParser), mbr.searchParser = mbr.searchParser || {
        _isFirstSearch: function (a) {
            return !mbr.cookie.get(a);
        },
        _searchEngines: {
            "Mail.ru": {
                urlPattern: /https?:\/\/go\.mail\.ru\/search/,
                queryParam: "q",
                nextPageParam: "sf"
            },
            Yandex: {
                urlPattern: /https?:\/\/(?:www.)?yandex\.ru\/yandsearch/,
                queryParam: "text",
                nextPageParam: "p"
            },
            Google: {
                urlPattern: /^https?:\/\/(?:www.)?google\.(ru|com)\/.+q=/,
                nextPageParam: "start",
                queryParam: "q"
            },
            SuperJob: {
                urlPattern: /https?:\/\/(?:www.)?superjob\.ru\/(vacancy|resume)\/search/,
                queryParam: "keywords[0][keys]",
                nextPageParam: "page"
            },
            Avito: {
                urlPattern: /https?:\/\/(?:www.)?avito\.ru\/.+?\//,
                queryParam: "q",
                infoRe: /https?:\/\/(?:www.)?avito\.ru\/.+?\/([^\/\?]+)\/?([^\?]+)?(?:.*?)(?:q\=([^&]+))?$/,
                priceContextSections: {
                    telefony: !0,
                    bytovaya_elektronika: !0,
                    velosipedy: !0,
                    bytovaya_tehnika: !0,
                    tovary_dlya_kompyutera: !0,
                    audio_i_video: !0
                },
                isPriceContextEnabled: function (a) {
                    var b = this.infoRe.exec(a);
                    if (b && b.length) {
                        var c = b[1];
                        return !!this.priceContextSections[c];
                    }
                    return !1;
                }
            }
        },
        getInfoFromAvito: function (a) {
            var b, c, d, e = this._searchEngines.Avito.infoRe.exec(a), f = null;
            return e && e.length && (b = e[1], c = e[2], d = e[3], f = {}, b && (f.section = b), c && -1 === c.search(/_\d+$/) && (f.subSection = c), d && (f.query = decodeURIComponent(d.replace(/\+/g, " ")))), f;
        },
        getInfoAboutSearchPage: function (a) {
            var b = null;
            for (var c in this._searchEngines)
                this._searchEngines.hasOwnProperty(c) && (!this._searchEngines[c].urlPattern.test(a) || this._searchEngines[c].nextPageParam && -1 !== a.indexOf(this._searchEngines[c].nextPageParam + "=") || (b = {}, "Avito" === c ? b = this.getInfoFromAvito(a) : (b.query = mbr.tools.getQueryParam(a, this._searchEngines[c].queryParam), "SuperJob" === c && (b.type = this._searchEngines[c].urlPattern.exec(a)[1])), b.engine = c));
            return b;
        },
        _canFindOffers: function (a) {
            return mbr.settings.isProductSuggestEnabled(a);
        },
        run: function (a) {
            mbr.log("search run!");
            var b = a.URL, c = mbr.tools.getHostname(a), d = this.getInfoAboutSearchPage(b);
            return d && this._searchEngines[d.engine].isPriceContextEnabled && this._searchEngines[d.engine].isPriceContextEnabled(b) && d.query && this._isFirstSearch(d.query) && (mbr.cookie.set(d.query, "true"), this._canFindOffers(c)) ? mbr.suggest.getProductOffers({
                productName: d.query,
                url: b,
                method: "search"
            }) : mbr.Promise.reject();
        }
    }, mbr.partnerWebsiteParser = mbr.partnerWebsiteParser || {
        _canParse: function () {
            return mbr.settings.isYandexWebPartner && mbr.settings.isYandexWebPartner();
        },
        run: function (a) {
            mbr.tools.getHostname(a);
            if (this._canParse()) {
                mbr.log("partner's website parser run!");
                var b = mbr.settings.getProductName(), c = mbr.settings.getModelId();
                if (b || c) {
                    var d = {
                        url: a.URL,
                        method: "partner-website"
                    };
                    return c ? d.modelId = c : b && (d.productName = b), mbr.log("Name: " + d.productName + "; ModelId: " + d.modelId), mbr.suggest.getProductOffers(d)["catch"](function () {
                        return !0;
                    });
                }
            }
            return mbr.Promise.reject();
        }
    }, mbr.parserPipe = mbr.parserPipe || {
        _state: "",
        _canAddParser: !0,
        _parsers: [],
        _callNext: function () {
            this._state = "pending";
            var a = this._parsers.shift();
            a && a.run(document).then(this._onPromiseResolve, this._onPromiseReject);
        },
        _onPromiseResolve: function () {
            this._state = "fulfilled", mbr.hub.trigger("pipe:fulfill");
        },
        _onPromiseReject: function () {
            this._state = "rejected", 0 !== this._parsers.length || this._canAddParser ? this._callNext() : mbr.hub.trigger("pipe:reject");
        },
        isDone: function () {
            return "fulfilled" === this._state;
        },
        isPending: function () {
            return "pending" === this._state;
        },
        addParser: function (a) {
            return a && "function" == typeof a.run && !this.isDone() && this._canAddParser && (this._parsers.push(a), this.isPending() || this._callNext()), this;
        },
        end: function () {
            this._canAddParser = !1;
        },
        init: function () {
            return this._state = "", this._parsers = [], this._canAddParser = !0, this._onPromiseReject = this._onPromiseReject.bind(this), this._onPromiseResolve = this._onPromiseResolve.bind(this), this;
        }
    }, Randomizer.prototype._getAllClassesAndIds = function () {
        for (var a = {}, b = /(?:class|id)\s*=["'](.+?)["']/g, c = null; c = b.exec(this.html);)
            c[1].replace(/\s+/, " ").split(" ").forEach(function (b) {
                b && (a[b] = !0);
            });
        return Object.keys(a).sort(function (a, b) {
            return b.length - a.length;
        });
    }, Randomizer.prototype._createRandomNames = function (a) {
        var b = {}, c = this.saveNames;
        return a.forEach(function (a) {
            b[a] = c ? a : "mxxxxxxxxxxxx".replace(/x/g, function () {
                return Math.round(35 * Math.random()).toString(36);
            });
        }), b;
    }, Randomizer.prototype._createRandomizationRegEx = function (a) {
        return new RegExp(a.join("|"), "g");
    }, Randomizer.prototype.randomize = function (a) {
        return a.replace(this.re, function (a) {
            return this.randomNames[a];
        }.bind(this));
    }, mbr.Randomizer = Randomizer, mbr.feedback = mbr.feedback || {
        _url: "http://jira.metabar.ru/rest/api/2/issue/",
        _highPrice: {
            summary: "Высокая цена на {{productName}}",
            description: "Страница - {{url}}\nОпределенное название - {{originProductName}}\nОпределенная цена - {{originPrice}}\nВалюта - {{currency}}\n----\nНазвание на прайсбаре - {{productName}}\nЦена на прайсбаре - {{price}}\n----\nМетод извлечения - {{extractMethod}}\nГород - {{region}}\nUser-Agent: {{userAgent}}\n----\n{code:javascript}{{settings}}{code}\n----\nCookies:\n||Name||Value||\n{{cookiesTable}}\nLocal Storage:\n||Name||Value||\n{{localStorageTable}}----\nСсылка-запрос к серверу - {{requestUrl}}\nОтвет сервера - {code:javascript}{{serverResponse}}{code}\n"
        },
        _wrongName: {
            summary: "Неверно определен товар {{productName}}",
            description: "Страница - {{url}}\nОпределенное название - {{originProductName}}\nОпределенная цена - {{originPrice}}\nВалюта - {{currency}}\n----\nНазвание на прайсбаре - {{productName}}\nЦена на прайсбаре - {{price}}\n----\nМетод извлечения - {{extractMethod}}\nГород - {{region}}\nUser-Agent: {{userAgent}}\n----\n{code:javascript}{{settings}}{code}\n----\nCookies:\n||Name||Value||\n{{cookiesTable}}\nLocal Storage:\n||Name||Value||\n{{localStorageTable}}----\nСсылка-запрос к серверу - {{requestUrl}}\nОтвет сервера - {code:javascript}{{serverResponse}}{code}\n"
        },
        _unknownError: {
            summary: "Ошибка в предложении {{productName}}",
            description: "Сообщение пользователя: \"{{message}}\"\n----\nСтраница - {{url}}\nОпределенное название - {{originProductName}}\nОпределенная цена - {{originPrice}}\nВалюта - {{currency}}\n----\nНазвание на прайсбаре - {{productName}}\nЦена на прайсбаре - {{price}}\n----\nМетод извлечения - {{extractMethod}}\nГород - {{region}}\nUser-Agent: {{userAgent}}\n----\n{code:javascript}{{settings}}{code}\n----\nCookies:\n||Name||Value||\n{{cookiesTable}}\nLocal Storage:\n||Name||Value||\n{{localStorageTable}}----\nСсылка-запрос к серверу - {{requestUrl}}\nОтвет сервера - {code:javascript}{{serverResponse}}{code}\n"
        },
        _prepareString: function (a, b) {
            return a.replace(/{{message}}/g, b.message).replace(/{{productName}}/g, b.productName).replace(/{{url}}/g, b.url).replace(/{{requestUrl}}/g, b.requestUrl).replace(/{{originProductName}}/g, b.originProductName).replace(/{{originPrice}}/g, b.originPrice).replace(/{{serverResponse}}/g, b.serverResponse).replace(/{{settings}}/g, b.settings).replace(/{{extractMethod}}/g, b.extractMethod).replace(/{{region}}/g, b.regionName || "Определен автоматически").replace(/{{currency}}/g, b.currency || "Unknown").replace(/{{userAgent}}/g, navigator.userAgent).replace(/{{price}}/g, b.price).replace(/{{cookiesTable}}/g, mbr.settings.getCookiesTable()).replace(/{{localStorageTable}}/g, mbr.settings.getLocalStorageTable());
        },
        _sendMessage: function (a, b, c) {
            var d = {
                fields: {
                    project: { key: "SOV" },
                    summary: a,
                    description: b,
                    issuetype: { name: "Bug" },
                    labels: [c],
                    customfield_11130: "%REMOTE_IP%"
                }
            };
            mbr.xhr.post(this._url, d);
        },
        trackHighPrice: function (a, b, c, d, e, f, g) {
            var h = this._prepareString(this._highPrice.summary, { productName: b }), i = this._prepareString(this._highPrice.description, {
                    url: a,
                    productName: b,
                    requestUrl: f.query,
                    originProductName: f && f.productName,
                    extractMethod: d,
                    serverResponse: e,
                    regionName: mbr.settings.getRegionName(),
                    price: c,
                    originPrice: f && (f.price || f.productPrice),
                    currency: f && f.currency,
                    settings: JSON.stringify(g, 2, 2)
                });
            this._sendMessage(h, i, "high_price");
        },
        trackWrongProduct: function (a, b, c, d, e, f, g) {
            var h = this._prepareString(this._wrongName.summary, { productName: b }), i = this._prepareString(this._wrongName.description, {
                    url: a,
                    productName: b,
                    requestUrl: f.query,
                    originProductName: f && f.productName,
                    extractMethod: d,
                    serverResponse: e,
                    regionName: mbr.settings.getRegionName(),
                    price: c,
                    currency: f && f.currency,
                    originPrice: f && (f.price || f.productPrice),
                    settings: JSON.stringify(g, 2, 2)
                });
            this._sendMessage(h, i, "wrong_offer");
        },
        trackUnknownError: function (a, b, c, d, e, f, g, h) {
            var i = this._prepareString(this._unknownError.summary, { productName: c }), j = this._prepareString(this._unknownError.description, {
                    message: a,
                    url: b,
                    productName: c,
                    requestUrl: g.query,
                    originProductName: g && g.productName,
                    extractMethod: e,
                    serverResponse: f,
                    regionName: mbr.settings.getRegionName(),
                    price: d,
                    originPrice: g && (g.price || g.productPrice),
                    currency: g && g.currency,
                    settings: JSON.stringify(h, 2, 2)
                });
            this._sendMessage(i, j, "unknown_error");
        }
    }, mbr.abtest = mbr.abtest || {
        tests: [],
        getModificators: function (a) {
            a = a || {};
            var b = [];
            this.tests.forEach(function (b) {
                for (var c in b.match)
                    b.match.hasOwnProperty(c) && !a.hasOwnProperty(c) && (a[c] = "original");
            });
            for (var c in a)
                a.hasOwnProperty(c) && b.push(c + "_" + a[c]);
            return b;
        },
        getIds: function (a) {
            var b, c, d;
            if (a)
                for (b = 0; b < this.tests.length; b++) {
                    d = !1;
                    for (c in this.tests[b].match)
                        if (this.tests[b].match.hasOwnProperty(c)) {
                            if (a[c] !== this.tests[b].match[c]) {
                                d = !1;
                                break;
                            }
                            d = !0;
                        }
                    if (d)
                        return this.tests[b].ids;
                }
            return null;
        }
    }, mbr.hasoffersTracking = mbr.hasoffersTracking || {
        _defaultIds: {
            aviaBrightOptIn: 59,
            aviaOptIn: 49,
            aviaLowest: 51,
            avia: 53,
            avitoBrightOptIn: 57,
            avitoOptIn: 47,
            avitoLowest: 35,
            avito: 41,
            brightOptIn: 55,
            optIn: 45,
            lowest: 21,
            best: 33,
            equalsPrice: 29,
            higherPrice: 31,
            profitable: 43,
            popupTop: 61,
            popup1: 63,
            popup2: 65,
            popup3: 67,
            popup4: 69,
            popup5: 71,
            isDressWildberries: 99,
            isDressLamoda: 101,
            isAliexpress: 103
        },
        _wrapUrl: function (a, b) {
            return "undefined" != typeof b ? a + "&file_id=" + b : a;
        },
        wrapAviaURL: function (a, b, c) {
            c = c || this._defaultIds;
            var d = b.optInShown && b.isBrightOptIn && c.aviaBrightOptIn || b.optInShown && c.aviaOptIn || b.isLowest && c.aviaLowest || c.avia || c["default"];
            return this._wrapUrl(a, d);
        },
        wrapMainURL: function (a, b, c) {
            c = c || this._defaultIds;
            var d = b.isPriceDefined && c.priceDefined || c.priceUndefined || b.isDressWildberries && c.isDressWildberries || b.isDressLamoda && c.isDressLamoda || b.isAliexpress && c.isAliexpress || b.optInShown && b.isBrightOptIn && b.isAvito && c.avitoBrightOptIn || b.optInShown && b.isBrightOptIn && c.brightOptIn || b.optInShown && b.isAvito && c.avitoOptIn || b.optInShown && c.optIn || b.isAvito && b.isLowest && c.avitoLowest || b.isAvito && c.avito || (b.isBest || b.isAvito) && c.best || b.isLowest && c.lowest || b.isEqualsPrice && c.equalsPrice || b.isHigherThanCurrent && c.higherPrice || b.isProfitable && c.profitable || c["default"];
            return this._wrapUrl(a, d);
        },
        wrapPopupURL: function (a, b, c, d) {
            d = d || this._defaultIds, c = c || {};
            var e = [
                d.popupTop,
                d.popup1,
                d.popup2,
                d.popup3,
                d.popup4,
                d.popup5
            ];
            return c.isPriceDefined && !c.isAvito ? c.isEqualsPrice || c.isHigherThanCurrent ? (e[0] = d.popupCompareTop || e[0], d.popup = d.popupCompare || d.popup) : c.isLowest ? (e[0] = d.popupLowestTop || e[0], d.popup = d.popupLowest || d.popup) : (e[0] = d.popupProfitableTop || e[0], d.popup = d.popupProfitable || d.popup) : (e[0] = d.popupPriceUndefinedTop || e[0], d.popup = d.popupPriceUndefined || d.popup), this._wrapUrl(a, e[b] || d.popup || d["default"]);
        }
    };
    var pricebar = {
        type: "",
        data: {},
        css: "#market_context_headcrab *{margin:0;padding:0;text-shadow:none}#market_context_headcrab a{border:0!important}html>body>:not(#mbr-citilink-container):not(#mbr-citilink-container):not(#mbr-citilink-container)#market_context_headcrab{display:block!important;visibility:visible!important;opacity:100!important;font:13px/40px 'PT Sans Caption','PT Sans',sans-serif!important;cursor:pointer;color:#444132;width:100%!important;min-width:800px!important;height:39px!important;position:fixed;top:0;left:0;right:0;z-index:2147483647;background:#fdeeaa;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.13);-moz-box-shadow:0 1px 3px rgba(0,0,0,.13);box-shadow:0 1px 3px rgba(0,0,0,.13)}#market_context_headcrab .pb-dash{font:13px/40px 'PT Sans Caption','PT Sans',sans-serif!important}#market_context_headcrab:hover,#market_context_headcrab.hover{background:#f8e385!important}#market_context_headcrab strong{font-weight:700!important}#market_context_headcrab .pb-sitebar-logo{width:66px;position:absolute;top:0;left:0;height:39px}#market_context_headcrab .pb-sitebar-logo img{display:block;max-width:inherit!important}#market_context_headcrab .pb-sitebar-options{width:89px;position:absolute;right:0;padding-top:12px;white-space:nowrap;text-align:left!important;padding-left:25px;height:27px!important;box-sizing:initial!important}#market_context_headcrab .pb-sitebar-options:after{width:1px;height:27px;position:absolute;right:36px;top:7px;content:'';background:rgba(192,180,126,.4)}#market_context_headcrab .pb-sitebar-i{width:16px;height:16px;text-indent:-9999px;display:inline-block;vertical-align:top!important;overflow:hidden;margin:0 6px 0 0;*margin-right:10px;position:relative;background:url(data:image/png;base64,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) 0 0 no-repeat}#market_context_headcrab .pb-sitebar-close{background-position:-32px 0;margin-left:11px}#market_context_headcrab .pb-sitebar-close:hover{background-position:-32px -16px}#market_context_headcrab .pb-sitebar-question{}#market_context_headcrab .pb-sitebar-question:hover{background-position:0 -16px}#market_context_headcrab .pb-sitebar-settings{background-position:-16px 0}#market_context_headcrab .pb-sitebar-settings:hover{background-position:-16px -16px}#market_context_headcrab .pb-sitebar-button{position:absolute;right:96px;top:0;margin:6px 0 0;cursor:pointer;*cursor:pointer;height:25px;display:block;text-decoration:none;text-align:center;color:#393939!important;padding:0 15px;text-shadow:0 1px rgba(255,255,255,.94);font:12px/26px Arial,sans-serif;border:1px solid silver!important;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;background-color:#dedede;background-image:-webkit-linear-gradient(top,#f1f1f1,#dedede);background-image:-moz-linear-gradient(top,#f1f1f1,#dedede);background-image:-o-linear-gradient(top,#f1f1f1,#dedede);background-image:linear-gradient(to bottom,#f1f1f1,#dedede);-webkit-box-shadow:inset 0 0 0 1px rgba(255,255,255,.45);-moz-box-shadow:inset 0 0 0 1px rgba(255,255,255,.45);box-shadow:inset 0 0 0 1px rgba(255,255,255,.45)}#market_context_headcrab .pb-sitebar-button:hover{color:#fff!important;text-shadow:none;border:1px solid #489413!important;background-color:#489413;background-image:-webkit-linear-gradient(top,#67b21b,#489413);background-image:-moz-linear-gradient(top,#67b21b,#489413);background-image:-o-linear-gradient(top,#67b21b,#489413);background-image:linear-gradient(to bottom,#67b21b,#489413);-webkit-box-shadow:inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 0 1px rgba(255,255,255,.24)}#market_context_headcrab .pb-sitebar-button-all~.pb-sitebar-button{right:249px}#market_context_headcrab .pb-sitebar-button-all{width:123px;position:absolute;right:114px;color:#fff!important;padding:0;text-shadow:none;border:1px solid #3079ed!important;background-color:#357ae8;background-image:-webkit-linear-gradient(top,#4d90fe,#4787ed);background-image:-moz-linear-gradient(top,#4d90fe,#4787ed);background-image:-o-linear-gradient(top,#4d90fe,#4787ed);background-image:linear-gradient(to bottom,#4d90fe,#4787ed);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}#market_context_headcrab .pb-sitebar-button-all:hover,#market_context_headcrab .pb-sitebar-button-all:active{border-color:#2f5bb7!important;background:#357ae8!important;-webkit-box-shadow:inset 0 0 3px #2f5bb7;-moz-box-shadow:inset 0 0 3px #2f5bb7;box-shadow:inset 0 0 3px #2f5bb7}#market_context_headcrab .pb-sitebar-button-all .caret{display:inline-block;*display:inline;*zoom:1;width:0;height:0;margin-left:8px;vertical-align:middle;border-top:3px solid #fff;border-right:3px solid transparent;border-left:3px solid transparent;content:\"\"}#market_context_headcrab .pb-sitebar-button-all:hover .caret,#market_context_headcrab .pb-sitebar-button-all:active .caret{}#market_context_headcrab.shoplist.shoplist .caret{border-top:3px solid transparent;border-bottom:3px solid #fff;top:-2px;position:relative}#market_context_headcrab .pb-sitebar-cnt{overflow:hidden;text-align:left;position:absolute;top:0;left:86px;right:357px;white-space:nowrap}#market_context_headcrab .pb-sitebar-cnt div{display:inline-block;vertical-align:top!important;color:#444132!important;font:13px/40px 'PT Sans Caption','PT Sans',sans-serif!important}#market_context_headcrab .pb-sitebar-text{text-overflow:ellipsis;overflow:hidden;max-width:85%;float:left}#market_context_headcrab .pb-sitebar-price{font-weight:400!important;background:none!important;position:relative!important;text-decoration:underline!important}#market_context_headcrab .pb-sitebar-cnt div.pb-sitebar-price-without-delivery{min-width:20%;color:#777!important}#market_context_headcrab .pb-sitebar-welcome .settings-link{color:#777!important}#market_context_headcrab.pb-sitebar_offer .pb-sitebar-price{width:78px;overflow:hidden}#market_context_headcrab .pb-sitebar_popover{cursor:auto;position:fixed;top:38px;right:33px;width:309px;padding:29px 29px 20px;font:12px/20px Tahoma,sans-serif;color:#000;background:#fbfbfb;border:solid 1px #bababa;text-align:left!important;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:3px 4px 8px rgba(0,0,0,.16);-moz-box-shadow:3px 4px 8px rgba(0,0,0,.16);box-shadow:3px 4px 8px rgba(0,0,0,.16)}#market_context_headcrab .pb-sitebar_popover *{margin:0;padding:0;font-family:Tahoma,sans-serif;line-height:20px}#market_context_headcrab .pb-sitebar_popover a{color:#15c!important;text-decoration:none!important;display:inline!important;border:0!important;font-weight:400!important;cursor:pointer!important}#market_context_headcrab .pb-sitebar_popover .pb-sitebar_popover_footer{margin-top:20px}#market_context_headcrab .pb-sitebar_popover .shop-data{float:left}#market_context_headcrab .pb-sitebar_popover .market-data{float:right}#market_context_headcrab .pb-sitebar_popover a:hover{text-decoration:underline!important}#market_context_headcrab .pb-sitebar_popover a.link-inside,#market_context_headcrab .pb-sitebar_popover a.link-inside:hover{text-decoration:none!important}#market_context_headcrab .pb-sitebar_popover a.link-inside{border-bottom:1px dashed!important}#market_context_headcrab .pb-sitebar_popover ul,#market_context_headcrab .pb-sitebar_popover li{list-style:none!important;font-size:1em!important}#market_context_headcrab .pb-sitebar_popover h1{border:0!important;position:static!important}#market_context_headcrab .pb-sitebar_popover p{font-size:1em!important;color:#000!important}#market_context_headcrab .pb-sitebar_popover label{font-weight:400!important}#market_context_headcrab .pb-sitebar_popover_product{width:530px;right:154px}#market_context_headcrab.shoplist .pb-sitebar_popover_product,#market_context_headcrab.shoplist .pb-sitebar_popover_clothes{display:block!important}#market_context_headcrab .pb-sitebar_popover .pb-arrow,#market_context_headcrab .pb-sitebar_popover .pb-arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid;z-index:100}#market_context_headcrab .pb-sitebar_popover .pb-arrow{border-width:9px;border-top-width:0;top:-9px;right:12px;border-bottom-color:#bababa}#market_context_headcrab .pb-sitebar_popover .pb-arrow:after{border-width:8px;content:'';top:1px;margin-left:-8px;border-bottom-color:#fbfbfb;border-top-width:0}#market_context_headcrab .pb-sitebar_popover .pb-title{font:700 13px/20px Tahoma,sans-serif!important;color:#000!important;margin:0 0 1px!important;text-align:left!important;border:0!important}#market_context_headcrab .pb-sitebar_popover_policy .pb-title{font-weight:400!important;margin:0 0 16px!important}#market_context_headcrab .pb-sitebar_popover .pb-checkbox{margin:20px 0 0 -27px!important;padding:0 0 0 27px!important;position:relative!important;display:block!important;width:auto!important}#market_context_headcrab .pb-sitebar_popover .pb-checkbox input,#market_context_headcrab .pb-sitebar_popover .pb-checkbox .jq-checkbox{position:absolute!important;left:0!important;top:5px!important;width:16px!important;height:16px!important}#market_context_headcrab .pb-sitebar_popover .pb-checkbox:first-child{margin-top:0!important}#market_context_headcrab .pb-sitebar_popover_settings{right:33px;padding-left:66px;padding-top:32px}#market_context_headcrab .pb-sitebar_popover_settings .pb-btn{margin-top:15px!important;margin-bottom:10px!important}#market_context_headcrab .pb-sitebar_popover .pb-btn-cnt{margin:0 0 12px}#market_context_headcrab .pb-sitebar_popover .pb-btn{display:inline-block!important;margin:0 12px 0 0;padding:0 15px;text-align:center!important;text-decoration:none!important;font:12px/25px Arial,sans-serif!important;color:#393939!important;text-shadow:0 1px rgba(255,255,255,.94);min-width:64px;height:25px;border:1px solid silver!important;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;background-color:#dedede;background-image:-webkit-linear-gradient(top,#f1f1f1,#dedede);background-image:-moz-linear-gradient(top,#f1f1f1,#dedede);background-image:-o-linear-gradient(top,#f1f1f1,#dedede);background-image:linear-gradient(to bottom,#f1f1f1,#dedede);-webkit-box-shadow:inset 0 0 0 1px rgba(255,255,255,.45);-moz-box-shadow:inset 0 0 0 1px rgba(255,255,255,.45);box-shadow:inset 0 0 0 1px rgba(255,255,255,.45)}#market_context_headcrab .pb-sitebar_popover .pb-btn:hover{color:#fff!important;text-decoration:none!important;text-shadow:none;border:1px solid transparent!important;background-color:#489413;background-image:-webkit-linear-gradient(top,#67b21b,#489413);background-image:-moz-linear-gradient(top,#67b21b,#489413);background-image:-o-linear-gradient(top,#67b21b,#489413);background-image:linear-gradient(to bottom,#67b21b,#489413);-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}#market_context_headcrab .pb-sitebar_popover .pb-sitebar_popover-close{color:#989898!important;position:absolute;right:13px;top:6px;font-size:19px}#market_context_headcrab .pb-sitebar_popover .pb-sitebar_popover-close:hover{text-decoration:none!important}#market_context_headcrab .pb-product-best{border-bottom:solid 1px #eee;position:relative;overflow:hidden;padding-bottom:24px;padding-top:4px;margin-top:-4px;margin-bottom:12px}#market_context_headcrab .pb-product-best-img{width:70px;float:left}#market_context_headcrab .pb-product-best-img img{border:1px solid #eee;max-width:48px;display:block}#market_context_headcrab .pb-product-best-txt{width:260px;float:left}#market_context_headcrab .pb-sitebar_popover h1.pb-disclaimer{position:absolute!important;color:#777!important;right:30px;top:6px;font-size:12px!important;font-weight:inherit!important}#market_context_headcrab .pb-product-best-btn{padding-top:23px;width:96px;float:right;clear:right}#market_context_headcrab .pb-product-best-btn .pb-btn{width:94px;padding:0;margin:0;min-width:94px;font-size:12px!important;height:25px;line-height:25px!important}#market_context_headcrab .pb-product-best-btn .pb-btn:hover{text-decoration:none!important}#market_context_headcrab .pb-product-all .pb-divider{width:100%!important;border:0!important;height:1px!important;background:#e1e1e1!important;display:block!important;visibility:visible!important}#market_context_headcrab .pb-product-best h1,#market_context_headcrab .pb-product-all h1{color:#777;font-weight:400;font-size:13px;padding:4px 0 2px;text-align:left}#market_context_headcrab .pb-product-best h1{padding:0 0 2px;margin-top:-6px}#market_context_headcrab ul.pb-products{margin:0 -29px -2px!important}#market_context_headcrab .pb-products li,#market_context_headcrab .pb-products p{*zoom:1}#market_context_headcrab .pb-products li:hover{background:#f4f4f4}#market_context_headcrab .pb-products li:before,#market_context_headcrab .pb-products p:before,#market_context_headcrab .pb-products li:after,#market_context_headcrab .pb-products p:after{display:table;content:\" \"}#market_context_headcrab .pb-products li:after,#market_context_headcrab .pb-products p:after{clear:both}#market_context_headcrab .pb-products a{display:block!important;*zoom:1;position:relative;padding:5px 0 6px;overflow:hidden}#market_context_headcrab .pb-products .pb-products-name{float:left;max-width:235px}#market_context_headcrab .pb-product-best .pb-products .pb-products-name{max-width:170px}#market_context_headcrab .pb-products .pb-products-price{font-size:11px;float:right;clear:right;font-weight:700;color:#000;text-align:right;margin:1px 0 0 10px}#market_context_headcrab .pb-products-rate{width:100px;float:right;clear:right;margin-top:2px;margin-right:29px}#market_context_headcrab .pb-products-rate,#market_context_headcrab .pb-products-rate-active{height:16px;overflow:hidden;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAYAAAASYli2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAm9JREFUeNqsVr1rU1EUv6+1bXw22EKHNqk+GgnikkKnEpxSyJD6MVowQ8cMIUOgi4ObTq7mD1AEVxUytJChQwIGSs3i3GhpkBgTiig2+vo76Xnlet9nmh74cV7u+eB37jn33mimaYqgomnaJBRCzBM3nzExnFxjiJETgp2VUOfvkRmGUqnUeCKRmMD3pJvTlWHKzWazotVqiUajQUz/OFYSpCnaWY2L3W53rNPpiFgs1sfvQ8dYWpQBCQMLEiJAtFgsGrAPkMvlDLbNKwjbGPKGXwdmyuWyiEQiQtd1EY/H//Or1+ui3+8LsBaZTIaWukDPxlBiqgM3S6XSOTMVZCMf8j2Pc0vISamb0Wq1aktWqVQoWZR85BjPsYEDdbIHJjYbr/1gn6HmMJROpwcftVptsHckmElSV327rJRMcqPdbhv5fN7gTi4UCgWj2WzS70U1h1/CqWQySYGEGRoCxiwYGjg1hrqHnoONEZrlbn+H32/FFoKaA45h6wXdw3/AkZqMy6S1owsdPUuOP2ysQP0K33/7+bLuwyzwyPPcB2UIduNQXwfHS4g7YGmOyjDFY3MbWL6Mkh9L3xsjlYxyaXRafLWRHABLTmXbEiI4D7XJ7C1QwltK7B6gvn6vnZ6Al8A08JxPhZusyGMJPKE7w7VkMH0I9cbv2YT8pP1F+e989xBJqZvv+RJ1kibwAMk+BeoyOz71cNmSkwUdm7SHbW2osUHJ1LRvdF3x0kd+y62GHNJ9KY+PH8NVTkYBz4C7QBJ4wfaoemr8/jncA77QpQAWu/Legf029CtgHdgPypBGYllJZjVsByoB/JXXTwUYADMIcPb4/LZkAAAAAElFTkSuQmCC) 0 0 repeat-x}#market_context_headcrab .pb-products-rate-active{display:block;background-position:0 -16px;text-indent:-9999em}#market_context_headcrab .pb-products-rate-active-0{width:0}#market_context_headcrab .pb-products-rate-active-1{width:20px}#market_context_headcrab .pb-products-rate-active-2{width:40px}#market_context_headcrab .pb-products-rate-active-3{width:60px}#market_context_headcrab .pb-products-rate-active-4{width:80px}#market_context_headcrab .pb-products-rate-active-5{width:100px}#market_context_headcrab .pb-products-txt{width:330px;float:left;padding-left:29px}#market_context_headcrab .track{width:1px;height:1px}#market_context_headcrab .sitebar__logo{position:absolute;top:0;left:0;width:80px;height:37px;background-image:url(data:image/png;base64,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);background-repeat:no-repeat;background:#fdeeaa;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.13);-moz-box-shadow:0 1px 3px rgba(0,0,0,.13);box-shadow:0 1px 3px rgba(0,0,0,.13)}#market_context_headcrab.lowest .pb-sitebar-text:not(.lowest){display:none!important}#market_context_headcrab.profitable .pb-sitebar-text:not(.profitable){display:none!important}#market_context_headcrab .pb-sitebar_popover .app-title{font:15px Arial,sans-serif}#market_context_headcrab .pb-sitebar_popover .pb-btn-cnt .pb-btn{padding:0;font:700 12px/30px \"PT Sans\",Arial,sans-serif!important;color:#fff!important;text-shadow:0 -1px rgba(0,0,0,.2);width:113px;height:30px;border:0!important;background-color:#489413;background-image:-webkit-linear-gradient(top,#67b21b,#489413);background-image:-moz-linear-gradient(top,#67b21b,#489413);background-image:-o-linear-gradient(top,#67b21b,#489413);background-image:linear-gradient(to bottom,#67b21b,#489413);-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}#market_context_headcrab .pb-sitebar_popover .pb-btn-attention{background:#489413;background-image:inherit!important;-webkit-animation:greenPulse 2s infinite;-moz-animation:greenPulse 2s infinite;-ms-animation:greenPulse 2s infinite;-o-animation:greenPulse 2s infinite;animation:greenPulse 2s infinite}@-webkit-keyframes greenPulse{0%{background:#5fbb53;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}50%{background:#489413;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25)}100%{background:#5fbb53;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}}@-moz-keyframes greenPulse{0%{background:#5fbb53;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}50%{background:#489413;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25)}100%{background:#5fbb53;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}}@-ms-keyframes greenPulse{0%{background:#5fbb53;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}50%{background:#489413;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25)}100%{background:#5fbb53;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}}@-o-keyframes greenPulse{0%{background:#5fbb53;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}50%{background:#489413;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25)}100%{background:#5fbb53;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}}@keyframes greenPulse{0%{background:#5fbb53;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}50%{background:#489413;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24),0 0 6px rgba(0,0,0,.25)}100%{background:#5fbb53;-webkit-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);-moz-box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24);box-shadow:inset 0 -1px #344d11,inset 0 0 1px rgba(255,255,255,.24)}}#market_context_headcrab .pb-sitebar_popover .pb-btn-cnt .pb-btn:hover{color:#fff!important;background:#489413}#market_context_headcrab .pb-sitebar_popover_invert{padding:26px 29px 21px;background:#55b14a;border:0}#market_context_headcrab .pb-sitebar_popover_invert,#market_context_headcrab .pb-sitebar_popover_invert p,#market_context_headcrab .pb-sitebar_popover_invert .pb-title,#market_context_headcrab .pb-sitebar_popover_invert .pb-checkbox,#market_context_headcrab .pb-sitebar_popover_invert .pb-sitebar_popover-close{color:#fff!important}#market_context_headcrab .pb-sitebar_popover_invert .pb-arrow{border-width:8px;border-top-width:0;top:-8px;right:13px;border-bottom-color:#55b14a}#market_context_headcrab .pb-sitebar_popover_invert .pb-arrow:after{display:none}#market_context_headcrab .pb-sitebar_popover_invert a{color:#2b5c26!important}#market_context_headcrab .pb-sitebar_popover_invert a:hover{color:#2b5c26!important}#market_context_headcrab .pb-sitebar_popover_invert .pb-btn-cnt .pb-btn,#market_context_headcrab .pb-sitebar_popover_invert .pb-btn-cnt .pb-btn:hover{color:#444132!important;text-shadow:0 1px rgba(255,255,255,.34);background:#fdeeaa;border:0!important;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.13);-moz-box-shadow:0 1px 3px rgba(0,0,0,.13);box-shadow:0 1px 3px rgba(0,0,0,.13)}#market_context_headcrab .pb-sitebar_popover_invert .pb-btn-cnt .pb-btn:hover{background:#e8ea33}#market_context_headcrab.pb-sitebar_offer .pb-sitebar-button{display:none}#market_context_headcrab.pb-sitebar_offer .pb-sitebar-options{display:none!important}#market_context_headcrab .pb-sitebar_popover_invert .pb-btn-cnt .pb-btn:hover{background:#e8ea33}#market_context_headcrab.pb-sitebar_offer .pb-sitebar-button{display:none}#market_context_headcrab.pb-sitebar_offer .pb-sitebar-settings{display:none}#market_context_headcrab.pb-sitebar_offer .pb-sitebar-options{right:-24px}#market_context_headcrab:not(.pb-sitebar_offer) .pb-sitebar-offer{display:none}#market_context_headcrab .pb-sitebar-welcome{display:block!important;width:312px!important}#market_context_headcrab .pb-sitebar-welcome p{text-align:center!important}#market_context_headcrab .pb-sitebar_popover_invert .pb-btn-attention{background:#fdeeaa;-webkit-animation:yellowPulse 2s infinite;-moz-animation:yellowPulse 2s infinite;-ms-animation:yellowPulse 2s infinite;-o-animation:yellowPulse 2s infinite;animation:yellowPulse 2s infinite}@-webkit-keyframes yellowPulse{0%{background:#e8ea33}50%{background:#fdeeaa}100%{background:#e8ea33}}@-moz-keyframes yellowPulse{0%{background:#e8ea33}50%{background:#fdeeaa}100%{background:#e8ea33}}@-ms-keyframes yellowPulse{0%{background:#e8ea33}50%{background:#fdeeaa}100%{background:#e8ea33}}@-o-keyframes yellowPulse{0%{background:#e8ea33}50%{background:#fdeeaa}100%{background:#e8ea33}}@keyframes yellowPulse{0%{background:#e8ea33}50%{background:#fdeeaa}100%{background:#e8ea33}}#market_context_headcrab .pb-sitebar_popover_feedback{width:309px;color:#777;padding:32px 39px 13px;right:59px;display:none}#market_context_headcrab .pb-sitebar_popover_feedback .pb-title,#market_context_headcrab .pb-sitebar_popover_feedback p{line-height:20px}#market_context_headcrab .pb-sitebar_popover_feedback p{color:#777!important;margin-bottom:20px}#market_context_headcrab .pb-sitebar_popover_feedback ul{padding:0!important;margin:11px 0 21px!important;list-style:none}#market_context_headcrab .pb-sitebar_popover_feedback li{margin:10px 0}#market_context_headcrab .pb-sitebar_popover_feedback li a.active{color:#000!important}#market_context_headcrab .pb-sitebar_popover_feedback li a.pb-link-underline{color:#777!important;text-decoration:underline!important}#market_context_headcrab .pb-sitebar_popover_feedback form{text-align:right;padding-bottom:5px;display:none}#market_context_headcrab .pb-sitebar_popover_feedback form.error-shown{display:block}#market_context_headcrab .pb-sitebar_popover_feedback form .pb-btn{margin:0;height:26px}#market_context_headcrab .pb-sitebar_popover_feedback li p{margin:10px 0;display:none}#market_context_headcrab .pb-sitebar_popover_feedback textarea{border:1px solid #eee!important;width:100%!important;height:140px!important;margin:17px 0 8px!important;color:#000!important;padding:5px!important;background:#fff!important;font:12px/15px Arial,sans-serif!important;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}#market_context_headcrab a:after{background:none!important;height:0;width:0;margin:0}#market_context_headcrab.without_settings .pb-sitebar-question{margin-left:27px}#market_context_headcrab.without_settings .pb-sitebar-settings{display:none!important}#market_context_headcrab.without_settings .pb-sitebar_popover_feedback{right:32px!important}#market_context_headcrab.without_settings .pb-sitebar-button{right:84px!important}#market_context_headcrab.without_settings .pb-sitebar-button-all~.pb-sitebar-button{right:237px!important}#market_context_headcrab.without_settings .pb-sitebar-button-all{right:102px!important}#market_context_headcrab.without_about_link .link-about{display:none!important}#market_context_headcrab .pb-sitebar_popover .link-underline{color:#777!important;text-decoration:underline!important}#market_context_headcrab .pb-sitebar_popover_clothes{width:501px;max-height:345px;right:154px;display:none}#market_context_headcrab .pb-sitebar_popover_clothes .pb-title{text-align:center!important;margin:-7px 0 16px!important;font-size:15px!important}#market_context_headcrab .pb-sitebar-carousel-item{width:125px!important;margin:0 11px 1px;position:relative;text-align:center;float:left}#market_context_headcrab .pb-sitebar-carousel-item a{display:block!important;cursor:pointer!important}#market_context_headcrab .pb-sitebar-carousel-item a,#market_context_headcrab .pb-sitebar-carousel-item a:hover{text-decoration:none!important}#market_context_headcrab .pb-sitebar-carousel-item a:hover .pb-sitebar-carousel-title{text-decoration:underline!important}#market_context_headcrab .pb-sitebar-carousel-img{height:130px;width:100%;display:table-cell;vertical-align:middle;width:125px}#market_context_headcrab .pb-sitebar-carousel-img img{border:1px solid #e7e7e7;display:block;margin:0 auto;max-width:103px;max-height:128px}#market_context_headcrab .pb-sitebar-carousel-title{font-weight:400!important;font-size:12px!important;margin:9px 0 0!important;height:40px;overflow:hidden}#market_context_headcrab .pb-sitebar-carousel-price{font-weight:700;color:#000}#market_context_headcrab .pb-sitebar-carousel-item p.pb-sitebar-carousel-url{font-size:11px!important;color:#777!important}#market_context_headcrab .pb-sitebar-carousel .slick-prev,#market_context_headcrab .pb-sitebar-carousel .slick-next{width:20px;height:20px;border:0;outline:0;cursor:pointer;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAUCAYAAAD/Rn+7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAa1JREFUeNrEljFIQlEUhm8JgpMQNLm6OgWC0CQ0BGHQFLrUJAbSakuDS64iFEJQCEpTkCRtroHQ5OrqJASCIAjy+oM/eNzutXPfe9APH8rhnnP+573vHrc8z1N+tdtttUFn4BZ8gONyufyp/hDq7eDjBeyBC/BoW4t6v2LbSq4CuAcJsA86wrwO1yeYX3DoKTaYBU8g5osdCHP962Ksk43SYBq88hfw613YQ1+XYL10FAZ3wRs//ZqCktBgiesldZ0M2p50Dg4NTW2acv1cuDMig7azsgInYKzcNGbeSnC2RQZblrftHAxVMA2Zb7odWi4GL0HFEL8CPRVOPdbRVWFfkcFrQ+wONFQ0arCepK/TRf0vMhmsW7agFlHPmuUI1aUGm5YtuAHFkOaKrGM6Qk2XLa6CviH+APIBzeWZr6vPfk7XzBqcgpEWj4NnkHE0l2FeXIuP2GcdZJIswRGYaPEkx1RKaC7F9UktPmH9ZZhZPOOYmhmadoUGu4aHsdUNdM3YnjQnNJgT7kyo/4OmszIQ5g4EZzu0wZ+37XuWLjbMVbVhfi/4ve/ydn0JMAClkWAH05a3wQAAAABJRU5ErkJggg==) no-repeat;text-indent:-9999em;position:absolute;top:127px}#market_context_headcrab .pb-sitebar-carousel .slick-prev{left:18px}#market_context_headcrab .pb-sitebar-carousel .slick-next{background-position:-20px 0;right:18px}#market_context_headcrab .pb-sitebar-carousel .slick-prev:before,#market_context_headcrab .pb-sitebar-carousel .slick-next:before{content:''}#market_context_headcrab .pb-sitebar-carousel .slick-prev.slick-disabled,#market_context_headcrab .pb-sitebar-carousel .slick-next.slick-disabled{opacity:.3;filter:alpha(opacity=30);*zoom:1}#market_context_headcrab .pb-sitebar-carousel{height:220px!important;overflow:hidden}#market_context_headcrab .pb-sitebar-carousel-items{height:100%;position:relative;width:200%;left:0;transition:left 1s linear}.fotorama--fullscreen{z-index:2147483647!important}",
        template: "<div id=\"market_context_headcrab\" class=\"pb-sitebar {{#showOffer}}pb-sitebar_offer pb-sitebar-price-covered{{/showOffer}} {{abClass}} {{viewModificators}}\" style=\"top:0; cursor: pointer\">{{#isAvia}}<div class=\"pb-sitebar-logo\">{{#customLogo}} <img alt=\"\" src=\"{{customLogo}}\"> {{/customLogo}} {{^customLogo}} <img alt=\"\" src=\"data:image/png;base64,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\"> {{/customLogo}}</div>{{/isAvia}} {{#isProduct}} {{#isDefaultScript}}<div class=\"pb-sitebar-logo\"><img alt=\"\" src=\"data:image/png;base64,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\"></div>{{/isDefaultScript}} {{^isDefaultScript}}<div class=\"pb-sitebar-logo\">{{#customLogo}} <img alt=\"\" src=\"{{customLogo}}\"> {{/customLogo}} {{^customLogo}} <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAnCAYAAAC7bZ4BAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAC4dJREFUeNrUmgt0U/UZwL+8miZpmjZtk76StpS+aasUhUKVhw9eclCUMRBFBsoGMj1DNz3qlE23uQlnU9hROROYdioHRR2KgEBBWspjlD5oSx/0maRNS9rm3by6739r03tvCrRJzhH/nHtov373f+/98j1+33fD2XjkiSH4kRcH//0mqxCSJRFeGbmp4pYq0NpMDL1HU3IhXiSl6w19rWn47WFd0xXaluT00nemLeob63rcyOW+97D8y0U/uiHIyo5IgpemzAEeh+OVddtNsKP+FLiHPF5ZijQO1qUWAJemZ3U52jaf3/+sxeVwj8gihJEmAVdwCo3hGY8huHCLrCtGDRztambIlKFSuFuZypC1WfRQfq2TIRPzQ5Key77nEbrM5DRJh2AodbzXv2UM4fa44IuOKtDbLQz5XGU6RAvDvL97PG4o6W4Eg8PG0MuUKZbPVk5OoO9nc1nTN1/4JuwnZQiyBgZN8FHrJaDHKp/LhYfUecChycwOKxzSNjD0MH+ErEoueBpDxqtqdVq5riFX3niuzctZmfaaPzeNMQgPpa+AtbkbYM2UJ2FFxmq4J2k+JMsmgcHeC312g1/G0NvNECuKAJVE5pVFhojB6LRj4hzwyvrQGNFCKShFox94KE+gUEvkhjM9Lc2jnuEWn9B32BfFp3lP5ohygmOIosQ58HLh6zAlOh86TR1wVlcKtddqwOEZhILY6bAgZQmECyOguqcCPEOeCe3tGXJDq2UAZsUkg5DHH02SYVFw0dCJ13D9oOdBw5ghPzIOQrg8r16sSJrTaOw5rreb7CP78bjcqKNdrZ1oDFfQDHFX4lz49dTnoc3YCq+Xvwz/bf4MH/gS1PRWQrn2NBxt/RokgjC4P3kRxEoS4JyubMJeYXXbwYb2myqPp4UIj/KM6n6tV2bzOGAQ9TLDY0ZjncMJyZQpFYe0taUjMqfHyQvli8SL49O1QTFElCgaXpn5BrT0N8PWshfGdH+8KFzsPoc3LqCMobd2odFaJmwMjXUAUqUKrByjrq/AKqKzGaFn0DwaSvhzolgOUUKRVybhh6gjheKrFw0dGpqnSY93dxjRK8xjGWJCyXJJ6jLgcwSws2IbDLoHb6i7r/4j0Jg74ZH0lX7lCrJ/cUsF2N0u5j2ochkh43Q7MHHWY8i4mZ6rSN2QIJaJ6fvhkYtVhB9w1ShQ3om5oJp6wJuWQ4zN422HQSmJg7iwBL+M0YHM8KWmniGTCUJhfnwWQ9Zt64MSfStDhnkj+pnMOY/TZWanKdQDQ1kBGyJarJiQm7cbh28uVhznlyFIQjysqYUWM5OUp0cnAVaHUZ5GvXL9VdBajQw9lSRy4cPq/Ez6flanOWnT0bXygAzB4/DA4rRc9+/q8GR4puB38Ieiv8Lq7F8A94dsTvKFv8vqssK/MUTomE16jmXIFjzO6O3bMcEe1F5hVCkECs7ihJzNUoHQGw42l42DeSwPjcENClDxuXzIi7kd8hVTYX3eRpif8gA8i0ZQhyeBxtQJ9yUvhKKE2UEBrQajFo7omPhNEieSJNMDLT1Q3uuD36ot2fPGwm/GyXx/by5RqoaXZvwRCMh1mNpgtuoeeK30RWg1XqXwtrhuN6RGpFHlNij43VkFt8vjIJZWRebEpkENllMCYV781jdBhiwaokK8eRIywhXL58amlZ7oauyg4XcaeoV25327zQF5ROvAVdj43VrYe3kXlLR/B8+XbIbm/gaIk8RT1YXAlsfjgWAtI5bJ4hYWfmNoPKjK98VvjQ9+C1YmF2waA7/z0RiBeQRZT+VtgtuVd1A/r8h8DIprP4DHc9YjyQ1vqzNrgmYIdGW4ZGiD0h41FMWovfLkMDncicnzbG+bV7PBqIPKvli4LTLWqxcuCM3ekjVvwd9qjx0a2c/sMMmxVUgiTa3fHqEQKykjHGw+AJuPrUei42Lf8Uus507YePQJOIal09+yeb1FYO3Ttksw4LQz5KSc4oN6f3eh6x/RNYDZ5WDo3SZPWJMXGS+n72dz27LQK0L9NoRYIBn+RLDJmob9BQ8rhN1lw/otoPoNVXiSzzlCnhASwhIDMkavvQ8+ba9hyLDZgiWJuQxZv8MIR7qaWFWPK34qbeYGusziNAs84MkNuA0nuWBNzpMUdr/0/RYKttbl/gomySbDyY5jDN1Fk5bCW3P/GViIDA2B3WnzHbVxfBTB4RocezLI2g9DJLAcQdaemvehovs8dFl0VNw9f/JpTJgJMDDYR3kLqSajJVdAsUggC8shPDZpGkNmdzvhq45qHy9ZlJDNol2PdVfjmffYEYdHdcAeYUXA0lm0lBFGLKxFr7gReAWyMPtjFypiyA5jr2EcM28IGbLKPs1ePK4xPYlT/+Hiz+0BG4LP5d9gOh3cARjyANwbl8GaYRrgXC+zz0iSDFcSRvl12uveqj3+LWtLg0QQ1hqUUV2GPPu6f0uLzAiaEQSYjDekz2IEuAtx+kB7JWu0x4NlSUy2QG91ftz6vx0e4q60VkbAFVR+sOCT4MwsybQqQ+7b0CnFsRRYBWs9qMqDeJGMITvZ1eilSi9tInbHCMNYE3L9/hGqpEFWY/EDX5gDRmx6I/ZK4Z/gi6Z9cKHrLFXDc7GSPJyxEsJCpEExQqI4ApayyqPeboKT3U2+/YdiMqtpc3Rsrz2xn7WlSSwQNwXUaxAW+GEoSv3/WcMnMCliMvwsYzV1jKzm/kY40LiPKq1kbkg/dyKLdJpPpc2iptl0yjzQXkWFBl1zmTqfzCdpejD0jbZ2B+YHJz1SkHyrdi/c5/HbEKRCRIuG54M6i4YiM0KYfy5/lQqFSdhkcakmrJ2aRTyc/nNKV2sZRu0YsQLLav+EDEGSYzptJknWOcRpkiR9ZxSRrMFO37f72y7VsbZs+/iBL31mjBMyxBVDLUyJyac6ThICpztPICfcSzVd1b2XoNva5dVNkKqoHEHOIT0HQfCc6Dy42t807uvJsYNclVLAzv7wrZb5bASvFyQw85TD4772j/qSvawt7SK+qG7M6jcRQ5Tryqj+Ymb8XVCqOYVN1h7IjsqFF2dshUMtX8E53RkqDAhtLp38CJXN3618mzq3ML4IwkNkeN7JcV9v3eRCEPGYQx0CToOsOeZSTKRCVhn/Xt/8rsY6YGUMXzjc6t2FK1wBG6JUUwLLM1ZR06ea3irKzV8+/Rysxy6UfPr0KkFmm+9VvkN5g0wYgeesQ/rUQhkacDyLuHpBlIohq+nXQe1AFxPxI+IgS6ZkyHrs5rJdjWVnWVvq/lP0eNd1eWgihnC4HbCzYjv8HqvEC9Nfhb+c3UoZY9v5N6g3XymyVCpsNKYOb5gQIxBdeWgUbC17kcorN1sSxOi1qTN8MPpg582bLcRoy66msvfZGI2JuuZG15wwR1xGT9hRsQ37iFR4c/bbcHfiPOrh+7G3qNBfgIvYdxAjEBn5G9EhuuQc4iXjWatSpkEEC6NJXmBj9ALsJaQsjK4wdO6p6tMaWBhdt3fmSvsNCdmfuv49Jskeqx6ezN8ET0/dQr37rNRfhB6bfrg6iBTULFMaEk55x98vvAn1hsvj2jsT3XxebDpzGmY2wHnv4GVkIBMFd0Sp2Yn08va6E0fYGP1x0Zq2m7YK/kIOebDnSjbB9LhZMAOPrKgpUBg6XL5IuJDXgOW6Uuq9KJNsb4LRab4Y/flYGK32xejilgtjYvS4eqZAZwPkfSc5grGWqfIhThTOkJ3oaoDeQSZGz1WmQbRQwvxgBvT7kDQ1LBhr+HDWo+bxXPuW+X6ECmFoiWoKQ0a+OnSqm/UtGjQU+1s05KtD2+uOfzYGRjeP9/q3hCGGMXomNZVmYnQl48UO0XyI9WKHYPRBzeWdJuegi4XRlf+asdzzkzLE/fGZkCZlYnR5Tyu0W5iv+mbEJINazMTodovhG8wh9awtW4tnre6byD38X4ABABI+6neAmYbdAAAAAElFTkSuQmCC\"> {{/customLogo}}</div>{{/isDefaultScript}} {{/isProduct}}<div class=\"pb-sitebar-cnt\" id=\"market_context_text\">{{#bestOffers}}<div class=\"pb-sitebar-text\">Советник рекомендует {{productName}} в магазине {{shop.name}}</div>{{/bestOffers}} {{^bestOffers}} {{#comparePopup}}<div class=\"pb-sitebar-text\">Сравните цены на {{productName}} в вашем регионе</div>{{/comparePopup}} {{^comparePopup}} {{#isLowestPrice}}<div class=\"pb-sitebar-text lowest\">{{#isProduct}} {{#isAvito}} Советник рекомендует новый {{productName}} в магазине {{shop.name}} {{/isAvito}} {{^isAvito}} Самая низкая цена на {{productName}} в магазине {{shop.name}} {{/isAvito}} {{/isProduct}} {{#isAvia}} Есть более дешевый билет <b>{{originCity}}</b> {{departureAt}} <b>{{destinationCity}}</b> {{returnAt}} {{/isAvia}}</div>{{/isLowestPrice}} {{^isLowestPrice}}<div class=\"pb-sitebar-text profitable\">{{#isProduct}} {{#isAvito}} Советник рекомендует новый {{productName}} в магазине {{shop.name}} {{/isAvito}} {{^isAvito}} Более выгодная цена на {{productName}} в магазине {{shop.name}} {{/isAvito}} {{/isProduct}} {{#isAvia}} Самая низкая цена Авиасейлс на авиабилет <b>{{originCity}}</b> {{departureAt}} <b>{{destinationCity}}</b> {{returnAt}} {{/isAvia}}</div>{{/isLowestPrice}} {{/comparePopup}} {{/bestOffers}} {{^comparePopup}} <span class=\"pb-dash\">&nbsp;&mdash;&nbsp;<span></span><div class=\"pb-sitebar-price\" id=\"market_context_price\">{{priceText}}</div>&nbsp;<div class=\"pb-sitebar-price-without-delivery\" id=\"market_context_without_delivery\">(без учета доставки)</div>&nbsp;<div class=\"pb-sitebar-profit\">{{profitText}}</div>{{/comparePopup}}</span></div>{{#shops.length}} <a id=\"market_context_shops\" class=\"pb-sitebar-button pb-sitebar-button-all\">{{#comparePopup}} Сравнить <span class=\"caret\"></span> {{/comparePopup}} {{^comparePopup}} Еще варианты <span class=\"caret\"></span> {{/comparePopup}}</a> {{/shops.length}} {{#clothes.length}} <a id=\"market_context_shops\" class=\"pb-sitebar-button pb-sitebar-button-all\">{{#comparePopup}} Сравнить <span class=\"caret\"></span> {{/comparePopup}} {{^comparePopup}} Еще варианты <span class=\"caret\"></span> {{/comparePopup}}</a> {{/clothes.length}} {{^comparePopup}} <a class=\"pb-sitebar-button\">{{#isProduct}} Посмотреть {{/isProduct}} {{#isAvia}} Найти билеты {{/isAvia}}</a> {{/comparePopup}}<div class=\"pb-sitebar-options\"><a id=\"market_context_question\" class=\"pb-sitebar-i pb-sitebar-question pb-sitebar-right-action\" title=\"Инфо\">Инфо</a> <a id=\"market_context_settings\" class=\"pb-sitebar-i pb-sitebar-settings pb-sitebar-right-action\" title=\"Настройки\">Настройки</a> <a id=\"market_context_close\" class=\"pb-sitebar-i pb-sitebar-close pb-sitebar-right-action\" title=\"Закрыть\">Закрыть</a></div><div id=\"sitebar_info_popover\" class=\"pb-sitebar_popover pb-sitebar_popover_feedback\" style=\"display:none\"><div class=\"pb-arrow\"></div><a class=\"pb-sitebar_popover-close\">&times;</a><h1 class=\"pb-title\">{{#isMbrApplication}}<strong>Советник</strong>{{/isMbrApplication}} {{^isMbrApplication}}Советник для <strong>{{appName}}</strong>{{/isMbrApplication}}</h1><p>{{#isProduct}} Это приложение подсказывает вам более выгодные цены на товары, на которые вы смотрите прямо сейчас.</p><p>© 2013-2015 ООО «ЯНДЕКС» <a href=\"http://legal.yandex.ru/desktop_software_agreement\" target=\"_blank\" class=\"link-underline\">Лицензионное соглашение</a></p>{{/isProduct}} {{#isAvia}} Это приложение подсказывает вам более выгодные цены на авиабилеты в нужном вам направлении. Данные Aviasales. {{/isAvia}}</div><div id=\"sitebar_feedback_popover\" class=\"pb-sitebar_popover pb-sitebar_popover_feedback\"><div class=\"pb-arrow\"></div><a href=\"\" class=\"pb-sitebar_popover-close\">&times;</a><h1 class=\"pb-title\">Спасибо</h1><p>Мы скоро станем лучше</p></div><div id=\"sitebar_settings_popover\" class=\"pb-sitebar_popover pb-sitebar_popover_settings\" style=\"display:none; z-index:10000\"><div class=\"pb-arrow\"></div><a class=\"pb-sitebar_popover-close\">&times;</a><p><label id=\"price_context_dont_show_this_site\" class=\"pb-checkbox\"><input type=\"checkbox\" id=\"checkbox_do_not_show\">{{#isProduct}} <b>Не показывать</b> низкие цены для товаров с этого сайта {{/isProduct}} {{#isAvia}} <b>Не показывать</b> дешевые авиабилеты {{/isAvia}}</label><a href=\"{{settingsHost}}/sovetnik/#/settings\" target=\"_blank\" class=\"pb-btn\">Настройки</a></p></div>{{#showOffer}}<div id=\"sitebar_policy_popover\" class=\"pb-sitebar-offer pb-sitebar_popover pb-sitebar_popover_policy {{#showOfferInvert}}pb-sitebar_popover_invert{{/showOfferInvert}}\" style=\"z-index:100000\"><div class=\"pb-arrow\"></div><h1 class=\"pb-title\"><strong>{{appName}}</strong> может показывать более выгодные цены на&nbsp;товары в&nbsp;интернете</h1><p class=\"pb-btn-cnt\"><a id=\"price_context_show_price\" class=\"pb-btn\">Показывать</a> <a id=\"price_context_no\" class=\"pb-link pb-link-btn\">Нет, спасибо</a></p><p>Нажимая «Показывать», я&nbsp;соглашаюсь с&nbsp;условиями <a href=\"http://legal.yandex.ru/desktop_software_agreement/\" target=\"_blank\" id=\"price_context_policy\" class=\"pb-link pb-link-policy\">Лицензионного соглашения</a></p></div>{{/showOffer}} {{#showWelcome}}<div id=\"sitebar_policy_popover\" class=\"pb-sitebar-offer pb-sitebar_popover pb-sitebar_popover_policy pb-sitebar-welcome\" style=\"z-index:100000\"><div class=\"pb-arrow\"></div><h1 class=\"pb-title\"><strong>Яндекс.Элементы</strong> помогут найти более выгодные цены на&nbsp;товары в&nbsp;интернете</h1><p class=\"pb-btn-cnt\"><a id=\"pricebar_welcome_ok\" class=\"pb-btn\">ОК</a></p><span class=\"settings-link\">Вы можете настроить или отключить такие советы в <a href=\"{{settingsHost}}/sovetnik/#/settings\" class=\"pb-settings-link\">Настройках</a></span></div>{{/showWelcome}} {{#shops.length}}<div id=\"sitebar_shops_popover\" class=\"pb-sitebar_popover pb-sitebar_popover2 pb-sitebar_popover_product\" style=\"display: none\"><div class=\"pb-arrow\"></div><h1 class=\"pb-disclaimer\">цены без учета стоимости доставки</h1><a class=\"pb-sitebar_popover-close\">&times;</a><div class=\"pb-product-best\"><div class=\"pb-product-best-img\"><a href=\"{{bestShop.url}}\" class=\"shop-url\" data-type-shop=\"OfferImage\" data-type-offer=\"{{bestShop.type}}-{{bestShop.rating}}\" target=\"_blank\">{{#photo}} <img src=\"{{photo}}\" alt=\"\"> {{/photo}} {{^photo}} <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADZQTFRF7+/v+vr68/Pz/f398PDw9PT0/Pz88fHx+fn59/f39fX18vLy+/v7+Pj49vb2/v7+////7u7urdMKSAAAAWFJREFUeNrkltl6hCAMhQPI6pIz7/+yTZh+VmeRzEVvWi8QkD/mSEik24cX/VHAlwAE18gG5ASAgzbRAnggRZ31DqhjYD6sioxtCISjVXlbHgAR6ThcUQaAw0noBB4AjPNEevLpAXi06ODNQFtSmazAFHPVzWMTMLHuda1085sJIBdcLPkTDb6ss4go1ahhE48QnYZfMgGM1mR18EVai2hpSJYWjSUbgJSQGI7vQGxDQJBJghuli2aMgJD1o1KeblbgHEu/APCnwH4IiI3Ash9RIwCn81RhBPpJWAtrxwAQmFbdZLjsMF8DPQkEEU1z9KSipTl85hdpRlyocN/D3vP78AXQ9CGFXTRnNXIRfOKDOJ130V6zLdNFbt2QZIpW3EVLN50z8lO6X7B0d7pouS/7Lr4BxGKYf7J/6G+8rEBiE66XFNJEsNC4xrVer4LuXWi2Khq1LCKU+H/+BC6vLwEGAIrei8ynYGh0AAAAAElFTkSuQmCC\" alt=\"\"> {{/photo}}</a></div><div class=\"pb-product-best-txt\"><h1>Советник рекомендует</h1><div class=\"pb-products\"><p><a href=\"{{bestShop.url}}\" class=\"shop-url\" data-type-shop=\"TopOffer\" data-type-offer=\"{{bestShop.type}}-{{bestShop.rating}}\" target=\"_blank\"><span class=\"pb-products-name\">{{bestShop.name}}</span> <span class=\"pb-products-price\">{{bestShop.price}}</span></a></p></div></div><div class=\"pb-product-best-btn\"><a href=\"{{bestShop.url}}\" target=\"_blank\" class=\"pb-btn shop-url\" data-type-offer=\"{{bestShop.type}}-{{bestShop.rating}}\" data-type-shop=\"OfferButton\">Посмотреть</a></div></div><div class=\"pb-product-all\"><h1>Другие предложения этого товара</h1><ul class=\"pb-products\">{{#byRelevanceShops}}<li><a href=\"{{url}}\" target=\"_blank\" class=\"shop-url\" data-type-offer=\"{{type}}-{{rating}}\" data-type-shop=\"Offer{{index}}\"><div class=\"pb-products-txt\"><span class=\"pb-products-name\">{{name}}</span> <span class=\"pb-products-price\">{{price}}</span></div><div class=\"pb-products-rate\"><i class=\"pb-products-rate-active pb-products-rate-active-{{rating}}\">{{rating}}</i></div></a></li>{{/byRelevanceShops}}</ul>{{#bothShopLists}}<div class=\"pb-divider\"></div>{{/bothShopLists}}<ul class=\"pb-products pb-product-all-price\">{{#byPriceShops}}<li><a href=\"{{url}}\" target=\"_blank\" class=\"shop-url\" data-type-offer=\"{{type}}-{{rating}}\" data-type-shop=\"Offer{{index}}\"><div class=\"pb-products-txt\"><span class=\"pb-products-name\">{{name}}</span> <span class=\"pb-products-price\">{{price}}</span></div><div class=\"pb-products-rate\"><i class=\"pb-products-rate-active pb-products-rate-active-{{rating}}\">{{rating}}</i></div></a></li>{{/byPriceShops}}</ul><div class=\"pb-sitebar_popover_footer\">{{#shopDetailsUrl}} <a class=\"link-underline shop-data\" target=\"_blank\" href=\"{{shopDetailsUrl}}\">Информация о продавцах</a> {{/shopDetailsUrl}} <span class=\"market-data\">Данные <a href=\"http://market.yandex.ru/?clid=766\" target=\"_blank\" class=\"link-underline\">Яндекс.Маркета</a></span></div></div></div>{{/shops.length}} {{#clothes.length}}<div id=\"sitebar_clothes_popover\" class=\"pb-sitebar_popover pb-sitebar_popover_clothes\"><div class=\"pb-arrow\"></div><h1 class=\"pb-disclaimer\">цены без учета стоимости доставки</h1><a class=\"pb-sitebar_popover-close\">&times;</a><h1 class=\"pb-title\">{{productName}}</h1><div class=\"pb-sitebar-carousel\"><div id=\"clothes-carousel\" class=\"pb-sitebar-carousel-items\">{{#clothes}}<div class=\"pb-sitebar-carousel-item\"><a href=\"{{url}}\" class=\"shop-url\" target=\"_blank\" data-type-offer=\"{{type}}-{{rating}}\" data-type-shop=\"Offer{{index}}\"><div class=\"pb-sitebar-carousel-img\"><img src=\"{{photo}}{{^photo}}data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADZQTFRF7+/v+vr68/Pz/f398PDw9PT0/Pz88fHx+fn59/f39fX18vLy+/v7+Pj49vb2/v7+////7u7urdMKSAAAAWFJREFUeNrkltl6hCAMhQPI6pIz7/+yTZh+VmeRzEVvWi8QkD/mSEik24cX/VHAlwAE18gG5ASAgzbRAnggRZ31DqhjYD6sioxtCISjVXlbHgAR6ThcUQaAw0noBB4AjPNEevLpAXi06ODNQFtSmazAFHPVzWMTMLHuda1085sJIBdcLPkTDb6ss4go1ahhE48QnYZfMgGM1mR18EVai2hpSJYWjSUbgJSQGI7vQGxDQJBJghuli2aMgJD1o1KeblbgHEu/APCnwH4IiI3Ash9RIwCn81RhBPpJWAtrxwAQmFbdZLjsMF8DPQkEEU1z9KSipTl85hdpRlyocN/D3vP78AXQ9CGFXTRnNXIRfOKDOJ130V6zLdNFbt2QZIpW3EVLN50z8lO6X7B0d7pouS/7Lr4BxGKYf7J/6G+8rEBiE66XFNJEsNC4xrVer4LuXWi2Khq1LCKU+H/+BC6vLwEGAIrei8ynYGh0AAAAAElFTkSuQmCC{{/photo}}\" alt=\"\"></div><h2 class=\"pb-sitebar-carousel-title\">{{productName}}</h2><p class=\"pb-sitebar-carousel-price\">{{price}}</p><p class=\"pb-sitebar-carousel-url\">{{name}}</p></a></div>{{/clothes}}</div><button type=\"button\" data-role=\"none\" class=\"slick-prev clothes-carousel-control slick-disabled\">Previous</button> <button type=\"button\" data-role=\"none\" class=\"slick-next clothes-carousel-control {{#onePage}}slick-disabled{{/onePage}}\">Next</button></div><div class=\"pb-sitebar_popover_footer\">{{#shopDetailsUrl}} <a class=\"link-underline shop-data\" target=\"_blank\" href=\"{{shopDetailsUrl}}\">Информация о продавцах</a> {{/shopDetailsUrl}} <span class=\"market-data\">Данные <a href=\"http://market.yandex.ru/?clid=766\" target=\"_blank\" class=\"link-underline\">Яндекс.Маркета</a></span></div></div>{{/clothes.length}} <img class=\"track\" src=\"{{trackLogo}}\"></div><div class=\"mbr-citilink-container\" style=\"display:none\"></div>",
        html: null,
        _offerAccepted: void 0,
        events: {
            "click #market_context_headcrab": "_openUrl",
            "click .shop-url": "_shopOpened",
            "click #price_context_show_price": "_acceptOffer",
            "click #price_context_no": "_declineOffer",
            "click #pricebar_welcome_ok": "hideWelcomePopover",
            "click #market_context_question": "_toggleInfo",
            "click #market_context_settings": "_toggleSettings",
            "click #market_context_shops": "_toggleShops",
            "click #market_context_headcrab .pb-sitebar_popover-close": "_hidePopovers",
            "click #market_context_close": "_closePopup",
            "click #checkbox_do_not_show": "_toggleDisallowDomain",
            "click body": "_onBodyClick",
            "mouseenter .pb-sitebar-options": "_preventShowShops",
            "mouseleave .pb-sitebar-options": "_stopPreventingShowShops",
            "mouseenter #market_context_headcrab,#market_context_shops,.pb-sitebar-button": "_initShowShops",
            "mouseenter .pb-sitebar-right-action": "_cancelShowShops",
            "mouseenter .pb-sitebar-welcome": "_cancelShowShops",
            "mouseleave #market_context_headcrab": "_cancelShowShops",
            "click #sitebar_shops_popover, #sitebar_settings_popover, #sitebar_info_popover, #sitebar_clothes_popover, .pb-sitebar-welcome": "_onPopoverClick",
            "resize window": "_onResize",
            "click .wrong-product, .high-price, .unknown-error, .wrong-region": "_sendError",
            "submit #form-error": "_sendError",
            "click .pb-sitebar-carousel .clothes-carousel-control": "_carouselControlClick"
        },
        ids: {
            pricebar: "market_context_headcrab",
            text: "market_context_text",
            price: "market_context_price",
            offerPopup: "sitebar_policy_popover",
            welcomePopover: "sitebar_policy_popover",
            offerYesButton: "price_context_show_price",
            popoverInfo: "sitebar_info_popover",
            popoverSettings: "sitebar_settings_popover",
            popoverShops: "sitebar_shops_popover",
            popoverClothes: "sitebar_clothes_popover",
            checkboxDoNotShow: "checkbox_do_not_show",
            popoverThanks: "sitebar_feedback_popover",
            formError: "form-error",
            clothesCarousel: "clothes-carousel",
            withoutDelivery: "market_context_without_delivery"
        },
        classes: {
            offerShown: "pb-sitebar_offer",
            buttonGo: "pb-sitebar-button",
            shoplist: "shoplist",
            text: "pb-sitebar-cnt",
            carouselDisabled: "slick-disabled",
            carouselPrev: "slick-prev",
            clothesCarouselControl: "clothes-carousel-control"
        },
        clean: function () {
            this.type = "", this.data = {}, this.html = null, this._offerAccepted = void 0;
        },
        init: function (a, b, c) {
            c = c || {}, this.type = a, this.extractMethod = b.method || "", this.original = b.original || {};
            try {
                this.serverResponse = JSON.stringify(b, 2, 2);
            } catch (d) {
                this.serverResponse = JSON.stringify(b);
            }
            var e;
            if (b.offers) {
                var f = b.offers.filter(function (a) {
                    return "pricebar" === a.target;
                });
                f.length && (e = f[0]);
            } else
                e = b;
            this.data = {
                isAvia: "avia" === a,
                isProduct: "product" === a,
                isAvito: c.isAvito || mbr.settings.isAvitoSite(),
                isDefaultScript: "undefined" != typeof c.isDefaultScript ? c.isDefaultScript : mbr.settings.isDefaultScript(),
                isMbrApplication: "undefined" != typeof c.isMbrApplication ? c.isMbrApplication : mbr.settings.isMbrApplication(),
                appName: c.appName || mbr.settings.getAppName(),
                showOffer: "undefined" != typeof c.showOffer ? c.showOffer : mbr.settings.needShowOffer(),
                showOfferInvert: "undefined" != typeof c.showOfferInvert ? c.showOfferInvert : mbr.settings.needShowInvertOptIn(),
                isLowestPrice: e.guaranteedLowestPrice,
                isMostRelevant: e.mostRelevant,
                url: e.url,
                autoShowShopList: "undefined" != typeof c.autoShowShopList ? c.autoShowShopList : mbr.settings.isAutoShowingShopListEnabled(),
                bestOffers: b.bestOffers,
                viewModificators: c.viewModificators || mbr.settings.getViewModificators(),
                customLogo: c.customLogo || mbr.settings.getCustomLogo(),
                settingsHost: mbr.config.getSettingsHost(),
                showWelcome: c.showWelcome || mbr.settings.isFirstStart() && mbr.settings.isYandexElementsExtension()
            };
            var g = mbr.abtest.getModificators(b.bucketInfo), h = mbr.abtest.getIds(b.bucketInfo);
            if (this.data.abClass = g.join(" "), this.data.ab = {}, g.forEach(function (a) {
                    this.data.ab[a] = !0;
                }.bind(this)), "product" === a && e.name) {
                var i = e.name.split("(")[0];
                this.data.originalProductName = i, i && i.length > 64 && (i = i.substr(0, 64) + "..."), this.data.productName = i, this.data.photo = e.photo, this.data.shop = e.shopInfo, this.data.type = this._getTypeOffer(e), this.data.isHigherThanCurrent = e.price.isHigherThanCurrent, this.data.isEqualToCurrent = e.price.isEqualToCurrent, this.data.shops = b.offers.map(function (a) {
                    return a.shopInfo.rating = Math.max(a.shopInfo.rating, 0), {
                        id: a.shopInfo.id,
                        name: a.shopInfo.name,
                        rating: a.shopInfo.rating,
                        url: a.url,
                        price: mbr.tools.formatPrice(a.price.value, a.price.currencyName || ""),
                        type: this._getTypeOffer(a),
                        trackingImg: a.trackingImg,
                        photo: a.photo,
                        target: a.target
                    };
                }.bind(this)), this.data.bestOffers = this.data.bestOffers || !this.original.productPrice || !this.data.isAvito && (this.data.isHigherThanCurrent || this.data.isEqualToCurrent), this.data.shopDetailsUrl = mbr.tools.getShopDetailsUrl(this.data.shops);
                var j = {
                    isAvito: this.data.isAvito,
                    isLowest: this.data.isLowestPrice,
                    isBest: this.data.bestOffers,
                    isEqualsPrice: !this.data.isAvito && this.data.isEqualToCurrent,
                    isHigherThanCurrent: !this.data.isAvito && this.data.isHigherThanCurrent,
                    isProfitable: !this.data.isLowestPrice && !this.data.isHigherThanCurrent && !this.data.bestOffers,
                    optInShown: this.data.showOffer,
                    isBrightOptIn: this.data.showOfferInvert,
                    isDressWildberries: mbr.settings.isWildberries(),
                    isDressLamoda: mbr.settings.isLamoda(),
                    isAliexpress: mbr.settings.isAliexpress(),
                    isPriceDefined: !!this.original.productPrice
                };
                this.data.popupsImages = [];
                var k = mbr.settings.isWildberries() || mbr.settings.isLamoda();
                if (!k) {
                    var l = this.data.shops.filter(function (a) {
                        return "top-offer" === a.target;
                    });
                    l.length && (this.data.bestShop = l[0], this.data.bestShop.url = mbr.hasoffersTracking.wrapPopupURL(this.data.bestShop.url, 0, { isPriceDefined: !!this.original.productPrice }, h), this.data.popupsImages.push(mbr.hasoffersTracking.wrapPopupURL(this.data.bestShop.trackingImg, 0, { isPriceDefined: !!this.original.productPrice }, h)));
                }
                this.data.shops = this.data.shops.filter(function (a) {
                    return "pricebar" !== a.target && ("top-offer" !== a.target || k);
                }), this.data.shops.forEach(function (a, b) {
                    a.index = b + 1, a.url = mbr.hasoffersTracking.wrapPopupURL(a.url, b + 1, j, h), this.data.popupsImages.push(mbr.hasoffersTracking.wrapPopupURL(a.trackingImg, b + 1, j, h));
                }.bind(this)), k ? (this.data.clothes = this.data.shops.filter(function (a) {
                    return "relevance-list" === a.target || "top-offer" === a.target;
                }), this.data.onePage = this.data.clothes.length < 4, delete this.data.shops) : (this.data.byRelevanceShops = this.data.shops.filter(function (a) {
                    return "relevance-list" === a.target;
                }), this.data.byPriceShops = this.data.shops.filter(function (a) {
                    return "price-list" === a.target;
                }), this.data.bothShopLists = !(!this.data.byRelevanceShops.length || !this.data.byPriceShops.length)), this.data.url = mbr.hasoffersTracking.wrapMainURL(this.data.url, j, h), this.data.trackLogo = mbr.hasoffersTracking.wrapMainURL(e.trackingImg, j, h);
            }
            if ("avia" === a && (this.data.originCity = e.originCity, this.data.destinationCity = e.destinationCity, this.data.departureAt = mbr.tools.formatDate(e.departureAt), this.data.returnAt = mbr.tools.formatDate(e.returnAt), this.data.routeText = this.data.originCity + " " + this.data.departureAt + " - " + this.data.destinationCity + " " + this.data.returnAt, this.data.url = mbr.hasoffersTracking.wrapAviaURL(this.data.url, {
                    isLowest: this.data.isLowestPrice,
                    optInShown: this.data.showOffer,
                    isBrightOptIn: this.data.showOfferInvert
                }, h), this.data.trackLogo = mbr.hasoffersTracking.wrapAviaURL(e.trackingImg, {
                    isLowest: this.data.isLowestPrice,
                    optInShown: this.data.showOffer,
                    isBrightOptIn: this.data.showOfferInvert
                }, h)), e.price && (this.data.priceText = mbr.tools.formatPrice(e.price.value, e.price.currencyName || "")), this.data.comparePopup) {
                if (this.data.showOffer)
                    return void mbr.log("do not show a pricebar if offer has not accepted");
                if (this.data.shops && 0 === this.data.shops.length || this.data.clothes && this.data.clothes.length < 2)
                    return void mbr.log("do not show a pricebar if we have only one offer");
            }
            this._randomizer = new Randomizer(this._getHTMLFromTemplate(), !mbr.settings.needRandomize());
            var m = mbr.settings.getScrollPosition(), n = mbr.settings.getStartDelay();
            return m && (mbr.log("wait when scroll is " + m + "%"), this.onScroll = this.onScroll.bind(this), window.addEventListener ? window.addEventListener("scroll", this.onScroll, !1) : window.attachEvent && window.attachEvent("onscroll", this.onScroll)), n && (mbr.log("wait " + n + " seconds"), mbr.settings.delayAfterStart(n).then(function () {
                mbr.log("render popup after delay"), this._render();
            }.bind(this))), m || n || (mbr.log("render"), this._render()), this;
        },
        _getTypeOffer: function (a) {
            return a.mostRelevant ? "BestCPC" : a.guaranteedLowestPrice ? "Lowest" : "Profitable";
        },
        _injectCSS: function (a) {
            var b = document.createElement("style");
            b.textContent = a, b.text = a, document.body.appendChild(b);
        },
        _prepareExistingStyle: function () {
            var a, b = document.styleSheets;
            if (b) {
                for (var c = 0; c < b.length; c++)
                    if (b[c].ownerNode && "mbrstl" === b[c].ownerNode.id) {
                        a = b[c];
                        break;
                    }
                if (a && a.cssRules && a.cssRules.length)
                    for (var d, e, f = a.cssRules.length; f--;)
                        d = a.cssRules[0], e = d.selectorText || "", a.insertRule(d.cssText.replace(e, this._randomizer.randomize(e)), a.cssRules.length), a.deleteRule(0);
            }
        },
        _loadTemplate: function () {
            var a = "", b = document.getElementById("mbrtmplt");
            return b ? (a = b.innerHTML, b.parentNode.removeChild(b), a) : a;
        },
        _getHTMLFromTemplate: function () {
            return this.html || (this.template = this.template || this._loadTemplate(), this.template && (this.html = mbr.Mustache.render(this.template, this.data))), this.html;
        },
        _render: function () {
            if (this.el)
                return void mbr.log("pricebar is already shown");
            this.css ? this._injectCSS(this._randomizer.randomize(this.css)) : this._prepareExistingStyle();
            var a = window.document.createElement("div"), b = this._randomizer.randomize(this._getHTMLFromTemplate());
            if (b) {
                a.innerHTML = b, this.el = a.childNodes[0], this.el.style.top = "-40px", window.document.body.appendChild(this.el);
                var c = document.querySelector("." + this._randomizer.randomize(this.classes.text)), d = mbr.tools.getTextContents(c);
                d = d.replace(this.data.productName, this.data.originalProductName), c.setAttribute("title", d), this._fixTextWidth(), this.data.showOffer ? (this._fixOfferPosition(), mbr.hub.trigger("pricebar:optInShow", this.data.showOfferInvert, this.type)) : this.data.showWelcome ? (mbr.storage.set("firstStart", !0), this._fixOfferPosition()) : this.data.comparePopup || mbr.hub.trigger("pricebar:show", this.type), this._bindEvents(), this._animateShow(), this._startPricebarHighlighting(), mbr.hub.trigger("pricebar:render", new Date().getTime());
            }
        },
        _animateShow: function () {
            var a = -39, b = parseInt(document.documentElement.style.marginTop, 10) || 0;
            document.documentElement.setAttribute("mbr-initial-margin-top", b), document.documentElement.setAttribute("mbr-initial-position", document.documentElement.style.position), mbr.settings.canAddRelativePosition(mbr.tools.getHostname(document)) && (document.documentElement.style.position = "relative");
            var c = this.el, d = setInterval(function () {
                    a += 2, b += 2, -1 === a && clearInterval(d), c.style.top = a + "px", document.documentElement.style.setProperty("margin-top", b + "px", "important");
                }, 15);
        },
        _onResize: function () {
            this._fixTextWidth(), this._fixOfferPosition();
        },
        _fixOfferPosition: function () {
            var a = this._getElementById(this.ids.price), b = this._getElementById(this.ids.offerPopup);
            a && b && (b.style.left = Math.round(a.offsetLeft - a.offsetWidth / 2) - 140 + "px");
        },
        _fixTextWidth: function () {
            for (var a, b = this._getElementById(this.ids.price), c = this._getElementById(this.ids.withoutDelivery), d = this._getElementById(this.ids.text), e = d.offsetWidth - b.offsetWidth - c.offsetWidth - 30, f = 0; f < d.childNodes.length; f++)
                if ("DIV" === d.childNodes[f].tagName) {
                    a = d.childNodes[f];
                    break;
                }
            a && a.style.setProperty("max-width", e + "px", "important");
        },
        _bindEvents: function () {
            var a, b = /^(\S+)\s(.+)$/;
            for (var c in this.events)
                this.events.hasOwnProperty(c) && (a = b.exec(c), a && a.length > 2 && this._addEventListener(a[2], a[1], this.events[c]));
        },
        _getElementById: function (a) {
            return document.getElementById(this._randomizer.randomize(a));
        },
        _querySelectorAll: function (a) {
            return document.querySelectorAll(this._randomizer.randomize(a));
        },
        _addEventListener: function (a, b, c) {
            if ("function" == typeof this[c] && (a = "window" === a && [window] || "string" == typeof a && this._querySelectorAll(a) || a)) {
                var d = this[c].bind(this);
                if (a && a[0] == window)
                    window.addEventListener(b, d, !1);
                else
                    for (var e = 0; e < a.length; e++)
                        a[e].addEventListener ? a[e].addEventListener(b, d, !1) : a[e].attachEvent && a[e].attachEvent("on" + b, d);
            }
        },
        hidePopup: function () {
            this.el.style.setProperty("display", "none", "important");
            var a = document.documentElement.getAttribute("mbr-initial-margin-top") || 0;
            document.documentElement.style.removeProperty("margin-top"), document.documentElement.style.marginTop = a + "px";
            var b = document.documentElement.getAttribute("mbr-initial-position") || "";
            document.documentElement.style.position = b;
        },
        _toggleInfo: function (a) {
            var b = this._getElementById(this.ids.popoverInfo), c = "block" === b.style.display;
            return this._hidePopovers(), b.style.display = c ? "none" : "block", c || (mbr.hub.trigger("pricebar:showInfoPopup", this.type), mbr.hub.trigger("pricebar:click", this.type, !1, "FeedbackButton")), a.stopPropagation(), !1;
        },
        _toggleSettings: function (a) {
            var b = this._getElementById(this.ids.popoverSettings), c = "block" === b.style.display;
            return this._hidePopovers(), b.style.display = c ? "none" : "block", c || (mbr.hub.trigger("pricebar:showSettingsPopup", this.type), mbr.hub.trigger("pricebar:click", this.type, !1, "SettingsButton")), a.stopPropagation(), !1;
        },
        _getShopsPopover: function () {
            return this._getElementById(this.ids.popoverShops) || this._getElementById(this.ids.popoverClothes);
        },
        _toggleShops: function (a) {
            var b = this._getShopsPopover();
            if (b) {
                var c = this._isShopsPopupVisible();
                return this._hidePopovers(), c ? this._hideShopsPopup() : this._showShopsPopup(), a && a.stopPropagation(), !1;
            }
        },
        _showShopsPopup: function () {
            if (!this._isShopsPopupVisible() && !this._isSomePopupVisible() && -1 === this.el.className.indexOf(this._randomizer.randomize(this.classes.offerShown))) {
                this._hidePopovers();
                var a = this._getShopsPopover();
                a && (this.el.className += " " + this._randomizer.randomize(this.classes.shoplist), mbr.hub.trigger("shop:openList", !!this.data.shops), this.data.popupsImages && (this.data.popupsImages.forEach(function (a) {
                    var b = document.createElement("img");
                    b.src = a, b.width = 1, b.height = 1, b.style.position = "absolute", b.style.bottom = 0, b.style.right = 0, b.style.visibility = "hidden", b.style.zIndex = 0, this.el.appendChild(b);
                }, this), this.data.popupsImages = null));
            }
        },
        _hideShopsPopup: function () {
            this._showShopsTimeout = null;
            var a = this._getShopsPopover();
            a && (this.el.className = this.el.className.replace(" " + this._randomizer.randomize(this.classes.shoplist), ""));
        },
        _isShopsPopupVisible: function () {
            return this._getShopsPopover() && this.el.className.indexOf(this._randomizer.randomize(this.classes.shoplist)) > -1;
        },
        _isSomePopupVisible: function () {
            var a = this._getElementById(this.ids.popoverInfo), b = this._getElementById(this.ids.popoverSettings);
            return this._isShopsPopupVisible() || a && "none" !== a.style.display || b && "none" !== b.style.display || this.el.className.indexOf(this._randomizer.randomize(this.classes.offerShown)) > -1;
        },
        _acceptOffer: function (a) {
            return mbr.hub.trigger("pricebar:optInAccept", this.data.showOfferInvert, this.type), this.data.comparePopup || mbr.hub.trigger("pricebar:show", this.type), mbr.storage.set("mbr.offerAccepted", !0).then(function () {
                this._offerAccepted = !0, mbr.hub.trigger("script:offer", !0), this.el.className = this.el.className.replace(this._randomizer.randomize(this.classes.offerShown), "");
            }.bind(this)), this._openUrl(null, !0), a.stopPropagation(), !1;
        },
        _declineOffer: function (a) {
            return mbr.hub.trigger("pricebar:optInDecline", this.data.showOfferInvert, this.type), mbr.storage.set("mbr.offerAccepted", !1).then(function () {
                this.hidePopup(), mbr.hub.trigger("script:offer", !1);
            }.bind(this)), a.stopPropagation(), !1;
        },
        _closePopup: function (a) {
            return mbr.hub.trigger("pricebar:close", this.type), this.hidePopup(), "avia" === this.type && mbr.cookie.set("flights_context_not_show", !0, null, "/"), a.stopPropagation(), !1;
        },
        _openUrl: function (a, b) {
            if (!this.data.showOffer || this._offerAccepted || b)
                if (this.data.comparePopup)
                    this._showShopsPopup(), this._showShopsTimeout = null;
                else {
                    var c = !1;
                    if (a) {
                        var d = a.srcElement || a.target;
                        c = d.className === this._randomizer.randomize(this.classes.buttonGo);
                    }
                    mbr.hub.trigger("pricebar:click", this.type, c, this.type), window.open(this.data.url), b || (this._showShopsPopup(), this._showShopsTimeout = null);
                }
            else {
                var e = this._getElementById(this.ids.offerYesButton), f = this._randomizer.randomize(" pb-btn-attention");
                e.className += f, setTimeout(function () {
                    e.className = e.className.replace(f, "");
                }, 300);
            }
            return a && a.stopPropagation(), !1;
        },
        _toggleDisallowDomain: function (a) {
            this._getElementById(this.ids.checkboxDoNotShow);
            return this.domainDisallowed = !this.domainDisallowed, mbr.storage.set(mbr.tools.getHostname(document), this.domainDisallowed), this.domainDisallowed && mbr.hub.trigger("pricebar:disallowDomain", this.type), a.stopPropagation(), !1;
        },
        hideWelcomePopover: function (a) {
            var b = this._getElementById(this.ids.welcomePopover);
            return b.className = b.className.replace(this._randomizer.randomize("pb-sitebar-welcome"), ""), a.stopPropagation(), !1;
        },
        _hidePopovers: function (a) {
            var b = this._getElementById(this.ids.popoverInfo);
            b.style.display = "none";
            var c = this._getElementById(this.ids.popoverSettings);
            c.style.display = "none";
            var d = this._getShopsPopover();
            d && (this.el.className = this.el.className.replace(" " + this._randomizer.randomize(this.classes.shoplist), ""));
            var e = this._getElementById(this.ids.popoverThanks);
            e && (e.style.display = "none");
            var f = this._getElementById(this.ids.formError);
            f && (f.className = f.className.replace(/form-error-shown/g, ""));
            var g = a && (a.target || a.srcElement);
            g && g.parentNode && g.parentNode === d && mbr.hub.trigger("shop:closeButtonClicked", !!this.data.shops);
        },
        _onBodyClick: function () {
            this._hidePopovers();
        },
        _shopOpened: function (a) {
            for (var b = a.target || a.srcElement; !b.className || -1 === b.className.indexOf(this._randomizer.randomize("shop-url"));)
                b = b.parentNode;
            mbr.hub.trigger("shop:opened", b.getAttribute("data-type-shop"), b.getAttribute("data-type-offer"), !!this.data.shops), a.stopPropagation();
        },
        _initShowShops: function (a) {
            a.srcElement || a.target;
            this.data.autoShowShopList && !this._showingShopsPrevented && (this._hideShopsTimeout && (clearTimeout(this._hideShopsTimeout), this._hideShopsTimeout = null), this._showShopsTimeout = setTimeout(function () {
                this._showShopsPopup();
            }.bind(this), 0));
        },
        _cancelHideShops: function () {
            this._hideShopsTimeout && clearTimeout(this._hideShopsTimeout);
        },
        _cancelShowShops: function () {
            this.data.autoShowShopList && this._showShopsTimeout && (clearTimeout(this._showShopsTimeout), this._showShopsTimeout = null, this._isShopsPopupVisible() && (this._hideShopsTimeout = setTimeout(function () {
                this._isShopsPopupVisible() && this._hideShopsPopup();
            }.bind(this), 1000)));
        },
        _onPopoverClick: function (a) {
            return a.stopPropagation(), !1;
        },
        _sendError: function (a) {
            var b = a.srcElement || a.target;
            if (b) {
                var c = {
                    isAvito: this.data.isAvito,
                    isDefaultScript: this.data.isDefaultScript,
                    isMbrApplication: this.data.isMbrApplication,
                    appName: this.data.appName,
                    showOffer: this.data.showOffer,
                    showOfferInvert: this.data.showOfferInvert,
                    autoShowShopList: this.data.autoShowShopList,
                    viewModificators: this.data.viewModificators,
                    customLogo: this.data.customLogo
                };
                if (b.className.indexOf(this._randomizer.randomize("high-price")) > -1)
                    if (this.data.bestOffers || this.data.isAvito) {
                        var d = b.nextSibling;
                        d && (d.style.display = d.style.display ? "" : "block");
                    } else
                        mbr.feedback.trackHighPrice(document.URL, this.data.productName || this.data.routeText, this.data.priceText, this.extractMethod, this.serverResponse, this.original, c), this._showPopoverThanks();
                else if (b.className.indexOf(this._randomizer.randomize("wrong-product")) > -1)
                    mbr.feedback.trackWrongProduct(document.URL, this.data.productName || this.data.routeText, this.data.priceText, this.extractMethod, this.serverResponse, this.original, c), this._showPopoverThanks();
                else if (b.className.indexOf(this._randomizer.randomize("unknown-error")) > -1) {
                    var e = b.nextSibling;
                    e.className += " error-shown", e.getElementsByTagName("textarea")[0].focus();
                } else if (b.className.indexOf(this._randomizer.randomize("form-feedback")) > -1) {
                    var f = b.getElementsByTagName("textarea")[0];
                    f.value ? (mbr.feedback.trackUnknownError(f.value, document.URL, this.data.productName || this.data.routeText, this.data.priceText, this.extractMethod, this.serverResponse, this.original, c), this._showPopoverThanks(), f.value = "") : f.focus();
                } else
                    b.className.indexOf(this._randomizer.randomize("wrong-region")) > -1 && (d = b.nextSibling, d && (d.style.display = d.style.display ? "" : "block"));
            }
            a.preventDefault(), a.stopPropagation();
        },
        _showPopoverThanks: function () {
            this._hidePopovers();
            var a = this._getElementById(this.ids.popoverThanks);
            a && (a.style.display = "block", setTimeout(function () {
                a && "block" === a.style.display && (a.style.display = "none");
            }, 5000));
        },
        _preventShowShops: function () {
            this._showingShopsPrevented = !0;
        },
        _stopPreventingShowShops: function () {
            this._showingShopsPrevented = !1;
        },
        _carouselControlClick: function (a) {
            var b = a.srcElement || a.target, c = this._randomizer.randomize(this.classes.carouselDisabled);
            if (b && -1 === b.className.indexOf(c)) {
                var d = this._getElementById(this.ids.clothesCarousel);
                if (d) {
                    var e = b.className.indexOf(this._randomizer.randomize(this.classes.carouselPrev)) > -1 ? "0px" : "-100%";
                    d.style.left = e;
                    var f = document.querySelectorAll(this._randomizer.randomize("." + this.classes.clothesCarouselControl));
                    [].slice.call(f).forEach(function (a) {
                        a.className = a.className.replace(c, "");
                    }), b.className += " " + c;
                }
            }
        },
        _startPricebarHighlighting: function () {
            var a = [];
            mbr.view.nameElement && a.push(mbr.view.nameElement), mbr.view.priceElement && a.push(mbr.view.priceElement), this._addEventListener(a, "mouseenter", "_highlightPricebar"), this._addEventListener(a, "mouseleave", "_normalizePricebar");
        },
        _highlightPricebar: function () {
            this.el.className += " hover";
        },
        _normalizePricebar: function () {
            this.el.className = this.el.className.replace(/\shover/g, "");
        },
        onScroll: function () {
            var a = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight), b = window.pageYOffset;
            if (!b) {
                var c = document.documentElement.clientHeight ? document.documentElement : document.body;
                b = c.scrollTop || 0;
            }
            b / a * 100 > mbr.settings.getScrollPosition() && (mbr.log("try render popup after scroll"), this._render(), window.removeEventListener ? window.removeEventListener("scroll", this.onScroll) : window.detachEvent && window.detachEvent("onscroll", this.onScroll));
        }
    };
    mbr.PriceBar = mbr.PriceBar || function (a, b, c) {
        return pricebar.clean(), pricebar.init(a, b, c);
    }, mbr.PriceBar = function (a, b, c) {
        return mbr.hub.on("pricebar:render", function () {
            setTimeout(addSettingsClickHandler, 1000);
        }), pricebar.clean(), pricebar.init(a, b, c);
    }, mbr.view = mbr.view || {
        _onProductOfferFound: function (a) {
            mbr.pricebar = mbr.pricebar || new mbr.PriceBar("product", a);
        },
        _onAviaFound: function (a) {
            mbr.pricebar = mbr.pricebar || new mbr.PriceBar("avia", a);
        },
        init: function () {
            mbr.hub.on("suggest:productOfferFound", this._onProductOfferFound, null, this), mbr.hub.on("suggest:aviaFound", this._onAviaFound, null, this), mbr.hub.on("productPrice:found", function (a) {
                mbr.view.priceElement = a;
            }), mbr.hub.on("productName:found", function (a) {
                mbr.view.nameElement = a;
            });
        }
    }, mbr.require = {
        _getScript: function (a, b) {
            mbr.xhr.get(b, {}, function (b) {
                this._evalScript(a, b);
            }.bind(this));
        },
        _evalScript: function (name, script) {
            if (script) {
                var exports = {}, module = { exports: exports };
                eval(script), mbr[name] = exports[name] || module.exports[name] || module.exports || exports, this._runNext();
            } else
                this._errorCallback();
        },
        _runNext: function () {
            if (0 === this._scripts.length)
                this._successCallback();
            else {
                var a = this._scripts.shift();
                this._require(a.name, a.url);
            }
        },
        _require: function (a, b) {
            a in mbr ? this._successCallback() : this._getScript(a, b);
        },
        requireAll: function (a, b, c) {
            var d = "", e = mbr.tools.getPriceContextElement();
            e && e.src && (d = e.src.replace(/[^\/]+$/, "")), this._scripts = a, this._successCallback = b, this._errorCallback = c, this._runNext();
        }
    };
    var started = !1;
    mbr.require.requireAll([
        {
            name: "Mustache",
            path: "mustache.js"
        },
        {
            name: "Mediator",
            path: "mediator.js"
        },
        {
            name: "Promise",
            path: "promiscuous.js"
        }
    ], function () {
        "complete" === window.document.readyState || "interactive" === window.document.readyState ? start() : window.document.addEventListener ? (window.document.addEventListener("DOMContentLoaded", start, !1), window.addEventListener("load", start, !1)) : document.attachEvent && window.attachEvent("onload", start);
    }, function () {
        mbr.log("error of loading module");
    });
}(function () {
    return window.RegExp ? window : Function("return this")();
}());
</script><link href="RPubs%20-%20Reproducible%20research%20course%20project%202_files/loading.css" rel="stylesheet"><script charset="UTF-8" async="" src="RPubs%20-%20Reproducible%20research%20course%20project%202_files/alfie.js"></script></head>
<body class="show-pub show-toolbars">
<div class="modal fade" id="login" style="display: none">
<div class="modal-header">
<h1>Sign In</h1>
</div>
<div class="modal-body">
<div class="alert" id="login_message" style="display: none"></div>
<form accept-charset="UTF-8" action="/auth/login" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" value="✓" type="hidden"><input name="authenticity_token" value="B5v4m1WnhegfbAAiKzh3/3GUcz55WO4R+doZ5hUCOVE=" type="hidden"></div>
<input name="return_url" type="hidden">
<div class="fieldset">
<div class="control-group">
<label class="control-label" for="login_username">Username or Email</label>
<div class="controls">
<input class="input-xlarge" id="login_username" name="username" type="text">
</div>
</div>
<div class="control-group">
<label class="control-label" for="login_password">Password</label>
<div class="controls">
<input class="input-xlarge" id="login_password" name="password" type="password">
</div>
</div>
</div>
</form>


</div>
<div class="modal-footer">
<button class="btn btn-primary" id="login-modal-submit">Sign In</button>
<button class="btn" id="login-modal-cancel">Cancel</button>
</div>
</div>
<div class="navbar-inner" id="pageheader">
<div id="branding">
<h1 id="logo">
<a href="http://rpubs.com/"><span id="R">R</span>Pubs
</a>
</h1>
<span id="tagline">brought to you by RStudio</span>
</div>
<div id="identity">
<div class="btn-group">
<a class="btn btn-inverse btn-small pull-right" href="#" onclick="rpubs_showLogin(); return false">
Sign in
</a>
<a class="btn btn-inverse btn-small pull-right" href="http://rpubs.com/users/new">
Register
</a>
</div>
</div>
</div>
<div id="pagebody">
<div style="" id="payload">
<iframe style="" src="RPubs%20-%20Reproducible%20research%20course%20project%202_files/64502_02e27d78f3f44c30b0cf53def3f5821c.htm"></iframe>
<button class="btn btn-tiny" id="btn-show-toolbars">
<i class="icon-resize-small"></i>
</button>
</div>
<div class="navbar navbar-fixed-bottom" id="pagefooter">
<div class="navbar-inner">
<div class="container-fluid">
<ul class="nav" id="pubmeta">
<li id="pubtitle">
<label>Reproducible research course project 2</label>
</li>
<li id="pubauthor">
<a href="http://rpubs.com/iorlov">by ilya orlov</a>
</li>
<li id="pubtime">
<label>
Last updated
<time datetime="2015-03-09T17:52:17+00:00">about 1 month ago</time>
</label>
</li>
</ul>
<ul class="nav pull-right">
<li>
<button class="btn btn-small btn-success" id="btn-comments">
<i class="icon-comment icon-white"></i>
<span id="comment-verb-hide">
Hide
</span>
Comments
<span id="comment-count">
(–)
</span>
</button>
<button class="btn btn-small btn-info" id="btn-share">
<i class="icon-share icon-white"></i>
Share
</button>
<button class="btn btn-small btn-inverse" id="btn-hide-toolbars">
Hide Toolbars
</button>
</li>
</ul>
</div>
</div>
</div>
<div class="modal fade hide" id="modal-share">
<div class="modal-body">
<btn class="close" data-dismiss="modal" type="button">×</btn>
<h2 class="first">Post on:</h2>
<p>
<a class="btn btn-primary btn-large" href="https://twitter.com/intent/tweet?original_referer=http%3A%2F%2Frpubs.com%2Fiorlov%2F64502&amp;source=tweetbutton&amp;text=Reproducible%20research%20course%20project%202&amp;url=http%3A%2F%2Frpubs.com%2Fiorlov%2F64502" onclick="window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=275,width=660');return false;">
Twitter
</a>
<a class="btn btn-primary btn-large" href="https://www.facebook.com/sharer.php?u=http%3A%2F%2Frpubs.com%2Fiorlov%2F64502&amp;t=Reproducible%20research%20course%20project%202" onclick="window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=350,width=660');return false;">
Facebook
</a>
<a class="btn btn-primary btn-large" href="https://plus.google.com/share?url=http%3A%2F%2Frpubs.com%2Fiorlov%2F64502" onclick="window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">
Google+
</a>
</p>
<hr>
<h3>Or copy &amp; paste this link into an email or IM:</h3>
<input onclick="this.select()" readonly="readonly" value="http://rpubs.com/iorlov/64502">
</div>
</div>
<script>
  $('#btn-edit').click(function() {
    location.href = "/iorlov/64502/edit";
  });
  $('#btn-delete').mouseover(function() {
    $('#btn-delete').removeClass('btn-inverse').addClass('btn-danger');
  });
  $('#btn-delete').mouseout(function() {
    $('#btn-delete').addClass('btn-inverse').removeClass('btn-danger');
  });
  $('#btn-hide-toolbars').click(function() {
    $(document.body).addClass('hide-toolbars');
    $(document.body).removeClass('show-toolbars');
  });
  $('#btn-show-toolbars').click(function() {
    $(document.body).addClass('show-toolbars');
    $(document.body).removeClass('hide-toolbars');
  });
  $('#btn-share').click(function() {
    $('#modal-share').modal().css({
      'margin-left': function () {
        return -($(this).width() / 2);
      }
    });
  });
  $('#btn-comments').click(function() {
    $(document.body).toggleClass('show-comments');
  });
  setInterval(function() {
    // Poll for comment count. Barf.
    var text = $('#dsq-num-posts').text();
    if (text && /^\d+$/.test(text))
      $('#comment-count').text('(' + text + ')');
  }, 1000);
</script>
<div id="comment-wrapper">
<div id="disqus_thread"><iframe verticalscrolling="no" horizontalscrolling="no" src="RPubs%20-%20Reproducible%20research%20course%20project%202_files/a.htm" style="width: 100% ! important; border: medium none ! important; overflow: hidden ! important; height: 1465px ! important;" title="Disqus" tabindex="0" scrolling="no" allowtransparency="true" data-disqus-uid="2" id="dsq-2" frameborder="0" width="100%"></iframe></div>
</div>

</div>


</body></html>